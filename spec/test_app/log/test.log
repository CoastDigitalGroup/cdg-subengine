  [1m[36m (7.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (6.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateThings (20140428155742)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "things" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "account_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140428155742"]]
  [1m[35m (7.1ms)[0m  commit transaction
Migrating to CreateMtdeviseAccounts (20150426071228)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "mtdevise_accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150426071228"]]
  [1m[35m (5.0ms)[0m  commit transaction
Migrating to AddOwnerIdToMtdeviseAccounts (20150426115631)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_accounts" ADD "owner_id" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150426115631"]]
  [1m[35m (6.2ms)[0m  commit transaction
Migrating to CreateMtdeviseUsers (20150426115910)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "mtdevise_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "password_digest" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150426115910"]]
  [1m[35m (5.0ms)[0m  commit transaction
Migrating to AddDeviseToMtdeviseUsers (20150426143800)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_users" ADD "encrypted_password" varchar DEFAULT '' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "reset_password_token" varchar[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "mtdevise_users" ADD "reset_password_sent_at" datetime
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "remember_created_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "mtdevise_users" ADD "sign_in_count" integer DEFAULT 0 NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "current_sign_in_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "mtdevise_users" ADD "last_sign_in_at" datetime
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "current_sign_in_ip" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "mtdevise_users" ADD "last_sign_in_ip" varchar
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "index_mtdevise_users_on_email" ON "mtdevise_users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_mtdevise_users_on_reset_password_token" ON "mtdevise_users" ("reset_password_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150426143800"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSubdomainToMtdeviseAccounts (20150427200506)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "mtdevise_accounts" ADD "subdomain" varchar[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_mtdevise_accounts_on_subdomain" ON "mtdevise_accounts" ("subdomain")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150427200506"]]
  [1m[35m (6.4ms)[0m  commit transaction
Migrating to CreateMtdeviseMembers (20150428110406)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "mtdevise_members" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "account_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150428110406"]]
  [1m[35m (6.9ms)[0m  commit transaction
Migrating to AddConfirmedAtToUsers (20150504181830)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "mtdevise_users" ADD "confirmed_at" datetime
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "confirmation_token" varchar[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_users" ADD "confirmation_sent_at" datetime
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "mtdevise_users" ADD "unconfirmed_email" varchar[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150504181830"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
Migrating to RolifyCreateRoles (20150604101617)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "mtdevise_roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "resource_id" integer, "resource_type" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "mtdevise_users_mtdevise_roles" ("user_id" integer, "role_id" integer) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_mtdevise_roles_on_name" ON "mtdevise_roles" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_mtdevise_roles_on_name_and_resource_type_and_resourc" ON "mtdevise_roles" ("name", "resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_mtdevise_users_mtdevise_roles_on_user_id_and_role_id" ON "mtdevise_users_mtdevise_roles" ("user_id", "role_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150604101617"]]
  [1m[35m (7.2ms)[0m  commit transaction
Migrating to AddAuthenticationTokenToMtdeviseUsers (20150719125100)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "mtdevise_users" ADD "authentication_token" varchar
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_mtdevise_users_on_authentication_token" ON "mtdevise_users" ("authentication_token")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150719125100"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_accounts_on_subdomain' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_accounts_on_subdomain' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_roles_on_name_and_resource_type_and_resourc' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_roles_on_name_and_resource_type_and_resourc' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_roles_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_authentication_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_authentication_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_mtdevise_users_mtdevise_roles_on_user_id_and_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_mtdevise_users_mtdevise_roles_on_user_id_and_role_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "aznMC1ttysfDRQ-csB3C"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$rtouo7VgeQS2zZRRqs5YzeH2avFNdv05tvjI5ZGWp.VJCMTOI.doa"], ["confirmed_at", "2015-10-24 22:34:49.835090"], ["authentication_token", "aznMC1ttysfDRQ-csB3C"], ["created_at", "2015-10-24 22:34:49.853828"], ["updated_at", "2015-10-24 22:34:49.853828"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:49.909935"], ["updated_at", "2015-10-24 22:34:49.909935"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:49.941343"], ["updated_at", "2015-10-24 22:34:49.941343"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (50.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 6599ms (Views: 6585.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:56.576950"], ["current_sign_in_at", "2015-10-24 22:34:56.576950"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:56.577886"], ["id", 1]]
  [1m[35m (9.7ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 31ms (ActiveRecord: 10.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.9ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "6PMKx-xCJ28TyeFq3ysj"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$HbvNWhrGDB4YomJjBFEKceTqqwA1Rjc2LQci97O4bz1CgbL3yFbM."], ["confirmed_at", "2015-10-24 22:34:56.922161"], ["authentication_token", "6PMKx-xCJ28TyeFq3ysj"], ["created_at", "2015-10-24 22:34:56.924739"], ["updated_at", "2015-10-24 22:34:56.924739"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:56.945343"], ["current_sign_in_at", "2015-10-24 22:34:56.945343"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:56.946132"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (8.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "UgSzFn6rKtrRAQj4yGHy"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$GQ8UcEB7j0nhr73ojONxou1cjX1UsShthtt.saYAlCen.OZpiqkG2"], ["confirmed_at", "2015-10-24 22:34:57.082589"], ["authentication_token", "UgSzFn6rKtrRAQj4yGHy"], ["created_at", "2015-10-24 22:34:57.084770"], ["updated_at", "2015-10-24 22:34:57.084770"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.095914"], ["updated_at", "2015-10-24 22:34:57.095914"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.105513"], ["updated_at", "2015-10-24 22:34:57.105513"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:57.128130"], ["current_sign_in_at", "2015-10-24 22:34:57.128130"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.128845"], ["id", 1]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-10-24 22:34:57.158601"], ["updated_at", "2015-10-24 22:34:57.158601"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.169918"], ["updated_at", "2015-10-24 22:34:57.169918"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?[0m  [["owner_id", 1], ["updated_at", "2015-10-24 22:34:57.178306"], ["id", 2]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-10-24 22:34:57.197271"], ["updated_at", "2015-10-24 22:34:57.197271"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 69ms (ActiveRecord: 35.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (6.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "RV5PzeeTfAahMjyLNvw-"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$2ma1CIccO9I2HpYTBElW.OsFnfXkBRQ.3a2IEtRnBqJeKhMIeSBo6"], ["confirmed_at", "2015-10-24 22:34:57.305829"], ["authentication_token", "RV5PzeeTfAahMjyLNvw-"], ["created_at", "2015-10-24 22:34:57.308269"], ["updated_at", "2015-10-24 22:34:57.308269"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.318742"], ["updated_at", "2015-10-24 22:34:57.318742"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.328109"], ["updated_at", "2015-10-24 22:34:57.328109"]]
  [1m[35m (6.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test5@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:57.351719"], ["current_sign_in_at", "2015-10-24 22:34:57.351719"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.352448"], ["id", 1]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.2ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.3ms | ActiveRecord: 0.7ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "A9D6yhbGzkz7x7RmzM8H"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$ibbO.eyHGkd4m5grYv2d8enzmb7bJIsIAbRLasbY3XiZW.J21NtKC"], ["confirmed_at", "2015-10-24 22:34:57.508608"], ["authentication_token", "A9D6yhbGzkz7x7RmzM8H"], ["created_at", "2015-10-24 22:34:57.510802"], ["updated_at", "2015-10-24 22:34:57.510802"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.520805"], ["updated_at", "2015-10-24 22:34:57.520805"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.528843"], ["updated_at", "2015-10-24 22:34:57.528843"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test7@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:57.551044"], ["current_sign_in_at", "2015-10-24 22:34:57.551044"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.551742"], ["id", 1]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.6ms)
  [1m[35m (9.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "WuUjRsjXs8Y2HDaHp95C"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$CfPvUgi1RzkyR6RIGH7KsO4gh1gcKsWaHkSAzxsJk9xNhMFn2UMfe"], ["confirmed_at", "2015-10-24 22:34:57.660287"], ["authentication_token", "WuUjRsjXs8Y2HDaHp95C"], ["created_at", "2015-10-24 22:34:57.662395"], ["updated_at", "2015-10-24 22:34:57.662395"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.672388"], ["updated_at", "2015-10-24 22:34:57.672388"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.681546"], ["updated_at", "2015-10-24 22:34:57.681546"]]
  [1m[35m (5.6ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test9@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:57.704237"], ["current_sign_in_at", "2015-10-24 22:34:57.704237"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:57.704920"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test5"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 0.6ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "XpWJsGdLzAdoxexyfUPm"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$cN4zC63D0o5ytSUKPxfxW.YtxpUMK/BP7ls66nuQ5HiBB7olVoQ4O"], ["confirmed_at", "2015-10-24 22:34:57.852850"], ["authentication_token", "XpWJsGdLzAdoxexyfUPm"], ["created_at", "2015-10-24 22:34:57.855185"], ["updated_at", "2015-10-24 22:34:57.855185"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.866973"], ["updated_at", "2015-10-24 22:34:57.866973"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.876721"], ["updated_at", "2015-10-24 22:34:57.876721"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test11@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "ZpsMzA3hzm9ynG_d8Pwy"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$r00wWrfGfCLoVfu12gKQZOqnW8SpvzVzhPWMfopYUWDcUpiKKUm.K"], ["confirmed_at", "2015-10-24 22:34:57.975098"], ["authentication_token", "ZpsMzA3hzm9ynG_d8Pwy"], ["created_at", "2015-10-24 22:34:57.977108"], ["updated_at", "2015-10-24 22:34:57.977108"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:57.985842"], ["updated_at", "2015-10-24 22:34:57.985842"]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:57.994182"], ["updated_at", "2015-10-24 22:34:57.994182"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test12@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:58.016316"], ["current_sign_in_at", "2015-10-24 22:34:58.016316"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:58.017022"], ["id", 1]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zRxRbmgZRPRRRy3jM193"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$.O/mvw7mfEzhUEZVaUHPTuNKfgY.oLItpouSAxG12Ci8sCxt/gUxW"], ["confirmed_at", "2015-10-24 22:34:58.178176"], ["authentication_token", "zRxRbmgZRPRRRy3jM193"], ["created_at", "2015-10-24 22:34:58.180609"], ["updated_at", "2015-10-24 22:34:58.180609"]]
  [1m[35m (5.5ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:58.201531"], ["current_sign_in_at", "2015-10-24 22:34:58.201531"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:58.202208"], ["id", 1]]
  [1m[35m (8.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35m (5.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "rs5ge6oC4z181_WRsy5u"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$iB8zyWfomuWo8fUBO8Lx..WXOiPpLkINQZNnz.QqYdV7SvP2Eol7m"], ["confirmed_at", "2015-10-24 22:34:58.357325"], ["authentication_token", "rs5ge6oC4z181_WRsy5u"], ["created_at", "2015-10-24 22:34:58.359323"], ["updated_at", "2015-10-24 22:34:58.359323"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:58.369802"], ["updated_at", "2015-10-24 22:34:58.369802"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:58.377558"], ["updated_at", "2015-10-24 22:34:58.377558"]]
  [1m[35m (5.3ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.8ms | ActiveRecord: 0.7ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "b4yRe2qBDus-3QbnrvYL"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "d31b57f0c5be7e8903cb36c56be461e15c44ce28036266cb3b0949f5754f7c74"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$bDOfZH3GjjlYSQaJ4ALzPOD2cviVa0dcdoqARfyl2xVrUmn5npRdm"], ["authentication_token", "b4yRe2qBDus-3QbnrvYL"], ["created_at", "2015-10-24 22:34:58.584348"], ["updated_at", "2015-10-24 22:34:58.584348"], ["confirmation_token", "Vxbn6kUaAHmXPgy6B-jJ"], ["confirmation_sent_at", "2015-10-24 22:34:58.764451"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 180.9ms

Sent mail to mtdevise@example.com (8.8ms)
Date: Sat, 24 Oct 2015 22:34:58 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <562c0792ea74b_4e5e106f32860855@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=Vxbn6kUaAHmXPgy6B-jJ">Confirm my account</a></p>
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:58.964360"], ["updated_at", "2015-10-24 22:34:58.964360"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:58.974299"], ["updated_at", "2015-10-24 22:34:58.974299"]]
  [1m[35m (9.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:34:58.984675"], ["updated_at", "2015-10-24 22:34:58.985139"], ["id", 1]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-10-24 22:34:58.995272"], ["updated_at", "2015-10-24 22:34:58.995272"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:59.014844"], ["current_sign_in_at", "2015-10-24 22:34:59.014844"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.015508"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://test.example.com/
Completed 302 Found in 446ms (ActiveRecord: 44.8ms)
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_header.html.erb (0.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (6.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-10-24 22:34:59.111075"], ["updated_at", "2015-10-24 22:34:59.111075"]]
  [1m[35m (6.6ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.9ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 6.3ms | ActiveRecord: 0.8ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "P93sUZWyYySGNgLr1kBC"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$0mIDtITtRHEOFjYdRy/PcuWYE263QtumPBTxGpNu1PY77wRRblOya"], ["confirmed_at", "2015-10-24 22:34:59.254678"], ["authentication_token", "P93sUZWyYySGNgLr1kBC"], ["created_at", "2015-10-24 22:34:59.257036"], ["updated_at", "2015-10-24 22:34:59.257036"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.266337"], ["updated_at", "2015-10-24 22:34:59.266337"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.276252"], ["updated_at", "2015-10-24 22:34:59.276252"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "myoLGWB-EysMRz2LBUm4"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$lMX46YqTX/2S9xkmBVwPLue.SCInmlq12pj3f1MoK58Sej.bN7dWS"], ["confirmed_at", "2015-10-24 22:34:59.285758"], ["authentication_token", "myoLGWB-EysMRz2LBUm4"], ["created_at", "2015-10-24 22:34:59.287827"], ["updated_at", "2015-10-24 22:34:59.287827"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 2], ["created_at", "2015-10-24 22:34:59.298739"], ["updated_at", "2015-10-24 22:34:59.298739"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-10-24 22:34:59.308080"], ["updated_at", "2015-10-24 22:34:59.308080"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-10-24 22:34:59.320661"], ["updated_at", "2015-10-24 22:34:59.320661"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-10-24 22:34:59.330264"], ["updated_at", "2015-10-24 22:34:59.330264"]]
  [1m[35m (5.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:59.352906"], ["current_sign_in_at", "2015-10-24 22:34:59.352906"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.353717"], ["id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.2ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 53ms (Views: 52.3ms | ActiveRecord: 0.2ms)
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "P8LP178z8kiTDfk382Yi"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$xvtVf1C6fue213575sMJ4.mTxFvKkGtSUgUGlS/AgYDFEQ32lbvqi"], ["confirmed_at", "2015-10-24 22:34:59.499344"], ["authentication_token", "P8LP178z8kiTDfk382Yi"], ["created_at", "2015-10-24 22:34:59.502015"], ["updated_at", "2015-10-24 22:34:59.502015"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.513377"], ["updated_at", "2015-10-24 22:34:59.513377"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.523586"], ["updated_at", "2015-10-24 22:34:59.523586"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "oMPdKCRcM_xYFx14adSy"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$IOF5Nv9oibHFEhm6tvVFX.yMq7TXWTYMDjIcybiGRCTTcLiKHCV5G"], ["confirmed_at", "2015-10-24 22:34:59.535424"], ["authentication_token", "oMPdKCRcM_xYFx14adSy"], ["created_at", "2015-10-24 22:34:59.537378"], ["updated_at", "2015-10-24 22:34:59.537378"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 2], ["created_at", "2015-10-24 22:34:59.546614"], ["updated_at", "2015-10-24 22:34:59.546614"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-10-24 22:34:59.556171"], ["updated_at", "2015-10-24 22:34:59.556171"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-10-24 22:34:59.564678"], ["updated_at", "2015-10-24 22:34:59.564678"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-10-24 22:34:59.572654"], ["updated_at", "2015-10-24 22:34:59.572654"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test19@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:34:59.596286"], ["current_sign_in_at", "2015-10-24 22:34:59.596286"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.596970"], ["id", 2]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-10-24 22:34:59 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zwighdLzmkmUzmrfieWG"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "8fa7eec2a6bec64cbb6e6e4a1bf7c472a91bc37601e4edb0a5030a6c4de9d275"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$UtiseZ4gqHCGcl7JzH5N/ezL60famQINWw7tbmMlAv5ukhNQSUBvO"], ["authentication_token", "zwighdLzmkmUzmrfieWG"], ["created_at", "2015-10-24 22:34:59.746905"], ["updated_at", "2015-10-24 22:34:59.746905"], ["confirmation_token", "S_LAzGsS_kv3szuEscXk"], ["confirmation_sent_at", "2015-10-24 22:34:59.747900"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to bb@gmail.com (2.7ms)
Date: Sat, 24 Oct 2015 22:34:59 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <562c0793b7b98_4e5e106f328609c3@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=S_LAzGsS_kv3szuEscXk">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.754107"], ["updated_at", "2015-10-24 22:34:59.754107"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.764733"], ["updated_at", "2015-10-24 22:34:59.764733"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:34:59.771345"], ["updated_at", "2015-10-24 22:34:59.771835"], ["id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-10-24 22:34:59.782338"], ["updated_at", "2015-10-24 22:34:59.782338"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:59.802779"], ["current_sign_in_at", "2015-10-24 22:34:59.802779"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.803304"], ["id", 1]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 72ms (ActiveRecord: 44.1ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "9qmRWw3MPWjuSQosnz_s"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "306eccfc1003a43297d091db7c242ce69c4216f5655874fc089af5ae251fae29"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$Op.BJUt5G4XT9FZSaqtAE.sUhmYytdbl7lxypTnHQEkcZOireNzTG"], ["authentication_token", "9qmRWw3MPWjuSQosnz_s"], ["created_at", "2015-10-24 22:34:59.889089"], ["updated_at", "2015-10-24 22:34:59.889089"], ["confirmation_token", "UbtckKZ3QCd4Rn5jrkjs"], ["confirmation_sent_at", "2015-10-24 22:34:59.889942"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to bb@gmail.com (2.8ms)
Date: Sat, 24 Oct 2015 22:34:59 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <562c0793da652_4e5e106f32861072@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=UbtckKZ3QCd4Rn5jrkjs">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-10-24 22:34:59.896278"], ["updated_at", "2015-10-24 22:34:59.896278"]]
  [1m[36m (9.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:34:59.908695"], ["updated_at", "2015-10-24 22:34:59.908695"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:34:59.916652"], ["updated_at", "2015-10-24 22:34:59.917095"], ["id", 1]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-10-24 22:34:59.926523"], ["updated_at", "2015-10-24 22:34:59.926523"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-10-24 22:34:59.947351"], ["current_sign_in_at", "2015-10-24 22:34:59.947351"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:34:59.947866"], ["id", 1]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 73ms (ActiveRecord: 46.5ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (10.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "1ZyfBUoZysih-vzKpcVb"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "7d1f777c6c4b125cde5c2c05cceef87e805106aa65bcf0d326ba3bb78498e1cb"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$rXyN4xWiTrLKPA16NhHsNueYLcETr6jonvUFkON13N/RGJ/FQfxWS"], ["authentication_token", "1ZyfBUoZysih-vzKpcVb"], ["created_at", "2015-10-24 22:35:00.171107"], ["updated_at", "2015-10-24 22:35:00.171107"], ["confirmation_token", "GFFFfLNUvDXBqk_g2rGK"], ["confirmation_sent_at", "2015-10-24 22:35:00.171848"]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to user@example.com (2.9ms)
Date: Sat, 24 Oct 2015 22:35:00 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <562c07942b12a_4e5e106f328611d6@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=GFFFfLNUvDXBqk_g2rGK">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.178190"], ["updated_at", "2015-10-24 22:35:00.178190"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.188146"], ["updated_at", "2015-10-24 22:35:00.188146"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-10-24 22:35:00.195807"], ["updated_at", "2015-10-24 22:35:00.196252"], ["id", 1]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "_2zbbXTjFyyTx7eihpb2"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$sniYaFCraYqG9szNC1aEFeWc8lkkfqcXmLFyDESe3oLrqrl3UYtCa"], ["confirmed_at", "2015-10-24 22:35:00.408249"], ["authentication_token", "_2zbbXTjFyyTx7eihpb2"], ["created_at", "2015-10-24 22:35:00.410579"], ["updated_at", "2015-10-24 22:35:00.410579"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.420767"], ["updated_at", "2015-10-24 22:35:00.420767"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.428845"], ["updated_at", "2015-10-24 22:35:00.428845"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "y814JDQEBvbPyCZxYfFG"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$Y/MEx97bq3SviW1g4RCw1O/1iK7nTF64qr.VuM/kByoCp2QOGuCuC"], ["confirmed_at", "2015-10-24 22:35:00.437307"], ["authentication_token", "y814JDQEBvbPyCZxYfFG"], ["created_at", "2015-10-24 22:35:00.439140"], ["updated_at", "2015-10-24 22:35:00.439140"]]
  [1m[35m (8.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 2], ["created_at", "2015-10-24 22:35:00.450784"], ["updated_at", "2015-10-24 22:35:00.450784"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-10-24 22:35:00.459950"], ["updated_at", "2015-10-24 22:35:00.459950"]]
  [1m[35m (6.6ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test13"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test22@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "dE9jy5JzpysyCBNXQLs8"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$popwlem0IGUPp6T7lh9n/uNE5kMtAykdaqZUfHVSE.zLJ5vyXpM92"], ["confirmed_at", "2015-10-24 22:35:00.559083"], ["authentication_token", "dE9jy5JzpysyCBNXQLs8"], ["created_at", "2015-10-24 22:35:00.561487"], ["updated_at", "2015-10-24 22:35:00.561487"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.570391"], ["updated_at", "2015-10-24 22:35:00.570391"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.579609"], ["updated_at", "2015-10-24 22:35:00.579609"]]
  [1m[35m (7.0ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test15"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.9ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test15"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test23@example.com"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-10-24 22:35:00.624367"], ["current_sign_in_at", "2015-10-24 22:35:00.624367"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-10-24 22:35:00.625750"], ["id", 1]]
  [1m[35m (7.0ms)[0m  commit transaction
Redirected to http://test15.example.com/
Completed 302 Found in 17ms (ActiveRecord: 7.7ms)
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_header.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "A3gqDyzFn5ZhNedbw1i3"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$zTDEASrGE1SxweF89DWr0ejZHsWiyERDtux.wPvRpn8JLbAGqMpJu"], ["confirmed_at", "2015-10-24 22:35:00.707012"], ["authentication_token", "A3gqDyzFn5ZhNedbw1i3"], ["created_at", "2015-10-24 22:35:00.709292"], ["updated_at", "2015-10-24 22:35:00.709292"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.720771"], ["updated_at", "2015-10-24 22:35:00.720771"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.728917"], ["updated_at", "2015-10-24 22:35:00.728917"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test16"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test16"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test16"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test16"]]
  [1m[35mMtdevise::User Load (1.5ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test24@example.com"]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 1.6ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.7ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "WHJw1dGzSXS6UpwTDNhQ"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test25@example.com"], ["encrypted_password", "$2a$04$J4HG7Bluwx3GvixOckucKOq2LvVLXEXQzWi67700n4iUpcbg9Ux96"], ["confirmed_at", "2015-10-24 22:35:00.831721"], ["authentication_token", "WHJw1dGzSXS6UpwTDNhQ"], ["created_at", "2015-10-24 22:35:00.834149"], ["updated_at", "2015-10-24 22:35:00.834149"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-10-24 22:35:00.844430"], ["updated_at", "2015-10-24 22:35:00.844430"]]
  [1m[35m (8.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-10-24 22:35:00.856030"], ["updated_at", "2015-10-24 22:35:00.856030"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test17"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test17"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-10-24 22:35:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test17"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test17"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "gymJsGTNqNnLQUzeq3yk"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$RkyS1ZALC3yxRuDyRvIBe.ne04FydL2cKO6SgxPIiq1Os5f7mn1CG"], ["confirmed_at", "2015-11-05 03:43:20.784742"], ["authentication_token", "gymJsGTNqNnLQUzeq3yk"], ["created_at", "2015-11-05 03:43:20.841186"], ["updated_at", "2015-11-05 03:43:20.841186"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:20.857330"], ["updated_at", "2015-11-05 03:43:20.857330"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:20.884653"], ["updated_at", "2015-11-05 03:43:20.884653"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test2@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "qNsUMsevPVTik9MqBtzs"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test2@example.com"], ["encrypted_password", "$2a$04$6R8anodKAKPHhyfdSoQAeegSnbYWF6wtCNVvg.5NyuHOgp9QqzyZa"], ["confirmed_at", "2015-11-05 03:43:20.893997"], ["authentication_token", "qNsUMsevPVTik9MqBtzs"], ["created_at", "2015-11-05 03:43:20.896056"], ["updated_at", "2015-11-05 03:43:20.896056"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 2], ["created_at", "2015-11-05 03:43:20.904761"], ["updated_at", "2015-11-05 03:43:20.904761"]]
  [1m[35m (9.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 03:43:20.916330"], ["updated_at", "2015-11-05 03:43:20.916330"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 03:43:20.925903"], ["updated_at", "2015-11-05 03:43:20.925903"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 03:43:20.933574"], ["updated_at", "2015-11-05 03:43:20.933574"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:20 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (53.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.7ms)
Completed 200 OK in 6135ms (Views: 6121.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:27.103314"], ["current_sign_in_at", "2015-11-05 03:43:27.103314"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.104198"], ["id", 2]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 27ms (ActiveRecord: 8.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.4ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test2"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 84ms (Views: 83.5ms | ActiveRecord: 0.1ms)
  [1m[35m (7.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "PgiJRg7BjP3NvMG-wex2"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$SBnMHS6JXkBs8.Enpnf7sO5d3aZd6tjcZYLcaOL.6f0uVyr.tvXOq"], ["confirmed_at", "2015-11-05 03:43:27.293216"], ["authentication_token", "PgiJRg7BjP3NvMG-wex2"], ["created_at", "2015-11-05 03:43:27.295701"], ["updated_at", "2015-11-05 03:43:27.295701"]]
  [1m[35m (10.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:27.309449"], ["updated_at", "2015-11-05 03:43:27.309449"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:27.317068"], ["updated_at", "2015-11-05 03:43:27.317068"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "TVsgeNXHxQPspbqu6W9r"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$Bw6VqMDNpgwucurrfIYx2ON220GGbb19W45NY1dL7hBf9Id6g/iw6"], ["confirmed_at", "2015-11-05 03:43:27.325220"], ["authentication_token", "TVsgeNXHxQPspbqu6W9r"], ["created_at", "2015-11-05 03:43:27.327044"], ["updated_at", "2015-11-05 03:43:27.327044"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 2], ["created_at", "2015-11-05 03:43:27.336612"], ["updated_at", "2015-11-05 03:43:27.336612"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 03:43:27.343934"], ["updated_at", "2015-11-05 03:43:27.343934"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 03:43:27.351756"], ["updated_at", "2015-11-05 03:43:27.351756"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 03:43:27.359795"], ["updated_at", "2015-11-05 03:43:27.359795"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test4@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:27.382294"], ["current_sign_in_at", "2015-11-05 03:43:27.382294"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.382957"], ["id", 1]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test3"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (8.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "aiev9u_ksWr3bvdrZ_91"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$M4wT7ICpjJBaH8oOkJ1KaOElhjsohaq5camYtNOgomVChntFpB44a"], ["confirmed_at", "2015-11-05 03:43:27.504636"], ["authentication_token", "aiev9u_ksWr3bvdrZ_91"], ["created_at", "2015-11-05 03:43:27.506916"], ["updated_at", "2015-11-05 03:43:27.506916"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:27.518121"], ["updated_at", "2015-11-05 03:43:27.518121"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:27.527238"], ["updated_at", "2015-11-05 03:43:27.527238"]]
  [1m[35m (6.4ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test7@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:27.591459"], ["current_sign_in_at", "2015-11-05 03:43:27.591459"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.592190"], ["id", 1]]
  [1m[35m (5.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
  [1m[36m (10.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "GzoPsmyi3ngs6EdjFXJX"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$uYH8/M5GZz2kJAPLzWAe1utEP59q92ejsh5zBKrJWE7..D4FzatFy"], ["confirmed_at", "2015-11-05 03:43:27.762075"], ["authentication_token", "GzoPsmyi3ngs6EdjFXJX"], ["created_at", "2015-11-05 03:43:27.764402"], ["updated_at", "2015-11-05 03:43:27.764402"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:27.784799"], ["current_sign_in_at", "2015-11-05 03:43:27.784799"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:27.785509"], ["id", 1]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:27 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "esJzHwenujg8Rx-458dj"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$YnKYkQ.R4KWvfGjWFvo1WejP5negHXpMLF2lMPrAO9L8jE1CuOqMO"], ["confirmed_at", "2015-11-05 03:43:28.008515"], ["authentication_token", "esJzHwenujg8Rx-458dj"], ["created_at", "2015-11-05 03:43:28.010727"], ["updated_at", "2015-11-05 03:43:28.010727"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.020686"], ["updated_at", "2015-11-05 03:43:28.020686"]]
  [1m[35m (9.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.032625"], ["updated_at", "2015-11-05 03:43:28.032625"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test9@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:28.052684"], ["current_sign_in_at", "2015-11-05 03:43:28.052684"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.053401"], ["id", 1]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wbAnB1NxtozBz4DcumeK"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$q6XZNWMzs0CtKJO.Y/Y0TucwyetxuX5zAr/TivI1.9l0kw.t.Gw66"], ["confirmed_at", "2015-11-05 03:43:28.154002"], ["authentication_token", "wbAnB1NxtozBz4DcumeK"], ["created_at", "2015-11-05 03:43:28.156297"], ["updated_at", "2015-11-05 03:43:28.156297"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.164965"], ["updated_at", "2015-11-05 03:43:28.164965"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.172523"], ["updated_at", "2015-11-05 03:43:28.172523"]]
  [1m[35m (4.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test11@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:28.193311"], ["current_sign_in_at", "2015-11-05 03:43:28.193311"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.193976"], ["id", 1]]
  [1m[35m (6.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-05 03:43:28.222542"], ["updated_at", "2015-11-05 03:43:28.222542"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.232894"], ["updated_at", "2015-11-05 03:43:28.232894"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-05 03:43:28.241451"], ["id", 2]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-05 03:43:28.258857"], ["updated_at", "2015-11-05 03:43:28.258857"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 66ms (ActiveRecord: 34.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "xTiL44AnsUVoEU8CaHpw"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$uPyfRpN/6PL143suXYUMZubktG8pUZzZmOsqr2pIrB122ORLTWp0C"], ["confirmed_at", "2015-11-05 03:43:28.360562"], ["authentication_token", "xTiL44AnsUVoEU8CaHpw"], ["created_at", "2015-11-05 03:43:28.362641"], ["updated_at", "2015-11-05 03:43:28.362641"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.372212"], ["updated_at", "2015-11-05 03:43:28.372212"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.379954"], ["updated_at", "2015-11-05 03:43:28.379954"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test13@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:28.401905"], ["current_sign_in_at", "2015-11-05 03:43:28.401905"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.402603"], ["id", 1]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test8"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.6ms)
  [1m[35m (8.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "V3cXtxM5q_fk9QNLzdCc"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$Uj5VB5ZIHWHAN2dH1r2ZWOMFETP8ODAYJf4N8zArQ4r.x2mEgPFke"], ["confirmed_at", "2015-11-05 03:43:28.500493"], ["authentication_token", "V3cXtxM5q_fk9QNLzdCc"], ["created_at", "2015-11-05 03:43:28.502551"], ["updated_at", "2015-11-05 03:43:28.502551"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.512482"], ["updated_at", "2015-11-05 03:43:28.512482"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.520422"], ["updated_at", "2015-11-05 03:43:28.520422"]]
  [1m[35m (5.3ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:28.540620"], ["current_sign_in_at", "2015-11-05 03:43:28.540620"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.541310"], ["id", 1]]
  [1m[35m (7.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "SLPcJB71_awP5SKLFQ_z"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$UjIu6XRr7JNePZh6iPwwQ.SPqiUrlm69posHvbU7FSy4szD.VoXLu"], ["confirmed_at", "2015-11-05 03:43:28.680350"], ["authentication_token", "SLPcJB71_awP5SKLFQ_z"], ["created_at", "2015-11-05 03:43:28.682456"], ["updated_at", "2015-11-05 03:43:28.682456"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.692505"], ["updated_at", "2015-11-05 03:43:28.692505"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.699887"], ["updated_at", "2015-11-05 03:43:28.699887"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test10"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test17@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "-z3xztG2DaxzQx5Uggz7"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$8V8V3Gcl4o/oW5qcF3.siekifNcc1cDfnikT7DGYv4HUQ5kCJaCwC"], ["confirmed_at", "2015-11-05 03:43:28.798642"], ["authentication_token", "-z3xztG2DaxzQx5Uggz7"], ["created_at", "2015-11-05 03:43:28.800756"], ["updated_at", "2015-11-05 03:43:28.800756"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.809473"], ["updated_at", "2015-11-05 03:43:28.809473"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.817177"], ["updated_at", "2015-11-05 03:43:28.817177"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test11"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (9.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Bu3i673v_d7asBbYsZj5"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$a5xg3fJ/.FCXpaOgRORnCuhCCf6fdfu.ASh.iiiTnGQG6VDOiWLeS"], ["confirmed_at", "2015-11-05 03:43:28.909522"], ["authentication_token", "Bu3i673v_d7asBbYsZj5"], ["created_at", "2015-11-05 03:43:28.911538"], ["updated_at", "2015-11-05 03:43:28.911538"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:28.921204"], ["updated_at", "2015-11-05 03:43:28.921204"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:28.928915"], ["updated_at", "2015-11-05 03:43:28.928915"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test12"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test19@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:28.952427"], ["current_sign_in_at", "2015-11-05 03:43:28.952427"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:28.953143"], ["id", 1]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
Redirected to http://test12.example.com/
Completed 302 Found in 15ms (ActiveRecord: 9.0ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:28 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "4vTC2G-HuBBzqgsNMuxE"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$3KMVSOethY5trJrBjYXRxO2ASzrVKk/SUV48uP6mhFka/D5CpvMwm"], ["confirmed_at", "2015-11-05 03:43:29.032809"], ["authentication_token", "4vTC2G-HuBBzqgsNMuxE"], ["created_at", "2015-11-05 03:43:29.034796"], ["updated_at", "2015-11-05 03:43:29.034796"]]
  [1m[35m (8.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:29.046633"], ["updated_at", "2015-11-05 03:43:29.046633"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:29.055923"], ["updated_at", "2015-11-05 03:43:29.055923"]]
  [1m[35m (10.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sMsgCsjZkjQSPa3qc9NU"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$QmYPcZuHDuqxzj2coTNSN.UwT3fBNJWUNSGmJs9t/O7hQf1ib0TfK"], ["confirmed_at", "2015-11-05 03:43:29.068880"], ["authentication_token", "sMsgCsjZkjQSPa3qc9NU"], ["created_at", "2015-11-05 03:43:29.070654"], ["updated_at", "2015-11-05 03:43:29.070654"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 2], ["created_at", "2015-11-05 03:43:29.079987"], ["updated_at", "2015-11-05 03:43:29.079987"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 03:43:29.088793"], ["updated_at", "2015-11-05 03:43:29.088793"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test13"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test21@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (4.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sHkVS8poEL6b2oGes5Bc"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$dAOqrgIqOKX7Fmxd7HAtbeTp2dEo6sAA10vtH40fPA0v7EZm0b5tK"], ["confirmed_at", "2015-11-05 03:43:29.385186"], ["authentication_token", "sHkVS8poEL6b2oGes5Bc"], ["created_at", "2015-11-05 03:43:29.387378"], ["updated_at", "2015-11-05 03:43:29.387378"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:29.396866"], ["updated_at", "2015-11-05 03:43:29.396866"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:29.404582"], ["updated_at", "2015-11-05 03:43:29.404582"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "rCUjuH47yVCP4YrXWzar"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$Z82vCp1ko/MAV2vE3Qml/e3kPYjKnZcxdjoQ4zP.STYXliwR5IUhS"], ["confirmed_at", "2015-11-05 03:43:29.493893"], ["authentication_token", "rCUjuH47yVCP4YrXWzar"], ["created_at", "2015-11-05 03:43:29.495953"], ["updated_at", "2015-11-05 03:43:29.495953"]]
  [1m[36m (4.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:29.503767"], ["updated_at", "2015-11-05 03:43:29.503767"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:29.512252"], ["updated_at", "2015-11-05 03:43:29.512252"]]
  [1m[36m (4.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test23@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:29.531059"], ["current_sign_in_at", "2015-11-05 03:43:29.531059"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:29.531692"], ["id", 1]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 10ms (ActiveRecord: 5.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:29 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (5.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wUxSkx3tYyUsoESWBPwt"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "f7e079aa54f4e4675c091f06bfef8c509986a314aeeae4e54348665f5b0b8427"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$NZrRiOk12IxdNSj0TPb8b.pJ6GGE4SxBFG1tlS9RPvKCcGVkpynkm"], ["authentication_token", "wUxSkx3tYyUsoESWBPwt"], ["created_at", "2015-11-05 03:43:29.654527"], ["updated_at", "2015-11-05 03:43:29.654527"], ["confirmation_token", "QrynVZPUEyg2hzyXmLyA"], ["confirmation_sent_at", "2015-11-05 03:43:29.842011"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 214.9ms

Sent mail to bb@gmail.com (7.9ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ad062114ec_588ff233349859d@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=QrynVZPUEyg2hzyXmLyA">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.074459"], ["updated_at", "2015-11-05 03:43:30.074459"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.084931"], ["updated_at", "2015-11-05 03:43:30.084931"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.093603"], ["updated_at", "2015-11-05 03:43:30.094005"], ["id", 1]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 03:43:30.104273"], ["updated_at", "2015-11-05 03:43:30.104273"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:30.119838"], ["current_sign_in_at", "2015-11-05 03:43:30.119838"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:30.120346"], ["id", 1]]
  [1m[35m (5.0ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 479ms (ActiveRecord: 39.4ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (4.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "2Hz5-sLj2_gzh1_yqkrJ"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "1412247d5357b6119c51cda151be2e0424477ff63fe50afa4b477b3286d1318f"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$WdEb8fyfAeJBW4GlmPcyZ.1R5zHZiYabrh54//yvT.b8xfBaVB9Oa"], ["authentication_token", "2Hz5-sLj2_gzh1_yqkrJ"], ["created_at", "2015-11-05 03:43:30.196319"], ["updated_at", "2015-11-05 03:43:30.196319"], ["confirmation_token", "traE1F5fBwLex3oHY5Mh"], ["confirmation_sent_at", "2015-11-05 03:43:30.197037"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to bb@gmail.com (2.3ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ad062310c7_588ff2333498628@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=traE1F5fBwLex3oHY5Mh">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.202366"], ["updated_at", "2015-11-05 03:43:30.202366"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.211158"], ["updated_at", "2015-11-05 03:43:30.211158"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.218234"], ["updated_at", "2015-11-05 03:43:30.218623"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 03:43:30.228663"], ["updated_at", "2015-11-05 03:43:30.228663"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:30.243770"], ["current_sign_in_at", "2015-11-05 03:43:30.243770"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:30.244252"], ["id", 1]]
  [1m[35m (4.7ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 60ms (ActiveRecord: 35.8ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "753iWYUV3TCnP4Dy3Pyf"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "8c46626a7f962b43fd5d8fdc624515ea1892549fe66d22e13facf6d23ba259ad"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "user@example.com"], ["encrypted_password", "$2a$04$xpTow6sXSJzZTbxCyEoqr.B2VXwuLfN/70igrDojSxlrx.02SOjvm"], ["authentication_token", "753iWYUV3TCnP4Dy3Pyf"], ["created_at", "2015-11-05 03:43:30.359286"], ["updated_at", "2015-11-05 03:43:30.359286"], ["confirmation_token", "5-e-eg7Dj1_MnMwM5A-W"], ["confirmation_sent_at", "2015-11-05 03:43:30.359951"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to user@example.com (2.2ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ad06258d36_588ff233349877a@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=5-e-eg7Dj1_MnMwM5A-W">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.365237"], ["updated_at", "2015-11-05 03:43:30.365237"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.372484"], ["updated_at", "2015-11-05 03:43:30.372484"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.378415"], ["updated_at", "2015-11-05 03:43:30.378812"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["account_id", 1]]
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.7ms | ActiveRecord: 0.7ms)
  [1m[35m (4.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ddhrYoMB5qoqsEcts7MP"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test25@example.com"], ["encrypted_password", "$2a$04$Oz1DMH13MM4ZmbwW1.0bgunLokZmR9EdnVBwIo1rkfGRoOte445WG"], ["confirmed_at", "2015-11-05 03:43:30.555023"], ["authentication_token", "ddhrYoMB5qoqsEcts7MP"], ["created_at", "2015-11-05 03:43:30.557304"], ["updated_at", "2015-11-05 03:43:30.557304"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.565388"], ["updated_at", "2015-11-05 03:43:30.565388"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.572674"], ["updated_at", "2015-11-05 03:43:30.572674"]]
  [1m[35m (4.7ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test25@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-05 03:43:30.740286"], ["updated_at", "2015-11-05 03:43:30.740286"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 0.7ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "iFjr6_De8yyzyxmKRv7U"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "904f45c4712f60bf5a3bb2c660c163ef2634bb67d41dd098c7ce9c2794dbfb94"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$0squdrAw5GOnFgqRguyUs.GoZmeuCYxMlsTWZzzmo2/usSxZsM9uW"], ["authentication_token", "iFjr6_De8yyzyxmKRv7U"], ["created_at", "2015-11-05 03:43:30.850633"], ["updated_at", "2015-11-05 03:43:30.850633"], ["confirmation_token", "kqJCzeznpcJxMzQxxQ9-"], ["confirmation_sent_at", "2015-11-05 03:43:30.851308"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.4ms

Sent mail to mtdevise@example.com (2.3ms)
Date: Thu, 05 Nov 2015 03:43:30 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563ad062d0c1a_588ff2333498819@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=kqJCzeznpcJxMzQxxQ9-">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 03:43:30.856530"], ["updated_at", "2015-11-05 03:43:30.856530"]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 03:43:30.864116"], ["updated_at", "2015-11-05 03:43:30.864116"]]
  [1m[36m (4.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 03:43:30.869751"], ["updated_at", "2015-11-05 03:43:30.870159"], ["id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 03:43:30.881181"], ["updated_at", "2015-11-05 03:43:30.881181"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 03:43:30.897951"], ["current_sign_in_at", "2015-11-05 03:43:30.897951"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:30.898554"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 61ms (ActiveRecord: 36.6ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (10.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "wG1juiMtoKTK7jX7LUYq"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$mFIzCsYeVFgolq2MO2aSp.HufOGVLmhtMjs.IHpU94bom4mVk6uFe"], ["confirmed_at", "2015-11-05 03:43:30.981307"], ["authentication_token", "wG1juiMtoKTK7jX7LUYq"], ["created_at", "2015-11-05 03:43:30.983289"], ["updated_at", "2015-11-05 03:43:30.983289"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:30 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 03:43:31.004323"], ["current_sign_in_at", "2015-11-05 03:43:31.004323"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 03:43:31.004919"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 03:43:31 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (10.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "9aMdvypcXhd27sve-Unx"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$z6KlhusS8vLTvPxhN42y9eYnl2qQzzepXdvavwy1eVjYWYEdicmWm"], ["confirmed_at", "2015-11-05 04:52:34.491472"], ["authentication_token", "9aMdvypcXhd27sve-Unx"], ["created_at", "2015-11-05 04:52:34.510353"], ["updated_at", "2015-11-05 04:52:34.510353"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:34.526000"], ["updated_at", "2015-11-05 04:52:34.526000"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:34.553301"], ["updated_at", "2015-11-05 04:52:34.553301"]]
  [1m[35m (6.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (54.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 290ms (Views: 277.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:34.877581"], ["current_sign_in_at", "2015-11-05 04:52:34.877581"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:34.878306"], ["id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 27ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.3ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "jmx42fVDEM1rKzcNgy9X"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$OAkcHgln.Fh/MbNkKOqCc.M4.r.UHH2AO1x1cqzlkBCyMv/czEhPK"], ["confirmed_at", "2015-11-05 04:52:34.973996"], ["authentication_token", "jmx42fVDEM1rKzcNgy9X"], ["created_at", "2015-11-05 04:52:34.976020"], ["updated_at", "2015-11-05 04:52:34.976020"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:34.984228"], ["updated_at", "2015-11-05 04:52:34.984228"]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:34.991677"], ["updated_at", "2015-11-05 04:52:34.991677"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:34 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "SNtiVez2siag7tJDxji2"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "3d4b18377898261c0a1a99c710188ce92507df245fdc3d25c0da6384d06c4d4d"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$gYn7o.NZvE0ZgEHfm6rKB.tNEcKAqohdtQdzhbnXHI7IyHsGdGmM."], ["authentication_token", "SNtiVez2siag7tJDxji2"], ["created_at", "2015-11-05 04:52:35.207591"], ["updated_at", "2015-11-05 04:52:35.207591"], ["confirmation_token", "z8eZc1tjLa1Vxs5Kxci5"], ["confirmation_sent_at", "2015-11-05 04:52:35.391424"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 165.6ms

Sent mail to bb@gmail.com (8.0ms)
Date: Thu, 05 Nov 2015 04:52:35 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ae0938b68c_596011e7318125be@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=z8eZc1tjLa1Vxs5Kxci5">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:35.574683"], ["updated_at", "2015-11-05 04:52:35.574683"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:35.584475"], ["updated_at", "2015-11-05 04:52:35.584475"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-05 04:52:35.590816"], ["updated_at", "2015-11-05 04:52:35.591234"], ["id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 04:52:35.615702"], ["updated_at", "2015-11-05 04:52:35.615702"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:35.639912"], ["current_sign_in_at", "2015-11-05 04:52:35.639912"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:35.640426"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 446ms (ActiveRecord: 39.2ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "FZ4yX1_y9usPC65JP9pX"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "1fbde4d6242312ac04ace913d1507c7711e8d8eeb376d7f0e73be68f5a61bb2f"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$U6gtj3FC62V3sX0NIYU74OKkPgffnnPJt/hGT5crac5RW1IMt8vhC"], ["authentication_token", "FZ4yX1_y9usPC65JP9pX"], ["created_at", "2015-11-05 04:52:35.723644"], ["updated_at", "2015-11-05 04:52:35.723644"], ["confirmation_token", "cn7-sfQ8dCxNKTaZiZxs"], ["confirmation_sent_at", "2015-11-05 04:52:35.724273"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to bb@gmail.com (2.2ms)
Date: Thu, 05 Nov 2015 04:52:35 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ae093b1c56_596011e73181266e@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=cn7-sfQ8dCxNKTaZiZxs">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:35.729546"], ["updated_at", "2015-11-05 04:52:35.729546"]]
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:35.737319"], ["updated_at", "2015-11-05 04:52:35.737319"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-05 04:52:35.743608"], ["updated_at", "2015-11-05 04:52:35.744041"], ["id", 1]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 04:52:35.752588"], ["updated_at", "2015-11-05 04:52:35.752588"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:35.769481"], ["current_sign_in_at", "2015-11-05 04:52:35.769481"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:35.769982"], ["id", 1]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 63ms (ActiveRecord: 37.9ms)
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (10.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "dqmz1Tq43m6yx5NmXvjo"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$utUt2LY3hfCJr.AArr8.reuP1smYemLQ5hJNfnpjdVqxdp/m1jtUK"], ["confirmed_at", "2015-11-05 04:52:35.888113"], ["authentication_token", "dqmz1Tq43m6yx5NmXvjo"], ["created_at", "2015-11-05 04:52:35.890407"], ["updated_at", "2015-11-05 04:52:35.890407"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:35.911624"], ["current_sign_in_at", "2015-11-05 04:52:35.911624"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:35.912236"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.7ms | ActiveRecord: 0.7ms)
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-05 04:52:36.067986"], ["updated_at", "2015-11-05 04:52:36.067986"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 0.7ms)
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zFMkrgW6ktqYwW8eS5KM"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "279e2e9b695271543131de8c82d748176dc83bb626713bb3714e5ea39f78bdaf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$zF3oBeFyzb5lkjAvGKSPuOeagGSq4Jz7cekDsMBDZu1LR4wUpWAEO"], ["authentication_token", "zFMkrgW6ktqYwW8eS5KM"], ["created_at", "2015-11-05 04:52:36.177232"], ["updated_at", "2015-11-05 04:52:36.177232"], ["confirmation_token", "Aw28kJn8HhLGiFexH_hd"], ["confirmation_sent_at", "2015-11-05 04:52:36.177922"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.3ms

Sent mail to mtdevise@example.com (2.4ms)
Date: Thu, 05 Nov 2015 04:52:36 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563ae0942c5a2_596011e7318127cb@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=Aw28kJn8HhLGiFexH_hd">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.183173"], ["updated_at", "2015-11-05 04:52:36.183173"]]
  [1m[35m (9.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.195667"], ["updated_at", "2015-11-05 04:52:36.195667"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-05 04:52:36.203436"], ["updated_at", "2015-11-05 04:52:36.203834"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-05 04:52:36.214110"], ["updated_at", "2015-11-05 04:52:36.214110"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:36.233353"], ["current_sign_in_at", "2015-11-05 04:52:36.233353"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:36.233947"], ["id", 1]]
  [1m[35m (6.1ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 70ms (ActiveRecord: 44.5ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sZErmUwCp68cosToLqHx"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$gtU5thWjoePXw.lA6vi3aeCHTWSTDPkNBowpggm9gxPtkzP.6dEWO"], ["confirmed_at", "2015-11-05 04:52:36.325612"], ["authentication_token", "sZErmUwCp68cosToLqHx"], ["created_at", "2015-11-05 04:52:36.327655"], ["updated_at", "2015-11-05 04:52:36.327655"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.337545"], ["updated_at", "2015-11-05 04:52:36.337545"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.345351"], ["updated_at", "2015-11-05 04:52:36.345351"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (10.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (5.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (9.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "WPQkR-js8W9kMTAAsArZ"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$8l1jU7Ro1UIA5aM5vLaAFOsUGIWN1/i2C3Oh8QeuL.sD.cKep/KBq"], ["confirmed_at", "2015-11-05 04:52:36.613070"], ["authentication_token", "WPQkR-js8W9kMTAAsArZ"], ["created_at", "2015-11-05 04:52:36.615374"], ["updated_at", "2015-11-05 04:52:36.615374"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.624938"], ["updated_at", "2015-11-05 04:52:36.624938"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.632532"], ["updated_at", "2015-11-05 04:52:36.632532"]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test6@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zBTptvBzUWUQqmDqP5df"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test6@example.com"], ["encrypted_password", "$2a$04$v094UHKFkaZxo4zK1x5fyO37SiaikrSA885SgsWLjT8g7WVMHJ5W."], ["confirmed_at", "2015-11-05 04:52:36.640522"], ["authentication_token", "zBTptvBzUWUQqmDqP5df"], ["created_at", "2015-11-05 04:52:36.642357"], ["updated_at", "2015-11-05 04:52:36.642357"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 2], ["created_at", "2015-11-05 04:52:36.652032"], ["updated_at", "2015-11-05 04:52:36.652032"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 04:52:36.661152"], ["updated_at", "2015-11-05 04:52:36.661152"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 04:52:36.670257"], ["updated_at", "2015-11-05 04:52:36.670257"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 04:52:36.678098"], ["updated_at", "2015-11-05 04:52:36.678098"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test5@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:36.699859"], ["current_sign_in_at", "2015-11-05 04:52:36.699859"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:36.700485"], ["id", 1]]
  [1m[36m (10.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 16ms (ActiveRecord: 10.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test4"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.2ms)
  [1m[35m (5.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "28caA3jygB4ZC5MMPm2h"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$h2frBT9/PFE/JkGWs2cSnuqDArcXl6GY4RUbUTC6fkiafec8TSVpy"], ["confirmed_at", "2015-11-05 04:52:36.801071"], ["authentication_token", "28caA3jygB4ZC5MMPm2h"], ["created_at", "2015-11-05 04:52:36.803193"], ["updated_at", "2015-11-05 04:52:36.803193"]]
  [1m[35m (9.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:36.816102"], ["updated_at", "2015-11-05 04:52:36.816102"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:36.823817"], ["updated_at", "2015-11-05 04:52:36.823817"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Tk_UZx2yxHLxHSQxKbZM"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$vikaCSdBf1KxfH636Xw9MOBebh3Ld3LibTJFCd0ojQ/gJupM3/Zy."], ["confirmed_at", "2015-11-05 04:52:36.833070"], ["authentication_token", "Tk_UZx2yxHLxHSQxKbZM"], ["created_at", "2015-11-05 04:52:36.834896"], ["updated_at", "2015-11-05 04:52:36.834896"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 2], ["created_at", "2015-11-05 04:52:36.844389"], ["updated_at", "2015-11-05 04:52:36.844389"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 04:52:36.851757"], ["updated_at", "2015-11-05 04:52:36.851757"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-05 04:52:36.859875"], ["updated_at", "2015-11-05 04:52:36.859875"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-05 04:52:36.868064"], ["updated_at", "2015-11-05 04:52:36.868064"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test9@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:36.889566"], ["current_sign_in_at", "2015-11-05 04:52:36.889566"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:36.890256"], ["id", 2]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-05 04:52:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test7"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (9.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "xjQR3bJzvgkQrfypXyny"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$fSkgxoRBsD64MVOnl.HipOlVJS1.D/4uU6oIOfqLPMmRxMCPK0DqS"], ["confirmed_at", "2015-11-05 04:52:37.014467"], ["authentication_token", "xjQR3bJzvgkQrfypXyny"], ["created_at", "2015-11-05 04:52:37.016614"], ["updated_at", "2015-11-05 04:52:37.016614"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.024807"], ["updated_at", "2015-11-05 04:52:37.024807"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.032785"], ["updated_at", "2015-11-05 04:52:37.032785"]]
  [1m[35m (5.4ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test11@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:37.053802"], ["current_sign_in_at", "2015-11-05 04:52:37.053802"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:37.054529"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Fbp-zNShUydf5T-VhS9S"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$0Pgoqjsw5FGHtGc7g1T/YeXkqT2SY6T/w1YdWvtHQDmgIzFEPlS7m"], ["confirmed_at", "2015-11-05 04:52:37.345019"], ["authentication_token", "Fbp-zNShUydf5T-VhS9S"], ["created_at", "2015-11-05 04:52:37.347313"], ["updated_at", "2015-11-05 04:52:37.347313"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (3.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:37.375203"], ["current_sign_in_at", "2015-11-05 04:52:37.375203"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:37.375881"], ["id", 1]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Ekwyu6sZ3vHjXMjqNQz6"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "4895659c19edc47ca8c64495681a61d1cdeb55e796ca8b8b9505df55e3387775"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$EvqyLPwP0M1CkTdjcfICdunwjGqbdZFGKu0CoJvd.3j5cCEKAwXAu"], ["authentication_token", "Ekwyu6sZ3vHjXMjqNQz6"], ["created_at", "2015-11-05 04:52:37.489394"], ["updated_at", "2015-11-05 04:52:37.489394"], ["confirmation_token", "5XrzNPKVsYxqMdsVx_9E"], ["confirmation_sent_at", "2015-11-05 04:52:37.490084"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to user@example.com (2.4ms)
Date: Thu, 05 Nov 2015 04:52:37 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ae09578a9e_596011e7318128f2@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=5XrzNPKVsYxqMdsVx_9E">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.495723"], ["updated_at", "2015-11-05 04:52:37.495723"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.504621"], ["updated_at", "2015-11-05 04:52:37.504621"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-05 04:52:37.510612"], ["updated_at", "2015-11-05 04:52:37.511046"], ["id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "9QAJoPR3uYkA8mkHTgLt"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$REV93Ubto9SRkywYDU6sU.RDzv5QQF3aJp5DIMs6JqYpPwQ.9uWqK"], ["confirmed_at", "2015-11-05 04:52:37.613570"], ["authentication_token", "9QAJoPR3uYkA8mkHTgLt"], ["created_at", "2015-11-05 04:52:37.615899"], ["updated_at", "2015-11-05 04:52:37.615899"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.624326"], ["updated_at", "2015-11-05 04:52:37.624326"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.6ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.632151"], ["updated_at", "2015-11-05 04:52:37.632151"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test9"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test13@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "AQqEvWPtvX5FKQk9sLai"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$TLqfOONyJNzT.7BHpXUEJumVuceO1qQqdAmZA85KRAdxJzEaj6mWm"], ["confirmed_at", "2015-11-05 04:52:37.730136"], ["authentication_token", "AQqEvWPtvX5FKQk9sLai"], ["created_at", "2015-11-05 04:52:37.732490"], ["updated_at", "2015-11-05 04:52:37.732490"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.744565"], ["updated_at", "2015-11-05 04:52:37.744565"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.752103"], ["updated_at", "2015-11-05 04:52:37.752103"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test10"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test14@example.com"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:37.780028"], ["current_sign_in_at", "2015-11-05 04:52:37.780028"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:37.781059"], ["id", 1]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Redirected to http://test10.example.com/
Completed 302 Found in 13ms (ActiveRecord: 5.4ms)
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (4.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "iULqx34YapH6WxGTA1H6"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$cmOMn8H3BF7EL.dj9Psi9OcMJK7/QU9Ar2o1oAjUw0ZDgQcUyOnYW"], ["confirmed_at", "2015-11-05 04:52:37.854651"], ["authentication_token", "iULqx34YapH6WxGTA1H6"], ["created_at", "2015-11-05 04:52:37.856836"], ["updated_at", "2015-11-05 04:52:37.856836"]]
  [1m[35m (5.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.865456"], ["updated_at", "2015-11-05 04:52:37.865456"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.872886"], ["updated_at", "2015-11-05 04:52:37.872886"]]
  [1m[35m (5.4ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:37 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test11"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (5.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "m4wMdRC3Hxydnzoxrmy3"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$B3IoVrGx/YeEKB5WNLBuceIQF9w/sC/Ons6hw79qM33CLr2m0Oz9C"], ["confirmed_at", "2015-11-05 04:52:37.961531"], ["authentication_token", "m4wMdRC3Hxydnzoxrmy3"], ["created_at", "2015-11-05 04:52:37.963766"], ["updated_at", "2015-11-05 04:52:37.963766"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:37.974514"], ["updated_at", "2015-11-05 04:52:37.974514"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:37.983314"], ["updated_at", "2015-11-05 04:52:37.983314"]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "yEtw7LcDsy_Z2_Nra4uN"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$FRwvXdxyxnknEpNqQDgrJezTnTvj9pluZIjhhXKTF7zQIDyCUbgjq"], ["confirmed_at", "2015-11-05 04:52:37.992845"], ["authentication_token", "yEtw7LcDsy_Z2_Nra4uN"], ["created_at", "2015-11-05 04:52:37.994746"], ["updated_at", "2015-11-05 04:52:37.994746"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 2], ["created_at", "2015-11-05 04:52:38.004191"], ["updated_at", "2015-11-05 04:52:38.004191"]]
  [1m[35m (4.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-05 04:52:38.011606"], ["updated_at", "2015-11-05 04:52:38.011606"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test12"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test17@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (10.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Nj_34LDnN8cM_xaVusVk"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$GaJUOnT/tUrQ7Zbxtm2vTOxodHd.RnQGBFhUjkWPoeN.Sl6DG0WBa"], ["confirmed_at", "2015-11-05 04:52:38.181388"], ["authentication_token", "Nj_34LDnN8cM_xaVusVk"], ["created_at", "2015-11-05 04:52:38.183660"], ["updated_at", "2015-11-05 04:52:38.183660"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.193200"], ["updated_at", "2015-11-05 04:52:38.193200"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.200994"], ["updated_at", "2015-11-05 04:52:38.200994"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test18@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:38.222355"], ["current_sign_in_at", "2015-11-05 04:52:38.222355"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.223124"], ["id", 1]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.6ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "uQmkuNoAvvASZ3kLjmUN"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$8KGmYWDbq1sldY0WpoHJneeeHJo3i82wfvyu47x/IGgdJr0vZzMFe"], ["confirmed_at", "2015-11-05 04:52:38.318579"], ["authentication_token", "uQmkuNoAvvASZ3kLjmUN"], ["created_at", "2015-11-05 04:52:38.320799"], ["updated_at", "2015-11-05 04:52:38.320799"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.329012"], ["updated_at", "2015-11-05 04:52:38.329012"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.336718"], ["updated_at", "2015-11-05 04:52:38.336718"]]
  [1m[35m (5.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test20@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:38.357373"], ["current_sign_in_at", "2015-11-05 04:52:38.357373"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.358095"], ["id", 1]]
  [1m[35m (8.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 8.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test15"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "4t8MJ4sDhKsnzxjL3Mzw"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$G5a7h/QV43lk3A3M8iU94ewyRGPXnvFkmZB/kX148QwYYwbHRxvNi"], ["confirmed_at", "2015-11-05 04:52:38.456717"], ["authentication_token", "4t8MJ4sDhKsnzxjL3Mzw"], ["created_at", "2015-11-05 04:52:38.459023"], ["updated_at", "2015-11-05 04:52:38.459023"]]
  [1m[36m (10.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.472917"], ["updated_at", "2015-11-05 04:52:38.472917"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.481202"], ["updated_at", "2015-11-05 04:52:38.481202"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-05 04:52:38.502010"], ["current_sign_in_at", "2015-11-05 04:52:38.502010"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.502751"], ["id", 1]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-05 04:52:38.533737"], ["updated_at", "2015-11-05 04:52:38.533737"]]
  [1m[35m (9.3ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.547502"], ["updated_at", "2015-11-05 04:52:38.547502"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?[0m  [["owner_id", 1], ["updated_at", "2015-11-05 04:52:38.556727"], ["id", 2]]
  [1m[35m (4.6ms)[0m  commit transaction
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-05 04:52:38.563671"], ["updated_at", "2015-11-05 04:52:38.563671"]]
  [1m[35m (10.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 55ms (ActiveRecord: 38.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (5.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (4.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (16.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "hfXpEXhU--Yucr2ELehz"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$TV3l43NrY2FQJTDaXKHMueVy6skj5AfBvwovdoDhKW77xeacGfaue"], ["confirmed_at", "2015-11-05 04:52:38.661629"], ["authentication_token", "hfXpEXhU--Yucr2ELehz"], ["created_at", "2015-11-05 04:52:38.663782"], ["updated_at", "2015-11-05 04:52:38.663782"]]
  [1m[35m (9.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-05 04:52:38.676573"], ["updated_at", "2015-11-05 04:52:38.676573"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-05 04:52:38.684226"], ["updated_at", "2015-11-05 04:52:38.684226"]]
  [1m[35m (5.2ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-05 04:52:38.704625"], ["current_sign_in_at", "2015-11-05 04:52:38.704625"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-05 04:52:38.705372"], ["id", 1]]
  [1m[35m (6.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-05 04:52:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (9.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "px1XbWMhEososJTjT3SB"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "4585176c7d50c09023a5ce02165be8e84c54f3728c246f6e709019242349d69c"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "user@example.com"], ["encrypted_password", "$2a$04$TNBX5hGalv6shFZwOl.ebekXJNklPsL7bEHu2bDIqa3f7AogYa8VS"], ["authentication_token", "px1XbWMhEososJTjT3SB"], ["created_at", "2015-11-08 02:30:49.217463"], ["updated_at", "2015-11-08 02:30:49.217463"], ["confirmation_token", "RHpYNnagz9xZfivZEkxU"], ["confirmation_sent_at", "2015-11-08 02:30:49.399673"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (2.9ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 237.7ms

Sent mail to user@example.com (14.1ms)
Date: Sun, 08 Nov 2015 02:30:49 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563eb3d9a14f8_1e645533041315@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=RHpYNnagz9xZfivZEkxU">Confirm my account</a></p>
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:49.666807"], ["updated_at", "2015-11-08 02:30:49.666807"]]
  [1m[35m (10.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:49.703620"], ["updated_at", "2015-11-08 02:30:49.703620"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:30:49.712918"], ["updated_at", "2015-11-08 02:30:49.713379"], ["id", 1]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["account_id", 1]]
  [1m[35m (7.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (10.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "yQE2ZeePwboob1xg461x"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$G8x9Xw9KhJTIbqNw9Np3uOScR4ReEhzmA1i0M2LgohFqigiX8gwYK"], ["confirmed_at", "2015-11-08 02:30:49.848728"], ["authentication_token", "yQE2ZeePwboob1xg461x"], ["created_at", "2015-11-08 02:30:49.851128"], ["updated_at", "2015-11-08 02:30:49.851128"]]
  [1m[35m (7.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (101.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.7ms)
Completed 200 OK in 6889ms (Views: 6874.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:30:56.788363"], ["current_sign_in_at", "2015-11-08 02:30:56.788363"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:56.789318"], ["id", 1]]
  [1m[35m (10.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 28ms (ActiveRecord: 11.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (4.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.4ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (9.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (6.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:56 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[35m (8.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wxFi6LH8gpzatyNCBjKN"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$rCEa1y6Zm4SWBrDxG0Oraex3FMHg42a6Lrkdl1mGb8Ps3LMilhNRi"], ["confirmed_at", "2015-11-08 02:30:56.997379"], ["authentication_token", "wxFi6LH8gpzatyNCBjKN"], ["created_at", "2015-11-08 02:30:56.999826"], ["updated_at", "2015-11-08 02:30:56.999826"]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:57.011648"], ["updated_at", "2015-11-08 02:30:57.011648"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:57.022382"], ["updated_at", "2015-11-08 02:30:57.022382"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "h8RWfAXAK3z_ELLrnw5A"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "830f6a530e3bec8578bb8afa96aeaeebf2b06d6158f0b04281e2b4719ca8501d"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$IcYp6bHFcHMcYEelLTRgR.GDUL96ecKGpPRlpnkmN4n5KrKSdJKES"], ["authentication_token", "h8RWfAXAK3z_ELLrnw5A"], ["created_at", "2015-11-08 02:30:57.166157"], ["updated_at", "2015-11-08 02:30:57.166157"], ["confirmation_token", "yQdSo9tNRMGxkfAufG6c"], ["confirmation_sent_at", "2015-11-08 02:30:57.167041"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to mtdevise@example.com (2.8ms)
Date: Sun, 08 Nov 2015 02:30:57 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563eb3e129e0d_1e64553304142d@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=yQdSo9tNRMGxkfAufG6c">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:57.173272"], ["updated_at", "2015-11-08 02:30:57.173272"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:57.183993"], ["updated_at", "2015-11-08 02:30:57.183993"]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:30:57.193191"], ["updated_at", "2015-11-08 02:30:57.193604"], ["id", 1]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:30:57.215698"], ["updated_at", "2015-11-08 02:30:57.215698"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:30:57.243021"], ["current_sign_in_at", "2015-11-08 02:30:57.243021"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:57.243669"], ["id", 1]]
  [1m[36m (9.6ms)[0m  [1mcommit transaction[0m
Redirected to http://test.example.com/
Completed 302 Found in 96ms (ActiveRecord: 51.0ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 02:30:57.352443"], ["updated_at", "2015-11-08 02:30:57.352443"]]
  [1m[35m (8.0ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (4.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 5.3ms | ActiveRecord: 0.8ms)
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test2@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "m7Ja6ZttRRisHCn-jNiv"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test2@example.com"], ["encrypted_password", "$2a$04$GTAy6ie4o9549.cjxF5hwuX3mCD91Kylz.vqHSfMdDcuTOSr.4Sxy"], ["confirmed_at", "2015-11-08 02:30:57.593492"], ["authentication_token", "m7Ja6ZttRRisHCn-jNiv"], ["created_at", "2015-11-08 02:30:57.595910"], ["updated_at", "2015-11-08 02:30:57.595910"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:57.606643"], ["updated_at", "2015-11-08 02:30:57.606643"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:57.615679"], ["updated_at", "2015-11-08 02:30:57.615679"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "G6oyXpCnoawssogaJ7o8"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$oANb3FtSucpxw72jnKvl0.J5VQqog4uCNE1NN/LBcnJT5tjwZdwLq"], ["confirmed_at", "2015-11-08 02:30:57.625988"], ["authentication_token", "G6oyXpCnoawssogaJ7o8"], ["created_at", "2015-11-08 02:30:57.627813"], ["updated_at", "2015-11-08 02:30:57.627813"]]
  [1m[35m (8.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 2], ["created_at", "2015-11-08 02:30:57.639511"], ["updated_at", "2015-11-08 02:30:57.639511"]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:30:57.650746"], ["updated_at", "2015-11-08 02:30:57.650746"]]
  [1m[35m (12.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:30:57.668343"], ["updated_at", "2015-11-08 02:30:57.668343"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:30:57.676909"], ["updated_at", "2015-11-08 02:30:57.676909"]]
  [1m[35m (8.4ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test3@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:30:57.702831"], ["current_sign_in_at", "2015-11-08 02:30:57.702831"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:57.703594"], ["id", 2]]
  [1m[35m (7.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test3"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.2ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 61ms (Views: 60.5ms | ActiveRecord: 0.2ms)
  [1m[36m (9.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "inGd_A-apAMGFeS5Jk1F"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$aJqgVWAVeEhToZR52mrqDeGWEXVrAzTpbc2cCqmHaVQ2VjFMP2tOC"], ["confirmed_at", "2015-11-08 02:30:57.871543"], ["authentication_token", "inGd_A-apAMGFeS5Jk1F"], ["created_at", "2015-11-08 02:30:57.874165"], ["updated_at", "2015-11-08 02:30:57.874165"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:57.884423"], ["updated_at", "2015-11-08 02:30:57.884423"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:57.894458"], ["updated_at", "2015-11-08 02:30:57.894458"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test6@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wzn5ymzzjSx42zXvxEaf"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test6@example.com"], ["encrypted_password", "$2a$04$HZ1s9KFqtM4ZcCUut89ccu/p8iGyz.EJaUBc.pkYpAFyq14fm8cD6"], ["confirmed_at", "2015-11-08 02:30:57.903585"], ["authentication_token", "wzn5ymzzjSx42zXvxEaf"], ["created_at", "2015-11-08 02:30:57.905804"], ["updated_at", "2015-11-08 02:30:57.905804"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 2], ["created_at", "2015-11-08 02:30:57.916962"], ["updated_at", "2015-11-08 02:30:57.916962"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:30:57.927190"], ["updated_at", "2015-11-08 02:30:57.927190"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:30:57.935117"], ["updated_at", "2015-11-08 02:30:57.935117"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:30:57.942801"], ["updated_at", "2015-11-08 02:30:57.942801"]]
  [1m[35m (5.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test5@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:30:57.966318"], ["current_sign_in_at", "2015-11-08 02:30:57.966318"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:57.966988"], ["id", 1]]
  [1m[35m (7.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:30:57 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test4"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (10.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "dMPQL8jL5DUwAxpibhMW"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "55f0690d9fcc063d2555a834e36a22edf22a6b105c532c5a3b7a1cd63c82c27b"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$UaO4KBeWlypeSVfFhmtH9eYeB0sNwPV2Rwyp5b4nn1PYiy15aUEDe"], ["authentication_token", "dMPQL8jL5DUwAxpibhMW"], ["created_at", "2015-11-08 02:30:58.141776"], ["updated_at", "2015-11-08 02:30:58.141776"], ["confirmation_token", "gvQ6wtti7MjGxFYgQbky"], ["confirmation_sent_at", "2015-11-08 02:30:58.142521"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.8ms

Sent mail to bb@gmail.com (2.7ms)
Date: Sun, 08 Nov 2015 02:30:58 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb3e223e33_1e64553304152@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=gvQ6wtti7MjGxFYgQbky">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:58.148714"], ["updated_at", "2015-11-08 02:30:58.148714"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:58.159986"], ["updated_at", "2015-11-08 02:30:58.159986"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:30:58.169015"], ["updated_at", "2015-11-08 02:30:58.169456"], ["id", 1]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:30:58.183653"], ["updated_at", "2015-11-08 02:30:58.183653"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:30:58.205089"], ["current_sign_in_at", "2015-11-08 02:30:58.205089"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:58.205676"], ["id", 1]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 80ms (ActiveRecord: 50.8ms)
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (10.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "v8xcM96N5o4dYYsZQqtc"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "55aed11245faa92b49076c6cb33e70f3067a88ea38e9ae3eaa6c6bc3defe674f"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$MAbJyiE5xeDRy5HMlUvpHuTYd3vSqT.Lsn..z4EITJ8IVSkj9fSqy"], ["authentication_token", "v8xcM96N5o4dYYsZQqtc"], ["created_at", "2015-11-08 02:30:58.308916"], ["updated_at", "2015-11-08 02:30:58.308916"], ["confirmation_token", "7S_wwV61zCvCffVXzv2c"], ["confirmation_sent_at", "2015-11-08 02:30:58.309682"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to bb@gmail.com (2.6ms)
Date: Sun, 08 Nov 2015 02:30:58 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb3e24ca8a_1e645533041675@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=7S_wwV61zCvCffVXzv2c">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:58.315584"], ["updated_at", "2015-11-08 02:30:58.315584"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:58.326694"], ["updated_at", "2015-11-08 02:30:58.326694"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:30:58.334101"], ["updated_at", "2015-11-08 02:30:58.334506"], ["id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:30:58.344704"], ["updated_at", "2015-11-08 02:30:58.344704"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:30:58.365519"], ["current_sign_in_at", "2015-11-08 02:30:58.365519"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:58.366058"], ["id", 1]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 72ms (ActiveRecord: 44.2ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (10.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (10.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "RAyNtisExCzhzyVRoJfi"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$x/vDw/yG0ey0CKIJld4IU.VV/XHC.77xWeaehYjAZelQ9DFVTqeDi"], ["confirmed_at", "2015-11-08 02:30:58.508162"], ["authentication_token", "RAyNtisExCzhzyVRoJfi"], ["created_at", "2015-11-08 02:30:58.510940"], ["updated_at", "2015-11-08 02:30:58.510940"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:58.522647"], ["updated_at", "2015-11-08 02:30:58.522647"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:58.531297"], ["updated_at", "2015-11-08 02:30:58.531297"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test8@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test8@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test8@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "V-yzmfucKu3sxyqs7GSj"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$Vn674ZB79.OO/0VKbcEFJ.xMd./JoEISnkY6uzCH2Uq3YqbOf.wSa"], ["confirmed_at", "2015-11-08 02:30:58.641004"], ["authentication_token", "V-yzmfucKu3sxyqs7GSj"], ["created_at", "2015-11-08 02:30:58.643415"], ["updated_at", "2015-11-08 02:30:58.643415"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:58.654758"], ["updated_at", "2015-11-08 02:30:58.654758"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:58.663615"], ["updated_at", "2015-11-08 02:30:58.663615"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test9@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:30:58.687585"], ["current_sign_in_at", "2015-11-08 02:30:58.687585"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:58.688354"], ["id", 1]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (10.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Htfc1CcqnN49Q-XezRR9"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$49SPl09/TOQp0ng3bT3eYuWJWqtrgVXlgZ.UTCB6O.eg.84oTfogy"], ["confirmed_at", "2015-11-08 02:30:58.824942"], ["authentication_token", "Htfc1CcqnN49Q-XezRR9"], ["created_at", "2015-11-08 02:30:58.827474"], ["updated_at", "2015-11-08 02:30:58.827474"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:58.838666"], ["updated_at", "2015-11-08 02:30:58.838666"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:58.847416"], ["updated_at", "2015-11-08 02:30:58.847416"]]
  [1m[35m (7.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test11@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:30:58.872743"], ["current_sign_in_at", "2015-11-08 02:30:58.872743"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:58.873541"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:58 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 4.1ms | ActiveRecord: 0.6ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "VuQ5Lp2u1c8ULgQuDp2z"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$BuwYABNJJ270hqYlxXqtjuOtAabBJPPPySOa4NttsmcN6P.D4omQ."], ["confirmed_at", "2015-11-08 02:30:58.984316"], ["authentication_token", "VuQ5Lp2u1c8ULgQuDp2z"], ["created_at", "2015-11-08 02:30:58.986742"], ["updated_at", "2015-11-08 02:30:58.986742"]]
  [1m[36m (9.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:58.999174"], ["updated_at", "2015-11-08 02:30:58.999174"]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:59.007982"], ["updated_at", "2015-11-08 02:30:59.007982"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test13@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:30:59.032465"], ["current_sign_in_at", "2015-11-08 02:30:59.032465"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:59.033223"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test9"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.7ms)
  [1m[35m (7.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ssr7u8RsSBBbsrp8dcJU"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$m7muaN1vIobvug.y9ch7o.EWOhNhq2H2YYtXKFGPViz.Cmx.Fv2BS"], ["confirmed_at", "2015-11-08 02:30:59.147538"], ["authentication_token", "ssr7u8RsSBBbsrp8dcJU"], ["created_at", "2015-11-08 02:30:59.149821"], ["updated_at", "2015-11-08 02:30:59.149821"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:59.161180"], ["updated_at", "2015-11-08 02:30:59.161180"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:59.171709"], ["updated_at", "2015-11-08 02:30:59.171709"]]
  [1m[35m (7.5ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:30:59.195559"], ["current_sign_in_at", "2015-11-08 02:30:59.195559"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:59.196240"], ["id", 1]]
  [1m[35m (9.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 9.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (13.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 02:30:59.242729"], ["updated_at", "2015-11-08 02:30:59.242729"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 02:30:59.253610"], ["updated_at", "2015-11-08 02:30:59.253610"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 02:30:59.264489"], ["id", 2]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 02:30:59.277368"], ["updated_at", "2015-11-08 02:30:59.277368"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 58ms (ActiveRecord: 39.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "mNktd2vpwdhMMPKz3Xs9"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$CiuDEeGsH50pC89M1Sbr2Ob9sUX6LLDD5KkJMBZQJkE2rB7I/yyzi"], ["confirmed_at", "2015-11-08 02:30:59.385364"], ["authentication_token", "mNktd2vpwdhMMPKz3Xs9"], ["created_at", "2015-11-08 02:30:59.387768"], ["updated_at", "2015-11-08 02:30:59.387768"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-08 02:30:59.399106"], ["updated_at", "2015-11-08 02:30:59.399106"]]
  [1m[35m (8.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:30:59.410498"], ["updated_at", "2015-11-08 02:30:59.410498"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test17@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:30:59.433516"], ["current_sign_in_at", "2015-11-08 02:30:59.433516"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:59.434271"], ["id", 1]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.7ms)
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (9.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "A4s8AUkoWkfaYbm8xhNq"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$p4WpiC2zHjZDk/3wG75xneOYzNjNeUnFvFU5jzZazyLQbsx3ohInO"], ["confirmed_at", "2015-11-08 02:30:59.648106"], ["authentication_token", "A4s8AUkoWkfaYbm8xhNq"], ["created_at", "2015-11-08 02:30:59.650584"], ["updated_at", "2015-11-08 02:30:59.650584"]]
  [1m[35m (5.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:30:59.674074"], ["current_sign_in_at", "2015-11-08 02:30:59.674074"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:30:59.674902"], ["id", 1]]
  [1m[35m (7.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (9.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (5.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:30:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (6.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "xyz9RnGGbycPzegzpkY6"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$sLQrcZ4sUqiIi9m/yOyLx.qT0dmQLb8hPFCQ/1ufVttQzOhoy/RjG"], ["confirmed_at", "2015-11-08 02:31:00.016413"], ["authentication_token", "xyz9RnGGbycPzegzpkY6"], ["created_at", "2015-11-08 02:31:00.018871"], ["updated_at", "2015-11-08 02:31:00.018871"]]
  [1m[35m (8.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 02:31:00.031899"], ["updated_at", "2015-11-08 02:31:00.031899"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:31:00.042376"], ["updated_at", "2015-11-08 02:31:00.042376"]]
  [1m[35m (6.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test12"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "1z4Hui_Qwpt9cVzJ1Ka9"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$6IFCeQuZzW3DOVBO3z7NCuNrgsJ0UENuew7z3tqibCmSb8EntjvV2"], ["confirmed_at", "2015-11-08 02:31:00.152302"], ["authentication_token", "1z4Hui_Qwpt9cVzJ1Ka9"], ["created_at", "2015-11-08 02:31:00.154798"], ["updated_at", "2015-11-08 02:31:00.154798"]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 02:31:00.163978"], ["updated_at", "2015-11-08 02:31:00.163978"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:31:00.173668"], ["updated_at", "2015-11-08 02:31:00.173668"]]
  [1m[35m (6.9ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test13"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test20@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (5.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "qvs2d3JQwWuT4d7EMYUj"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$awG5NMgUnX.g5pkazPICo.UDdfjlsC.8MKuUnfWDQm8UZ/KzqM802"], ["confirmed_at", "2015-11-08 02:31:00.274909"], ["authentication_token", "qvs2d3JQwWuT4d7EMYUj"], ["created_at", "2015-11-08 02:31:00.277482"], ["updated_at", "2015-11-08 02:31:00.277482"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 02:31:00.288085"], ["updated_at", "2015-11-08 02:31:00.288085"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:31:00.297462"], ["updated_at", "2015-11-08 02:31:00.297462"]]
  [1m[35m (6.8ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test14"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test14"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test21@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:31:00.326397"], ["current_sign_in_at", "2015-11-08 02:31:00.326397"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:31:00.327141"], ["id", 1]]
  [1m[35m (8.3ms)[0m  commit transaction
Redirected to http://test14.example.com/
Completed 302 Found in 15ms (ActiveRecord: 8.7ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Ws9EpTXjemsgkizdzXqe"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$e6vCex2P5oTLPv9vCN67v.A3ufeavEtcMbb.GEQQg0HIQTNgMGiT6"], ["confirmed_at", "2015-11-08 02:31:00.415449"], ["authentication_token", "Ws9EpTXjemsgkizdzXqe"], ["created_at", "2015-11-08 02:31:00.418032"], ["updated_at", "2015-11-08 02:31:00.418032"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-08 02:31:00.428018"], ["updated_at", "2015-11-08 02:31:00.428018"]]
  [1m[35m (9.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:31:00.440788"], ["updated_at", "2015-11-08 02:31:00.440788"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "kyinnAbFzMFc2-t4AyUL"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$8KvBfHHT4ff4Do.1AxDcHe3VfeYg47HWt6.z4UW/Ar/2atjl9vThe"], ["confirmed_at", "2015-11-08 02:31:00.451210"], ["authentication_token", "kyinnAbFzMFc2-t4AyUL"], ["created_at", "2015-11-08 02:31:00.453354"], ["updated_at", "2015-11-08 02:31:00.453354"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 2], ["created_at", "2015-11-08 02:31:00.464276"], ["updated_at", "2015-11-08 02:31:00.464276"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:31:00.474030"], ["updated_at", "2015-11-08 02:31:00.474030"]]
  [1m[35m (7.3ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test15"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test15"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test15"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test23@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wWvMuy89cvc-fGhsPxm3"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$01qA43n.0xZ8CLAxYbeX9eryrJRaNdkENcbwjKuiIUfgTl71pUAZC"], ["confirmed_at", "2015-11-08 02:31:00.696860"], ["authentication_token", "wWvMuy89cvc-fGhsPxm3"], ["created_at", "2015-11-08 02:31:00.699279"], ["updated_at", "2015-11-08 02:31:00.699279"]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 02:31:00.710812"], ["updated_at", "2015-11-08 02:31:00.710812"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:31:00.720075"], ["updated_at", "2015-11-08 02:31:00.720075"]]
  [1m[35m (7.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:31:00.745930"], ["current_sign_in_at", "2015-11-08 02:31:00.745930"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:31:00.746715"], ["id", 1]]
  [1m[35m (7.8ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 8.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:31:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (9.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "VWRKGyRVNsncsxU_yKG4"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$B3/7B.kLSjm6ImZa9.rkeeK0cCm/aDXEh4jLB2yeI71/MnBUSi/ne"], ["confirmed_at", "2015-11-08 02:32:33.263593"], ["authentication_token", "VWRKGyRVNsncsxU_yKG4"], ["created_at", "2015-11-08 02:32:33.282589"], ["updated_at", "2015-11-08 02:32:33.282589"]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:33.298639"], ["updated_at", "2015-11-08 02:32:33.298639"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:33.327527"], ["updated_at", "2015-11-08 02:32:33.327527"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test2@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "JHK1iCVpsxaFyAxstJ8p"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test2@example.com"], ["encrypted_password", "$2a$04$.kouuuMI2UKMecTWPnYjJuCroTnGSt7Zu6Kf4ZomJuwG9kOUw11iG"], ["confirmed_at", "2015-11-08 02:32:33.337879"], ["authentication_token", "JHK1iCVpsxaFyAxstJ8p"], ["created_at", "2015-11-08 02:32:33.340309"], ["updated_at", "2015-11-08 02:32:33.340309"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 2], ["created_at", "2015-11-08 02:32:33.350891"], ["updated_at", "2015-11-08 02:32:33.350891"]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:32:33.359636"], ["updated_at", "2015-11-08 02:32:33.359636"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:32:33.372701"], ["updated_at", "2015-11-08 02:32:33.372701"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:32:33.381852"], ["updated_at", "2015-11-08 02:32:33.381852"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (93.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.5ms)
Completed 200 OK in 238ms (Views: 225.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test2@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:32:33.657080"], ["current_sign_in_at", "2015-11-08 02:32:33.657080"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:33.657927"], ["id", 2]]
  [1m[36m (9.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 29ms (ActiveRecord: 10.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.4ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test2"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.1ms)
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (10.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "PVWhqPcaf_di4HU_Nius"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$QAii6hUuKj9lp/yfs9Bon.e1DtyvPAsyHpex6QCCCLZvRiz5vH37."], ["confirmed_at", "2015-11-08 02:32:33.822463"], ["authentication_token", "PVWhqPcaf_di4HU_Nius"], ["created_at", "2015-11-08 02:32:33.825339"], ["updated_at", "2015-11-08 02:32:33.825339"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:33.836891"], ["updated_at", "2015-11-08 02:32:33.836891"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:33.847512"], ["updated_at", "2015-11-08 02:32:33.847512"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "nMM3Dhq7uHsk9StmfPFc"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$y0qR9INyL6vbmtAfkzRZz.K6Wj37YkYFoQML5c5sa0zOKsxpYTWg2"], ["confirmed_at", "2015-11-08 02:32:33.857942"], ["authentication_token", "nMM3Dhq7uHsk9StmfPFc"], ["created_at", "2015-11-08 02:32:33.860424"], ["updated_at", "2015-11-08 02:32:33.860424"]]
  [1m[36m (8.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 2], ["created_at", "2015-11-08 02:32:33.872963"], ["updated_at", "2015-11-08 02:32:33.872963"]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:32:33.883141"], ["updated_at", "2015-11-08 02:32:33.883141"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:32:33.893246"], ["updated_at", "2015-11-08 02:32:33.893246"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:32:33.902058"], ["updated_at", "2015-11-08 02:32:33.902058"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test4@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:32:33.927540"], ["current_sign_in_at", "2015-11-08 02:32:33.927540"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:33.928435"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:32:33 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test3"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (9.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (22.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zH7hD2eEY9J-bryT1Nhv"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "bfa666b5f19562d9f36e6716d38bcc04c6b1352035f746986104e734f6262edf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$O73dkvj2Km7aWxNdBQMg6upQVRZTESvlDrc8f0hpo8Vm59f1knLgS"], ["authentication_token", "zH7hD2eEY9J-bryT1Nhv"], ["created_at", "2015-11-08 02:32:34.110894"], ["updated_at", "2015-11-08 02:32:34.110894"], ["confirmation_token", "53GT_-y5kYUC4-UABaHa"], ["confirmation_sent_at", "2015-11-08 02:32:34.297556"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 167.0ms

Sent mail to bb@gmail.com (9.3ms)
Date: Sun, 08 Nov 2015 02:32:34 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb442752b6_21363332870591@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=53GT_-y5kYUC4-UABaHa">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:34.484069"], ["updated_at", "2015-11-08 02:32:34.484069"]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:34.495229"], ["updated_at", "2015-11-08 02:32:34.495229"]]
  [1m[36m (9.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:32:34.505589"], ["updated_at", "2015-11-08 02:32:34.506064"], ["id", 1]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:32:34.526859"], ["updated_at", "2015-11-08 02:32:34.526859"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:34.553832"], ["current_sign_in_at", "2015-11-08 02:32:34.553832"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:34.554392"], ["id", 1]]
  [1m[35m (5.7ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 458ms (ActiveRecord: 46.3ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (7.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "QKYy3vq_1zKFsp64G4Gv"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "460da9e6d949f3270a54c6d73029055bb40f044fec59d8f70afbdb4547995860"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$L/mu/d99p6docZuoiMmVG.9fkemZHW/vnDKzvswDxuvSqhIiMmvjm"], ["authentication_token", "QKYy3vq_1zKFsp64G4Gv"], ["created_at", "2015-11-08 02:32:34.647819"], ["updated_at", "2015-11-08 02:32:34.647819"], ["confirmation_token", "X4TSgRNNDhjKvyen2gSz"], ["confirmation_sent_at", "2015-11-08 02:32:34.648640"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to bb@gmail.com (2.9ms)
Date: Sun, 08 Nov 2015 02:32:34 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb4429f794_21363332870673@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=X4TSgRNNDhjKvyen2gSz">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:34.654921"], ["updated_at", "2015-11-08 02:32:34.654921"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:34.664010"], ["updated_at", "2015-11-08 02:32:34.664010"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:32:34.672999"], ["updated_at", "2015-11-08 02:32:34.673528"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:32:34.684330"], ["updated_at", "2015-11-08 02:32:34.684330"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:34.704156"], ["current_sign_in_at", "2015-11-08 02:32:34.704156"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:34.704758"], ["id", 1]]
  [1m[35m (6.8ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 72ms (ActiveRecord: 44.2ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (5.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (5.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (8.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "UML99ULkEYRAFuHmmbYw"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$nXJj/liIw0tn8IMEpafju.x.qoie6eo6KcO53ud8Y2xkF253E26zi"], ["confirmed_at", "2015-11-08 02:32:34.951267"], ["authentication_token", "UML99ULkEYRAFuHmmbYw"], ["created_at", "2015-11-08 02:32:34.953605"], ["updated_at", "2015-11-08 02:32:34.953605"]]
  [1m[35m (6.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:34.975563"], ["current_sign_in_at", "2015-11-08 02:32:34.975563"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:34.976247"], ["id", 1]]
  [1m[35m (6.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:34 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
  [1m[35m (9.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "1JQHLq4xhnw7VGDkvAzh"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$Vlu1foLDsqlwKMJr8/4mxu5QK2FOA8irtMi6zTicX.FVliXO4raSe"], ["confirmed_at", "2015-11-08 02:32:35.098965"], ["authentication_token", "1JQHLq4xhnw7VGDkvAzh"], ["created_at", "2015-11-08 02:32:35.101316"], ["updated_at", "2015-11-08 02:32:35.101316"]]
  [1m[35m (7.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:35.124445"], ["current_sign_in_at", "2015-11-08 02:32:35.124445"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:35.125173"], ["id", 1]]
  [1m[35m (6.7ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (6.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 02:32:35.200345"], ["updated_at", "2015-11-08 02:32:35.200345"]]
  [1m[35m (6.9ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 0.7ms)
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "F8vCsATNssLbx2zNVgee"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "14b62e14ef637b24293aeaff6b13c9879e98b12557bcfd04343b13e4f9008eff"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$XZ2d5xmxSuAiKKbT6hm73eGK7EjJS8sSjGJtk1D7npmmKj/0Phlyu"], ["authentication_token", "F8vCsATNssLbx2zNVgee"], ["created_at", "2015-11-08 02:32:35.325091"], ["updated_at", "2015-11-08 02:32:35.325091"], ["confirmation_token", "1EQySsU3JPmYtc6LS_Eh"], ["confirmation_sent_at", "2015-11-08 02:32:35.325800"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to mtdevise@example.com (2.9ms)
Date: Sun, 08 Nov 2015 02:32:35 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563eb44350a05_2136333287076b@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=1EQySsU3JPmYtc6LS_Eh">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:35.331954"], ["updated_at", "2015-11-08 02:32:35.331954"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:35.342584"], ["updated_at", "2015-11-08 02:32:35.342584"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:32:35.349714"], ["updated_at", "2015-11-08 02:32:35.350131"], ["id", 1]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:32:35.361258"], ["updated_at", "2015-11-08 02:32:35.361258"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:32:35.383306"], ["current_sign_in_at", "2015-11-08 02:32:35.383306"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:35.383941"], ["id", 1]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
Redirected to http://test.example.com/
Completed 302 Found in 74ms (ActiveRecord: 45.5ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (9.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (13.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 0.8ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "nqxLi8Ts-pGpjep8vVzv"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$wMpW/05tJNaZEayDBwBSauvbuj4vGpk8l3DC/YpRJYVD3sJV2NMea"], ["confirmed_at", "2015-11-08 02:32:35.709755"], ["authentication_token", "nqxLi8Ts-pGpjep8vVzv"], ["created_at", "2015-11-08 02:32:35.712154"], ["updated_at", "2015-11-08 02:32:35.712154"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:35.723203"], ["updated_at", "2015-11-08 02:32:35.723203"]]
  [1m[36m (9.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:35.736042"], ["updated_at", "2015-11-08 02:32:35.736042"]]
  [1m[35m (7.1ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "1TrgBLQkGeiKN6iqHu4e"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$bkvV8NHtvnbaepjuA2aae.1413IvbOY6jVy5KC2ewEVn5vBRVZ6yi"], ["confirmed_at", "2015-11-08 02:32:35.904152"], ["authentication_token", "1TrgBLQkGeiKN6iqHu4e"], ["created_at", "2015-11-08 02:32:35.906574"], ["updated_at", "2015-11-08 02:32:35.906574"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:35.917967"], ["updated_at", "2015-11-08 02:32:35.917967"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:35.928047"], ["updated_at", "2015-11-08 02:32:35.928047"]]
  [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test8@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test8@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:32:35.954444"], ["current_sign_in_at", "2015-11-08 02:32:35.954444"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:35.955379"], ["id", 1]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (9.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "KxxM3aKqXW5p-1UCb9Rx"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test10@example.com"], ["encrypted_password", "$2a$04$.zIvytCDyRFpY8JcC7v6De/eRfG9sstoqaH2zERqLa4igiykT8qBi"], ["confirmed_at", "2015-11-08 02:32:36.043271"], ["authentication_token", "KxxM3aKqXW5p-1UCb9Rx"], ["created_at", "2015-11-08 02:32:36.045781"], ["updated_at", "2015-11-08 02:32:36.045781"]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:36.056832"], ["updated_at", "2015-11-08 02:32:36.056832"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:36.066759"], ["updated_at", "2015-11-08 02:32:36.066759"]]
  [1m[35m (5.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test10@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (6.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (9.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (8.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "aiH5uV3xuawfaJQGVYPR"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$ZLER7VbAxl1fIeKGOPIjCOyYoXt/o5LKB6fNEKHlqBBpdwg0rdYJy"], ["confirmed_at", "2015-11-08 02:32:36.220508"], ["authentication_token", "aiH5uV3xuawfaJQGVYPR"], ["created_at", "2015-11-08 02:32:36.222950"], ["updated_at", "2015-11-08 02:32:36.222950"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:36.234234"], ["updated_at", "2015-11-08 02:32:36.234234"]]
  [1m[36m (10.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:36.247809"], ["updated_at", "2015-11-08 02:32:36.247809"]]
  [1m[35m (7.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test8"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test8"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test11@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:36.277109"], ["current_sign_in_at", "2015-11-08 02:32:36.277109"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:36.277903"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://test8.example.com/
Completed 302 Found in 14ms (ActiveRecord: 6.6ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (23.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (11.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "NFvob1gy2NEtkxT8LWAj"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$7NcsyCH1L5D5546Wj2pRtONKIv2z4Q47/dB4B6GOwaSLTq9z/YVBq"], ["confirmed_at", "2015-11-08 02:32:36.385999"], ["authentication_token", "NFvob1gy2NEtkxT8LWAj"], ["created_at", "2015-11-08 02:32:36.388607"], ["updated_at", "2015-11-08 02:32:36.388607"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:36.399698"], ["updated_at", "2015-11-08 02:32:36.399698"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:36.409949"], ["updated_at", "2015-11-08 02:32:36.409949"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test9"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test12@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "fz-xwWhVmkBf4FUQogqr"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$ULx4NQDuU9hlQa/2T4DgUuNmGgdSRl664/ouvBPJezW9SmdwwWBB2"], ["confirmed_at", "2015-11-08 02:32:36.511834"], ["authentication_token", "fz-xwWhVmkBf4FUQogqr"], ["created_at", "2015-11-08 02:32:36.514206"], ["updated_at", "2015-11-08 02:32:36.514206"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:36.524125"], ["updated_at", "2015-11-08 02:32:36.524125"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:36.533688"], ["updated_at", "2015-11-08 02:32:36.533688"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "tSD1P3JY99nt3TRXfo1X"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$VObNt7rjwhcEsnPrGUZ/9e57V.xNMs7HPrHZxPv3oKxiLu5FyC4Ne"], ["confirmed_at", "2015-11-08 02:32:36.545270"], ["authentication_token", "tSD1P3JY99nt3TRXfo1X"], ["created_at", "2015-11-08 02:32:36.547141"], ["updated_at", "2015-11-08 02:32:36.547141"]]
  [1m[35m (5.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 2], ["created_at", "2015-11-08 02:32:36.556005"], ["updated_at", "2015-11-08 02:32:36.556005"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:32:36.565961"], ["updated_at", "2015-11-08 02:32:36.565961"]]
  [1m[35m (7.8ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test10"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test14@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (10.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (9.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "NbkgJfPeM-Z2xo3t4CWW"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$77VN.5OsIi6y14yXgTjhn..UQVzHw2SFopScoyzWbMZ1ePUnnk7We"], ["confirmed_at", "2015-11-08 02:32:36.676107"], ["authentication_token", "NbkgJfPeM-Z2xo3t4CWW"], ["created_at", "2015-11-08 02:32:36.678453"], ["updated_at", "2015-11-08 02:32:36.678453"]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:36.687542"], ["updated_at", "2015-11-08 02:32:36.687542"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:36.698418"], ["updated_at", "2015-11-08 02:32:36.698418"]]
  [1m[35m (5.8ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test12"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "pNyTWztCJeNxpAoM2yv5"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$oB1Ur/Bn59NNfWjtfKLphOYA52sTIUnpUt6tzsXRY.7o5Z9mKh1MS"], ["confirmed_at", "2015-11-08 02:32:36.852050"], ["authentication_token", "pNyTWztCJeNxpAoM2yv5"], ["created_at", "2015-11-08 02:32:36.854337"], ["updated_at", "2015-11-08 02:32:36.854337"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:36.864118"], ["updated_at", "2015-11-08 02:32:36.864118"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:36.873632"], ["updated_at", "2015-11-08 02:32:36.873632"]]
  [1m[35m (8.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test16@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test16@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:36.898449"], ["current_sign_in_at", "2015-11-08 02:32:36.898449"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:36.899256"], ["id", 1]]
  [1m[35m (7.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (10.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "UxpzsCUbg6goDepy29j_"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$olMV/B.oN8u6kPEESuw9aO7x649nkMYvebGZL9hhNuVJynE5axLau"], ["confirmed_at", "2015-11-08 02:32:37.190878"], ["authentication_token", "UxpzsCUbg6goDepy29j_"], ["created_at", "2015-11-08 02:32:37.193196"], ["updated_at", "2015-11-08 02:32:37.193196"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:37.204927"], ["updated_at", "2015-11-08 02:32:37.204927"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:37.214589"], ["updated_at", "2015-11-08 02:32:37.214589"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test18@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:32:37.237298"], ["current_sign_in_at", "2015-11-08 02:32:37.237298"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:37.238092"], ["id", 1]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.7ms)
  [1m[35m (7.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "1yGwfPQ-NxcSrKz_Tg7k"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$AHS2bA5XAGI.jR.ERYLE3ekZuzc0VvEEDPlJNHAj9Hj4PW/r7EgVq"], ["confirmed_at", "2015-11-08 02:32:37.347424"], ["authentication_token", "1yGwfPQ-NxcSrKz_Tg7k"], ["created_at", "2015-11-08 02:32:37.349886"], ["updated_at", "2015-11-08 02:32:37.349886"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:37.361622"], ["updated_at", "2015-11-08 02:32:37.361622"]]
  [1m[36m (9.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:37.374672"], ["updated_at", "2015-11-08 02:32:37.374672"]]
  [1m[35m (5.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test20@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:37.398047"], ["current_sign_in_at", "2015-11-08 02:32:37.398047"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:37.398898"], ["id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 02:32:37.430713"], ["updated_at", "2015-11-08 02:32:37.430713"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 02:32:37.441226"], ["updated_at", "2015-11-08 02:32:37.441226"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 02:32:37.451384"], ["id", 2]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 02:32:37.459284"], ["updated_at", "2015-11-08 02:32:37.459284"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 50ms (ActiveRecord: 33.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "cHsvMerhaPCtj3FKhxP_"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$lQf8ICJmwb/aX7KgR14atOelZZ7GVGy5JNoYXheF9fQuTe/p9Nrei"], ["confirmed_at", "2015-11-08 02:32:37.560247"], ["authentication_token", "cHsvMerhaPCtj3FKhxP_"], ["created_at", "2015-11-08 02:32:37.562635"], ["updated_at", "2015-11-08 02:32:37.562635"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:37.572081"], ["updated_at", "2015-11-08 02:32:37.572081"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:37.581800"], ["updated_at", "2015-11-08 02:32:37.581800"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:32:37.606114"], ["current_sign_in_at", "2015-11-08 02:32:37.606114"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:37.606913"], ["id", 1]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[35m (7.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "xhK1DsnmJSitMfEjxGQR"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$7t7PllcMC.cu5tS4uNWYIuP6fjyE6LE6NFXuoQbmSM157GMm20eTe"], ["confirmed_at", "2015-11-08 02:32:37.717152"], ["authentication_token", "xhK1DsnmJSitMfEjxGQR"], ["created_at", "2015-11-08 02:32:37.719512"], ["updated_at", "2015-11-08 02:32:37.719512"]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:37.730286"], ["updated_at", "2015-11-08 02:32:37.730286"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:37.739956"], ["updated_at", "2015-11-08 02:32:37.739956"]]
  [1m[35m (7.2ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:32:37.764426"], ["current_sign_in_at", "2015-11-08 02:32:37.764426"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:32:37.765245"], ["id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:32:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test17"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 0.7ms)
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (9.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Worr3Eg23Cj6nXuPMHTL"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "cd7fde13cb244d54f9c079818d9298da9076a608075fcf1f832053c0d82ac555"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$clNRfw07eXyo8dWsUzjo6O7T0yBvJDDNT.HAH4Q7QIlUmXIo.wqAC"], ["authentication_token", "Worr3Eg23Cj6nXuPMHTL"], ["created_at", "2015-11-08 02:32:37.929055"], ["updated_at", "2015-11-08 02:32:37.929055"], ["confirmation_token", "fazGviGkb_XZD7rDRkUH"], ["confirmation_sent_at", "2015-11-08 02:32:37.929838"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to user@example.com (2.8ms)
Date: Sun, 08 Nov 2015 02:32:37 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563eb445e4236_2136333287085b@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=fazGviGkb_XZD7rDRkUH">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:32:37.936087"], ["updated_at", "2015-11-08 02:32:37.936087"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:32:37.946500"], ["updated_at", "2015-11-08 02:32:37.946500"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:32:37.953539"], ["updated_at", "2015-11-08 02:32:37.953999"], ["id", 1]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (9.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "yJxhKvtQcRCqXeycXSMH"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "c5785230fd6a5e377a427d330e3560cdb94bb4bc705609e717088c8f3a7367b9"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "user@example.com"], ["encrypted_password", "$2a$04$MGeDCuexk0QZROalBrXc.eBeFzQpFoYMxv2kZJMKkrM0F2EgKltyO"], ["authentication_token", "yJxhKvtQcRCqXeycXSMH"], ["created_at", "2015-11-08 02:36:34.747180"], ["updated_at", "2015-11-08 02:36:34.747180"], ["confirmation_token", "qy8BeJGyxaxnkgwC2tSR"], ["confirmation_sent_at", "2015-11-08 02:36:34.936827"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (2.0ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 146.3ms

Sent mail to user@example.com (9.0ms)
Date: Sun, 08 Nov 2015 02:36:35 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563eb5331831d_23ba9331478565@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=qy8BeJGyxaxnkgwC2tSR">Confirm my account</a></p>
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:35.103213"], ["updated_at", "2015-11-08 02:36:35.103213"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:35.132693"], ["updated_at", "2015-11-08 02:36:35.132693"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:36:35.141577"], ["updated_at", "2015-11-08 02:36:35.142085"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["account_id", 1]]
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "FhyNbhfks434K8SbBKPH"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$VY6GEEnT9UQMJGRW6JPlM.sO1SE/PAJtvOY7W5.5EprDxFXjgA0va"], ["confirmed_at", "2015-11-08 02:36:35.271796"], ["authentication_token", "FhyNbhfks434K8SbBKPH"], ["created_at", "2015-11-08 02:36:35.274160"], ["updated_at", "2015-11-08 02:36:35.274160"]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:35.283593"], ["updated_at", "2015-11-08 02:36:35.283593"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:35.293739"], ["updated_at", "2015-11-08 02:36:35.293739"]]
  [1m[35m (7.5ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (50.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.5ms)
Completed 200 OK in 193ms (Views: 181.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:35.523501"], ["current_sign_in_at", "2015-11-08 02:36:35.523501"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:35.524325"], ["id", 1]]
  [1m[35m (11.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 24ms (ActiveRecord: 12.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.5ms)
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (11.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "BBqjvUS8sjv_CyAnvgAf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$W70qTULAP7VH9nIXzGizzelteOpod1iTrKRdN.HUb/Hy0YoTAnqdG"], ["confirmed_at", "2015-11-08 02:36:35.748257"], ["authentication_token", "BBqjvUS8sjv_CyAnvgAf"], ["created_at", "2015-11-08 02:36:35.750553"], ["updated_at", "2015-11-08 02:36:35.750553"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:35.760335"], ["updated_at", "2015-11-08 02:36:35.760335"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:35.770819"], ["updated_at", "2015-11-08 02:36:35.770819"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "oAEf7dBzs75kAgiM8TdP"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$UaxQwLcR8c9h4C8zg/Swj.F61tImy6LpZC11sb8qyjCLHtUfbwcvm"], ["confirmed_at", "2015-11-08 02:36:35.780022"], ["authentication_token", "oAEf7dBzs75kAgiM8TdP"], ["created_at", "2015-11-08 02:36:35.782040"], ["updated_at", "2015-11-08 02:36:35.782040"]]
  [1m[35m (8.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 2], ["created_at", "2015-11-08 02:36:35.793853"], ["updated_at", "2015-11-08 02:36:35.793853"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:36:35.803927"], ["updated_at", "2015-11-08 02:36:35.803927"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:36:35.817608"], ["updated_at", "2015-11-08 02:36:35.817608"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:36:35.826174"], ["updated_at", "2015-11-08 02:36:35.826174"]]
  [1m[35m (7.6ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test4@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:35.849712"], ["current_sign_in_at", "2015-11-08 02:36:35.849712"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:35.850408"], ["id", 2]]
  [1m[35m (8.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:36:35 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test3"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.1ms)
  [1m[36m (8.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test6@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "BYWu8UPFgAi71cMNX4b2"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test6@example.com"], ["encrypted_password", "$2a$04$m9h8AKy7EHCJRchVkbphTeQLI6yavxybe56/U0VNfbFH96c6D5P52"], ["confirmed_at", "2015-11-08 02:36:35.968305"], ["authentication_token", "BYWu8UPFgAi71cMNX4b2"], ["created_at", "2015-11-08 02:36:35.970603"], ["updated_at", "2015-11-08 02:36:35.970603"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:35.980217"], ["updated_at", "2015-11-08 02:36:35.980217"]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:35.991067"], ["updated_at", "2015-11-08 02:36:35.991067"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "HMw8gAzz8UNkCNJwxdsx"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$nkpWVj.UdbFw2DlK6gSsXewsDvMQVDAyX2M5OkuIu4BZDSfxY4FBG"], ["confirmed_at", "2015-11-08 02:36:36.000143"], ["authentication_token", "HMw8gAzz8UNkCNJwxdsx"], ["created_at", "2015-11-08 02:36:36.002210"], ["updated_at", "2015-11-08 02:36:36.002210"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 2], ["created_at", "2015-11-08 02:36:36.012061"], ["updated_at", "2015-11-08 02:36:36.012061"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:36:36.022276"], ["updated_at", "2015-11-08 02:36:36.022276"]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:36:36.030223"], ["updated_at", "2015-11-08 02:36:36.030223"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:36:36.038972"], ["updated_at", "2015-11-08 02:36:36.038972"]]
  [1m[35m (6.2ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test6@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test6@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:36.062790"], ["current_sign_in_at", "2015-11-08 02:36:36.062790"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:36.063588"], ["id", 1]]
  [1m[35m (7.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test4"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (11.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "XpUbzvtf_w5zYvTnXA6i"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$qnK89.hmPsuZ3zPQjuUXMOiujkDkcK9Ptu/jvVJDhokOSlX6ARn.2"], ["confirmed_at", "2015-11-08 02:36:36.216836"], ["authentication_token", "XpUbzvtf_w5zYvTnXA6i"], ["created_at", "2015-11-08 02:36:36.219204"], ["updated_at", "2015-11-08 02:36:36.219204"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:36.230022"], ["updated_at", "2015-11-08 02:36:36.230022"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:36.240344"], ["updated_at", "2015-11-08 02:36:36.240344"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test6"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test6"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test6"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test6"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zm4BdTQ-MEGa88amJuZy"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test10@example.com"], ["encrypted_password", "$2a$04$eql1c9lYnsxbLL7zcElYFOzSut88gz6RW7vf59FzIUCYO0NZJr0de"], ["confirmed_at", "2015-11-08 02:36:36.402648"], ["authentication_token", "zm4BdTQ-MEGa88amJuZy"], ["created_at", "2015-11-08 02:36:36.405528"], ["updated_at", "2015-11-08 02:36:36.405528"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:36.417366"], ["updated_at", "2015-11-08 02:36:36.417366"]]
  [1m[35m (8.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:36.428548"], ["updated_at", "2015-11-08 02:36:36.428548"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test7"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test7"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test7"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test7"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test10@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "jLkFw9szxNhCtzCwyx4H"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$XTaKI0bLBK6x.Ke5PTO.e.4XcZ0jH8PRjY/CJO0YNQlWOxhOftDRe"], ["confirmed_at", "2015-11-08 02:36:36.541354"], ["authentication_token", "jLkFw9szxNhCtzCwyx4H"], ["created_at", "2015-11-08 02:36:36.543846"], ["updated_at", "2015-11-08 02:36:36.543846"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:36.555068"], ["updated_at", "2015-11-08 02:36:36.555068"]]
  [1m[35m (8.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:36.566888"], ["updated_at", "2015-11-08 02:36:36.566888"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "njxPxg6buVQhnKz9EGYp"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$UcXgBzmWCff2t5uRk2VkZuDYt7.Sszqx23LDeHPBuIvhWBNUs9fTS"], ["confirmed_at", "2015-11-08 02:36:36.575722"], ["authentication_token", "njxPxg6buVQhnKz9EGYp"], ["created_at", "2015-11-08 02:36:36.577503"], ["updated_at", "2015-11-08 02:36:36.577503"]]
  [1m[35m (8.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 2], ["created_at", "2015-11-08 02:36:36.589142"], ["updated_at", "2015-11-08 02:36:36.589142"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:36:36.599231"], ["updated_at", "2015-11-08 02:36:36.599231"]]
  [1m[35m (6.4ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test8"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test8"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test12@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (11.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "DrAim3cDaFEK7XNeTCsG"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$R3WQo2n4wOCgP.SFACZH3.UA2jgHlV6Srdn92f1JP4K1MKfmNXk1m"], ["confirmed_at", "2015-11-08 02:36:36.712307"], ["authentication_token", "DrAim3cDaFEK7XNeTCsG"], ["created_at", "2015-11-08 02:36:36.714575"], ["updated_at", "2015-11-08 02:36:36.714575"]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:36.724174"], ["updated_at", "2015-11-08 02:36:36.724174"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:36.734622"], ["updated_at", "2015-11-08 02:36:36.734622"]]
  [1m[35m (6.1ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test10"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test13@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:36.761772"], ["current_sign_in_at", "2015-11-08 02:36:36.761772"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:36.762540"], ["id", 1]]
  [1m[35m (11.3ms)[0m  commit transaction
Redirected to http://test10.example.com/
Completed 302 Found in 18ms (ActiveRecord: 11.7ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (12.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:36 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 5.2ms | ActiveRecord: 0.7ms)
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (12.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 02:36:37.018182"], ["updated_at", "2015-11-08 02:36:37.018182"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (4.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 17ms (Views: 6.4ms | ActiveRecord: 0.9ms)
  [1m[35m (7.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (11.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.0ms | ActiveRecord: 0.8ms)
  [1m[35m (7.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (10.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "HGd2NXVj-vs1otMy1ePS"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$udRrRIaP9s.aOpyaGYzcx.IQd9tFGIEF7KTFDRAdA/lfxt1PIadX2"], ["confirmed_at", "2015-11-08 02:36:37.219813"], ["authentication_token", "HGd2NXVj-vs1otMy1ePS"], ["created_at", "2015-11-08 02:36:37.222084"], ["updated_at", "2015-11-08 02:36:37.222084"]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:37.231903"], ["updated_at", "2015-11-08 02:36:37.231903"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:37.242130"], ["updated_at", "2015-11-08 02:36:37.242130"]]
  [1m[35m (7.1ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.0ms | ActiveRecord: 0.7ms)
  [1m[36m (11.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "j5s3S6q6mdsbVMixzqq6"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "2e7ac20f2ea580617e828a8c534a4bb7970593f15fe6d0b56a9b2df3c60766a7"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$f2KZ0YsjPn4Bj1bFJuFLMuLa.EpmdvWF9AwKxLh.HzT/BIkjkfdme"], ["authentication_token", "j5s3S6q6mdsbVMixzqq6"], ["created_at", "2015-11-08 02:36:37.399256"], ["updated_at", "2015-11-08 02:36:37.399256"], ["confirmation_token", "yNUGmy4yVKjF9_NYJ3ML"], ["confirmation_sent_at", "2015-11-08 02:36:37.400063"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to mtdevise@example.com (3.6ms)
Date: Sun, 08 Nov 2015 02:36:37 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563eb53562f34_23ba93314786fa@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=yNUGmy4yVKjF9_NYJ3ML">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:37.407239"], ["updated_at", "2015-11-08 02:36:37.407239"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:37.420149"], ["updated_at", "2015-11-08 02:36:37.420149"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:36:37.429241"], ["updated_at", "2015-11-08 02:36:37.429787"], ["id", 1]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:36:37.453082"], ["updated_at", "2015-11-08 02:36:37.453082"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (8.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:37.483531"], ["current_sign_in_at", "2015-11-08 02:36:37.483531"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:37.484214"], ["id", 1]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
Redirected to http://test.example.com/
Completed 302 Found in 104ms (ActiveRecord: 54.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "JKcAh3RjkxFA5_NssufS"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$/Mh.0BZ.iGNDvb0kd4hfWuKjW7qXQzfE9U40kF164aAdV4AIZNUcu"], ["confirmed_at", "2015-11-08 02:36:37.584426"], ["authentication_token", "JKcAh3RjkxFA5_NssufS"], ["created_at", "2015-11-08 02:36:37.586882"], ["updated_at", "2015-11-08 02:36:37.586882"]]
  [1m[35m (10.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:37.614454"], ["current_sign_in_at", "2015-11-08 02:36:37.614454"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:37.615259"], ["id", 1]]
  [1m[35m (7.7ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms)
  [1m[35m (7.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (9.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "nk4KzzXxoxhsch3Q41xw"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$w4HaIZroVGfDYzrxVUaT8OGJu65ncshU7UxgKfDUo5YchMNpQDjr6"], ["confirmed_at", "2015-11-08 02:36:37.748534"], ["authentication_token", "nk4KzzXxoxhsch3Q41xw"], ["created_at", "2015-11-08 02:36:37.750920"], ["updated_at", "2015-11-08 02:36:37.750920"]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:37.760853"], ["updated_at", "2015-11-08 02:36:37.760853"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:37.771291"], ["updated_at", "2015-11-08 02:36:37.771291"]]
  [1m[35m (7.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:37.794969"], ["current_sign_in_at", "2015-11-08 02:36:37.794969"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:37.795650"], ["id", 1]]
  [1m[35m (11.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 17ms (ActiveRecord: 11.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "7Q6mYx1zyaoFoFAaGFyh"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$7HT5LzbQpjSzUghb5lx6ieDL2dr9urcx5op3A2FTrG7XXVI85kDY6"], ["confirmed_at", "2015-11-08 02:36:37.889370"], ["authentication_token", "7Q6mYx1zyaoFoFAaGFyh"], ["created_at", "2015-11-08 02:36:37.891811"], ["updated_at", "2015-11-08 02:36:37.891811"]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:37.903997"], ["updated_at", "2015-11-08 02:36:37.903997"]]
  [1m[35m (10.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:37.917403"], ["updated_at", "2015-11-08 02:36:37.917403"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:37 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test17@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (11.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "uvD9fEC5R1tkfCb_FGbj"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "47abb0ef8f4f782d794cf654d3fd8d8bad3ebf3cea159def28771c5efc0cbf5b"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$ZVe7eV1FoO0KETlYkTD0u.PG7vHR5DQRNgMdqus5MnOPAF.GK9GUy"], ["authentication_token", "uvD9fEC5R1tkfCb_FGbj"], ["created_at", "2015-11-08 02:36:38.096695"], ["updated_at", "2015-11-08 02:36:38.096695"], ["confirmation_token", "4y3_pYqL-xKwegWmLKEt"], ["confirmation_sent_at", "2015-11-08 02:36:38.097500"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 2.0ms

Sent mail to bb@gmail.com (2.9ms)
Date: Sun, 08 Nov 2015 02:36:38 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb53619054_23ba9331478780@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=4y3_pYqL-xKwegWmLKEt">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:38.104333"], ["updated_at", "2015-11-08 02:36:38.104333"]]
  [1m[36m (10.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:38.117531"], ["updated_at", "2015-11-08 02:36:38.117531"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:36:38.126240"], ["updated_at", "2015-11-08 02:36:38.126695"], ["id", 1]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:36:38.137008"], ["updated_at", "2015-11-08 02:36:38.137008"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:38.156741"], ["current_sign_in_at", "2015-11-08 02:36:38.156741"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:38.157350"], ["id", 1]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 77ms (ActiveRecord: 47.8ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "6XXk8FVtV7Eju5wePKzH"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "bac63603abe0150a62b4ca04e28c3b541d1a0eab0a172913b8d069fc141c6648"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$2D8OfvYmOW9JAnZ47.8I6uHeyXBIXxXc7e2wxo6XxruBhe/ZEGBPi"], ["authentication_token", "6XXk8FVtV7Eju5wePKzH"], ["created_at", "2015-11-08 02:36:38.259737"], ["updated_at", "2015-11-08 02:36:38.259737"], ["confirmation_token", "yjnAmyizC65kBmv61kuq"], ["confirmation_sent_at", "2015-11-08 02:36:38.260636"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to bb@gmail.com (2.8ms)
Date: Sun, 08 Nov 2015 02:36:38 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb53640cff_23ba93314788a2@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=yjnAmyizC65kBmv61kuq">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:38.267107"], ["updated_at", "2015-11-08 02:36:38.267107"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:38.276281"], ["updated_at", "2015-11-08 02:36:38.276281"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 02:36:38.285150"], ["updated_at", "2015-11-08 02:36:38.285595"], ["id", 1]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:36:38.297037"], ["updated_at", "2015-11-08 02:36:38.297037"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (10.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:38.320789"], ["current_sign_in_at", "2015-11-08 02:36:38.320789"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:38.321337"], ["id", 1]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 78ms (ActiveRecord: 48.0ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (12.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "YpWLyn3NMhE3KxtD4duf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$pOUjYYKxNZheSjK.LrBjZuI2SH23g3dyKWq8XK2LVChQ2dU3OtiYC"], ["confirmed_at", "2015-11-08 02:36:38.564211"], ["authentication_token", "YpWLyn3NMhE3KxtD4duf"], ["created_at", "2015-11-08 02:36:38.566731"], ["updated_at", "2015-11-08 02:36:38.566731"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:38.592853"], ["current_sign_in_at", "2015-11-08 02:36:38.592853"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:38.593664"], ["id", 1]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (11.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (11.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (11.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "WR_Z8uMxzUMov8AhsDSG"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$x01oh.SB/XVTHN6lc8nMjO5xPZtxSJBM7Nx5BP3yOdwtbm9rf3E52"], ["confirmed_at", "2015-11-08 02:36:38.863725"], ["authentication_token", "WR_Z8uMxzUMov8AhsDSG"], ["created_at", "2015-11-08 02:36:38.866074"], ["updated_at", "2015-11-08 02:36:38.866074"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:38.876087"], ["updated_at", "2015-11-08 02:36:38.876087"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:38.886642"], ["updated_at", "2015-11-08 02:36:38.886642"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test18@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:38.908534"], ["current_sign_in_at", "2015-11-08 02:36:38.908534"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:38.909215"], ["id", 1]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:38 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.6ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "DmXJ-xd5EsDZCKkqhXkr"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$BcssjTG8fPRgKYYcFpIQ8urahZ3On3pQMJe8v0JwhBiOnSITo4UE6"], ["confirmed_at", "2015-11-08 02:36:39.037993"], ["authentication_token", "DmXJ-xd5EsDZCKkqhXkr"], ["created_at", "2015-11-08 02:36:39.040471"], ["updated_at", "2015-11-08 02:36:39.040471"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:39.051687"], ["updated_at", "2015-11-08 02:36:39.051687"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:39.062196"], ["updated_at", "2015-11-08 02:36:39.062196"]]
  [1m[35m (7.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test20@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:39.087663"], ["current_sign_in_at", "2015-11-08 02:36:39.087663"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:39.088508"], ["id", 1]]
  [1m[35m (7.7ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 02:36:39.122180"], ["updated_at", "2015-11-08 02:36:39.122180"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 02:36:39.133026"], ["updated_at", "2015-11-08 02:36:39.133026"]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 02:36:39.144510"], ["id", 2]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 02:36:39.154610"], ["updated_at", "2015-11-08 02:36:39.154610"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 55ms (ActiveRecord: 38.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (10.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "NfMLRJ7zCe5p59iDtPzx"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$eeZG45IALtH3Iyfdit0jNOLvlXtpMH8poTwNDgOMWff70ASA/Cd1a"], ["confirmed_at", "2015-11-08 02:36:39.266631"], ["authentication_token", "NfMLRJ7zCe5p59iDtPzx"], ["created_at", "2015-11-08 02:36:39.269076"], ["updated_at", "2015-11-08 02:36:39.269076"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:39.280765"], ["updated_at", "2015-11-08 02:36:39.280765"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:39.291310"], ["updated_at", "2015-11-08 02:36:39.291310"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:39.316011"], ["current_sign_in_at", "2015-11-08 02:36:39.316011"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:39.316729"], ["id", 1]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 0.7ms)
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "dvv4evXxidLPnixCJYVx"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$QwGyIeoyq1KMt69dgmAIZuVmHnPuwPyFjK2lgfHAzHrRZGXNVEIfi"], ["confirmed_at", "2015-11-08 02:36:39.433626"], ["authentication_token", "dvv4evXxidLPnixCJYVx"], ["created_at", "2015-11-08 02:36:39.435751"], ["updated_at", "2015-11-08 02:36:39.435751"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:39.446668"], ["updated_at", "2015-11-08 02:36:39.446668"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:39.458796"], ["updated_at", "2015-11-08 02:36:39.458796"]]
  [1m[35m (6.3ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:39.481778"], ["current_sign_in_at", "2015-11-08 02:36:39.481778"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:39.482565"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:39 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test17"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.2ms | ActiveRecord: 0.7ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "s1N_kMdsjhHjWT8zB3_N"]]
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "ba68e3020fb8b71e502a68c403451cee55adb003e55a418010d5229d0c34acdb"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$gO.eBL.qRxQEL/ggsg5a5.Fp3ZS77OMMyaLs5yEgXO7TUyHSAsJTu"], ["authentication_token", "s1N_kMdsjhHjWT8zB3_N"], ["created_at", "2015-11-08 02:36:45.944928"], ["updated_at", "2015-11-08 02:36:45.944928"], ["confirmation_token", "_Tfn9NXbs_9snDCYrcFM"], ["confirmation_sent_at", "2015-11-08 02:36:46.131054"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (2.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 146.1ms

Sent mail to bb@gmail.com (8.9ms)
Date: Sun, 08 Nov 2015 02:36:46 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb53e47740_25fbef32029295@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=_Tfn9NXbs_9snDCYrcFM">Confirm my account</a></p>
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:46.296718"], ["updated_at", "2015-11-08 02:36:46.296718"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:46.326385"], ["updated_at", "2015-11-08 02:36:46.326385"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:36:46.333701"], ["updated_at", "2015-11-08 02:36:46.334163"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:36:46.354383"], ["updated_at", "2015-11-08 02:36:46.354383"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:46.382042"], ["current_sign_in_at", "2015-11-08 02:36:46.382042"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:46.382888"], ["id", 1]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 556ms (ActiveRecord: 43.3ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (7.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (10.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "3-AaoZjo4C2Xn6SpJpVC"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "1716d7fe368fcbdc4767267e0a4b1a45445eddae4ef58f7c125e3b81e8776b87"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$sSqZWRTvYjYgU8/x3Ker8uqKtdzhpoQ27WrjJUtH8um4MDZxJqmgK"], ["authentication_token", "3-AaoZjo4C2Xn6SpJpVC"], ["created_at", "2015-11-08 02:36:46.484329"], ["updated_at", "2015-11-08 02:36:46.484329"], ["confirmation_token", "n3s6EEGETqxvbLZsX5Vo"], ["confirmation_sent_at", "2015-11-08 02:36:46.485068"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.4ms

Sent mail to bb@gmail.com (2.8ms)
Date: Sun, 08 Nov 2015 02:36:46 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563eb53e777c2_25fbef3202935a@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=n3s6EEGETqxvbLZsX5Vo">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:46.491198"], ["updated_at", "2015-11-08 02:36:46.491198"]]
  [1m[35m (8.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:46.502716"], ["updated_at", "2015-11-08 02:36:46.502716"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:36:46.510208"], ["updated_at", "2015-11-08 02:36:46.510652"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:36:46.520780"], ["updated_at", "2015-11-08 02:36:46.520780"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:46.541902"], ["current_sign_in_at", "2015-11-08 02:36:46.541902"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:46.542536"], ["id", 1]]
  [1m[35m (9.5ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 76ms (ActiveRecord: 48.2ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (5.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (11.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "fAdosxPv3Qyzh9stHDQH"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$HREKkvzDN3WvkHPLMvaPv.O2tDgAv0wjcNGynMV7WZ99aYi1QKN3G"], ["confirmed_at", "2015-11-08 02:36:46.689571"], ["authentication_token", "fAdosxPv3Qyzh9stHDQH"], ["created_at", "2015-11-08 02:36:46.691963"], ["updated_at", "2015-11-08 02:36:46.691963"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:46.702919"], ["updated_at", "2015-11-08 02:36:46.702919"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:46.711943"], ["updated_at", "2015-11-08 02:36:46.711943"]]
  [1m[35m (7.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:46 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (51.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 194ms (Views: 186.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:46 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:46.941322"], ["current_sign_in_at", "2015-11-08 02:36:46.941322"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:46.942170"], ["id", 1]]
  [1m[35m (9.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 22ms (ActiveRecord: 10.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:46 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.4ms)
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "2PA-jryzsnysT-rkmeFg"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$kA7L28H5MIhuJPYKYWKq3.u7iUbgZjrxCPsNWbCQ.M8L5lx82xgrW"], ["confirmed_at", "2015-11-08 02:36:47.045463"], ["authentication_token", "2PA-jryzsnysT-rkmeFg"], ["created_at", "2015-11-08 02:36:47.047819"], ["updated_at", "2015-11-08 02:36:47.047819"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:47.059938"], ["updated_at", "2015-11-08 02:36:47.059938"]]
  [1m[35m (11.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:47.073998"], ["updated_at", "2015-11-08 02:36:47.073998"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (11.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "1Yb6-cdJy9sZx-xx-iKd"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$Zn.JoNFd/RkXdfxWPdnhzO/Y2JaLxSIRE9gpYBOhAazU2rQHAYJam"], ["confirmed_at", "2015-11-08 02:36:47.232946"], ["authentication_token", "1Yb6-cdJy9sZx-xx-iKd"], ["created_at", "2015-11-08 02:36:47.235267"], ["updated_at", "2015-11-08 02:36:47.235267"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:47.246506"], ["updated_at", "2015-11-08 02:36:47.246506"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:47.256142"], ["updated_at", "2015-11-08 02:36:47.256142"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Gch2CzyhC8v6fU-_TReR"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$EAsdid/2nfdfuiWaOGJURu5eJ..f40lpxP7t2ZKUKyrc91oxNliXm"], ["confirmed_at", "2015-11-08 02:36:47.266342"], ["authentication_token", "Gch2CzyhC8v6fU-_TReR"], ["created_at", "2015-11-08 02:36:47.268444"], ["updated_at", "2015-11-08 02:36:47.268444"]]
  [1m[35m (11.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 2], ["created_at", "2015-11-08 02:36:47.282699"], ["updated_at", "2015-11-08 02:36:47.282699"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:36:47.291462"], ["updated_at", "2015-11-08 02:36:47.291462"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:36:47.305356"], ["updated_at", "2015-11-08 02:36:47.305356"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:36:47.314512"], ["updated_at", "2015-11-08 02:36:47.314512"]]
  [1m[35m (6.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test5@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:47.338267"], ["current_sign_in_at", "2015-11-08 02:36:47.338267"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:47.339045"], ["id", 2]]
  [1m[35m (7.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test4"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.2ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.2ms)
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "k55U_Q47Eq15qbGxMsz1"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$QTahNef2MO9V4eIdPsTbGuSKmsPqHhYD9e7QmhoiV7vlRzJc6Sw/a"], ["confirmed_at", "2015-11-08 02:36:47.449239"], ["authentication_token", "k55U_Q47Eq15qbGxMsz1"], ["created_at", "2015-11-08 02:36:47.451802"], ["updated_at", "2015-11-08 02:36:47.451802"]]
  [1m[36m (9.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:47.464357"], ["updated_at", "2015-11-08 02:36:47.464357"]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:47.475224"], ["updated_at", "2015-11-08 02:36:47.475224"]]
  [1m[36m (10.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zyvJtJ93DEWG_r6gDQuv"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$XzNdj..pEf.CaLI1rmgW1.SlCYl8NtZpHs1nKLjK/SbMIWy7erw6C"], ["confirmed_at", "2015-11-08 02:36:47.488399"], ["authentication_token", "zyvJtJ93DEWG_r6gDQuv"], ["created_at", "2015-11-08 02:36:47.490281"], ["updated_at", "2015-11-08 02:36:47.490281"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 2], ["created_at", "2015-11-08 02:36:47.500368"], ["updated_at", "2015-11-08 02:36:47.500368"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:36:47.510408"], ["updated_at", "2015-11-08 02:36:47.510408"]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 02:36:47.518531"], ["updated_at", "2015-11-08 02:36:47.518531"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 02:36:47.526433"], ["updated_at", "2015-11-08 02:36:47.526433"]]
  [1m[35m (7.3ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (50.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 53.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test7@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:47.600168"], ["current_sign_in_at", "2015-11-08 02:36:47.600168"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:47.600917"], ["id", 1]]
  [1m[35m (7.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 8.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test5"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (11.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (6.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (11.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "km4TuH_G3N5nWFRGZBHZ"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$DFxieyAQR6SOCvE8xx77tuwp66.oyw7WFLaAkIdPBim1odvXZj5iS"], ["confirmed_at", "2015-11-08 02:36:47.900219"], ["authentication_token", "km4TuH_G3N5nWFRGZBHZ"], ["created_at", "2015-11-08 02:36:47.902594"], ["updated_at", "2015-11-08 02:36:47.902594"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:47.924818"], ["current_sign_in_at", "2015-11-08 02:36:47.924818"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:47.925530"], ["id", 1]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (9.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.3ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 02:36:48.060923"], ["updated_at", "2015-11-08 02:36:48.060923"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (4.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 6.2ms | ActiveRecord: 0.8ms)
  [1m[35m (7.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35m (7.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Ri7LFosp6kvNfyzE8rq5"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "162c490e51175c85530588d19499906728a369ccbf7ade26973c365065736e9c"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$o4xrpJNpt/BRUg7gQLRD6uOK0hEvk0vSQScao8MR/3QtlkMG.Pk0W"], ["authentication_token", "Ri7LFosp6kvNfyzE8rq5"], ["created_at", "2015-11-08 02:36:48.282827"], ["updated_at", "2015-11-08 02:36:48.282827"], ["confirmation_token", "m-YcZ8wk5ey5fVVXZrzx"], ["confirmation_sent_at", "2015-11-08 02:36:48.283619"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to mtdevise@example.com (2.9ms)
Date: Sun, 08 Nov 2015 02:36:48 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563eb54046561_25fbef320294bc@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=m-YcZ8wk5ey5fVVXZrzx">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:48.289864"], ["updated_at", "2015-11-08 02:36:48.289864"]]
  [1m[35m (8.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:48.301440"], ["updated_at", "2015-11-08 02:36:48.301440"]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:36:48.311379"], ["updated_at", "2015-11-08 02:36:48.311874"], ["id", 1]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 02:36:48.323733"], ["updated_at", "2015-11-08 02:36:48.323733"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:48.345890"], ["current_sign_in_at", "2015-11-08 02:36:48.345890"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:48.346580"], ["id", 1]]
  [1m[35m (6.2ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 78ms (ActiveRecord: 48.7ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 13ms (Views: 4.8ms | ActiveRecord: 0.7ms)
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (11.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "M8s9cT8gFELx44RhXNvL"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test10@example.com"], ["encrypted_password", "$2a$04$es0VqXEbSZRIiVTX9kjEhOuZSbaulfWTNpI6GBwrahg77FKF/RPHK"], ["confirmed_at", "2015-11-08 02:36:48.542756"], ["authentication_token", "M8s9cT8gFELx44RhXNvL"], ["created_at", "2015-11-08 02:36:48.545053"], ["updated_at", "2015-11-08 02:36:48.545053"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:48.556478"], ["updated_at", "2015-11-08 02:36:48.556478"]]
  [1m[35m (8.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:48.567725"], ["updated_at", "2015-11-08 02:36:48.567725"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "nM7uswEyiB3iM182U8DD"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$JSeqbzb1V67PNRZRfRXeK.0K.aICJJuiVuQk3BjAxqLHowa.zwRvi"], ["confirmed_at", "2015-11-08 02:36:48.689138"], ["authentication_token", "nM7uswEyiB3iM182U8DD"], ["created_at", "2015-11-08 02:36:48.691405"], ["updated_at", "2015-11-08 02:36:48.691405"]]
  [1m[35m (7.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:48.729823"], ["current_sign_in_at", "2015-11-08 02:36:48.729823"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:48.730727"], ["id", 1]]
  [1m[35m (6.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (8.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (10.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "h6BpTicKF9zxqw4KSCJX"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$haoPnvPATIrKOQVroDyK8OmzPUjBug8w22PdgBonEPXoLbTFifw9S"], ["confirmed_at", "2015-11-08 02:36:48.869905"], ["authentication_token", "h6BpTicKF9zxqw4KSCJX"], ["created_at", "2015-11-08 02:36:48.872384"], ["updated_at", "2015-11-08 02:36:48.872384"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:48.883727"], ["updated_at", "2015-11-08 02:36:48.883727"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:48.894799"], ["updated_at", "2015-11-08 02:36:48.894799"]]
  [1m[35m (6.1ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test8"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test8"]]
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test11@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:48.924341"], ["current_sign_in_at", "2015-11-08 02:36:48.924341"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:48.925028"], ["id", 1]]
  [1m[35m (8.0ms)[0m  commit transaction
Redirected to http://test8.example.com/
Completed 302 Found in 16ms (ActiveRecord: 8.6ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (12.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "buLhmoSwCzXrTz5mUvq1"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$pzfapI7B476vVPTKtl0hVuB.tB74Pm9wGN9RwLWQgZZzeKbqzJ2Pi"], ["confirmed_at", "2015-11-08 02:36:49.022457"], ["authentication_token", "buLhmoSwCzXrTz5mUvq1"], ["created_at", "2015-11-08 02:36:49.024923"], ["updated_at", "2015-11-08 02:36:49.024923"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:49.036298"], ["updated_at", "2015-11-08 02:36:49.036298"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.046660"], ["updated_at", "2015-11-08 02:36:49.046660"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "VxRzMgigB18MGxgMKfk-"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$kjT/86PqOf89taVWvZGRh.q/WwCECWX/CGldAsP.j.0Yja.xtLpUa"], ["confirmed_at", "2015-11-08 02:36:49.055746"], ["authentication_token", "VxRzMgigB18MGxgMKfk-"], ["created_at", "2015-11-08 02:36:49.057952"], ["updated_at", "2015-11-08 02:36:49.057952"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 2], ["created_at", "2015-11-08 02:36:49.069211"], ["updated_at", "2015-11-08 02:36:49.069211"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 02:36:49.079911"], ["updated_at", "2015-11-08 02:36:49.079911"]]
  [1m[35m (8.1ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test9"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test13@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (10.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ZTC7xfthXQ47s7Knvusy"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$Dg748QVqbU.b1nEEUWFSJ.TYYsMScseeeEo8y9yRXIFIWOTgDkmea"], ["confirmed_at", "2015-11-08 02:36:49.197431"], ["authentication_token", "ZTC7xfthXQ47s7Knvusy"], ["created_at", "2015-11-08 02:36:49.199854"], ["updated_at", "2015-11-08 02:36:49.199854"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:49.211028"], ["updated_at", "2015-11-08 02:36:49.211028"]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.219936"], ["updated_at", "2015-11-08 02:36:49.219936"]]
  [1m[35m (10.3ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test11"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test14@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (8.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (10.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "nkupkaxzUoZWzujnf76h"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$CGqCAAc7y9HlwPi2cYwgI.aiU3.gLpZTrm89xrHMY/IlBjkpbh/fm"], ["confirmed_at", "2015-11-08 02:36:49.339377"], ["authentication_token", "nkupkaxzUoZWzujnf76h"], ["created_at", "2015-11-08 02:36:49.342272"], ["updated_at", "2015-11-08 02:36:49.342272"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:49.352305"], ["updated_at", "2015-11-08 02:36:49.352305"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.362713"], ["updated_at", "2015-11-08 02:36:49.362713"]]
  [1m[35m (8.3ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test12"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (7.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "U4aJpAy5e_WpfZzSqgEb"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "c2367c1bb155ebd3c4a98636d574a36b58624986dd744ff5cbed5d5fc1fcbde0"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "user@example.com"], ["encrypted_password", "$2a$04$DiwdMMdjhbfo2bwgSEraeOJotAaPRs6DjznnXEPt6kTmI6cwDJPqG"], ["authentication_token", "U4aJpAy5e_WpfZzSqgEb"], ["created_at", "2015-11-08 02:36:49.528661"], ["updated_at", "2015-11-08 02:36:49.528661"], ["confirmation_token", "pz9MeCqtojEssh7dQYjp"], ["confirmation_sent_at", "2015-11-08 02:36:49.529381"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.8ms

Sent mail to user@example.com (3.2ms)
Date: Sun, 08 Nov 2015 02:36:49 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563eb541827f6_25fbef320295d0@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=pz9MeCqtojEssh7dQYjp">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:49.536279"], ["updated_at", "2015-11-08 02:36:49.536279"]]
  [1m[35m (11.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.550237"], ["updated_at", "2015-11-08 02:36:49.550237"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 02:36:49.559390"], ["updated_at", "2015-11-08 02:36:49.559967"], ["id", 1]]
  [1m[35m (8.0ms)[0m  commit transaction
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["account_id", 1]]
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "oMfd7U1TXz27jZd7z1fK"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$XLz39HbTmydc18GtPArcUOqCFHtrm2TZKe08y0ZA4nduEhONbpOhO"], ["confirmed_at", "2015-11-08 02:36:49.693432"], ["authentication_token", "oMfd7U1TXz27jZd7z1fK"], ["created_at", "2015-11-08 02:36:49.695949"], ["updated_at", "2015-11-08 02:36:49.695949"]]
  [1m[35m (8.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:49.707524"], ["updated_at", "2015-11-08 02:36:49.707524"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.717748"], ["updated_at", "2015-11-08 02:36:49.717748"]]
  [1m[35m (7.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test16@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test16@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:49.743493"], ["current_sign_in_at", "2015-11-08 02:36:49.743493"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:49.744255"], ["id", 1]]
  [1m[35m (9.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 16ms (ActiveRecord: 9.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 02:36:49.779505"], ["updated_at", "2015-11-08 02:36:49.779505"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.791421"], ["updated_at", "2015-11-08 02:36:49.791421"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 02:36:49.801799"], ["id", 2]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 02:36:49.811521"], ["updated_at", "2015-11-08 02:36:49.811521"]]
  [1m[36m (8.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 57ms (ActiveRecord: 41.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (10.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "7YqafX11yUHKLxHqa8Gm"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$RU3Smg7582NbsR574TgzkuqC9YbVrMmHITSCSFo6dCFqE88KqHEHm"], ["confirmed_at", "2015-11-08 02:36:49.924310"], ["authentication_token", "7YqafX11yUHKLxHqa8Gm"], ["created_at", "2015-11-08 02:36:49.926720"], ["updated_at", "2015-11-08 02:36:49.926720"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:49.936424"], ["updated_at", "2015-11-08 02:36:49.936424"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:49.946839"], ["updated_at", "2015-11-08 02:36:49.946839"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test18@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:49.972727"], ["current_sign_in_at", "2015-11-08 02:36:49.972727"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:49.973463"], ["id", 1]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:49 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 0.7ms)
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (10.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "zvnETZDigULa-EHAqsvQ"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$8ae0WIfNc82D.nKnQ2qMVOJxDYcxTcqAb210Vr3PQTn8lD//LhTrO"], ["confirmed_at", "2015-11-08 02:36:50.100678"], ["authentication_token", "zvnETZDigULa-EHAqsvQ"], ["created_at", "2015-11-08 02:36:50.103127"], ["updated_at", "2015-11-08 02:36:50.103127"]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:50.114807"], ["updated_at", "2015-11-08 02:36:50.114807"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:50.125054"], ["updated_at", "2015-11-08 02:36:50.125054"]]
  [1m[35m (7.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test20@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:50.150795"], ["current_sign_in_at", "2015-11-08 02:36:50.150795"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:50.151597"], ["id", 1]]
  [1m[35m (10.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 18ms (ActiveRecord: 11.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.7ms | ActiveRecord: 0.7ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (10.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "2k7iCzwukS3tKh1UKz9b"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$zz9OyBrEdm7OizlsaXWyCeu1oGbXSp8ZLNiwi4uGEHtrXYs4B2oOS"], ["confirmed_at", "2015-11-08 02:36:50.276666"], ["authentication_token", "2k7iCzwukS3tKh1UKz9b"], ["created_at", "2015-11-08 02:36:50.279227"], ["updated_at", "2015-11-08 02:36:50.279227"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:50.290535"], ["updated_at", "2015-11-08 02:36:50.290535"]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:50.299706"], ["updated_at", "2015-11-08 02:36:50.299706"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test22@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 02:36:50.324900"], ["current_sign_in_at", "2015-11-08 02:36:50.324900"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:50.325610"], ["id", 1]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test16"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 0.6ms)
  [1m[35m (8.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (10.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "DmtArXxhoFVZtDnhpR3Q"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$TcQlhW533EFqBzmQwjh1H.rLSsy1Lp8RD44ULfyG64beUWWKPZXIO"], ["confirmed_at", "2015-11-08 02:36:50.662486"], ["authentication_token", "DmtArXxhoFVZtDnhpR3Q"], ["created_at", "2015-11-08 02:36:50.664952"], ["updated_at", "2015-11-08 02:36:50.664952"]]
  [1m[35m (11.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 02:36:50.680372"], ["updated_at", "2015-11-08 02:36:50.680372"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 02:36:50.690884"], ["updated_at", "2015-11-08 02:36:50.690884"]]
  [1m[35m (6.3ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 02:36:50.714325"], ["current_sign_in_at", "2015-11-08 02:36:50.714325"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 02:36:50.715085"], ["id", 1]]
  [1m[35m (8.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 8.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 02:36:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (22.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (10.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "xnzTk98JoSCkofGeAThK"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$SNs1U6SLnSVO6f9eY4jgNuBLRG/N4o4U.6.TF0ypuM5E65NsqU.36"], ["confirmed_at", "2015-11-08 03:01:19.260875"], ["authentication_token", "xnzTk98JoSCkofGeAThK"], ["created_at", "2015-11-08 03:01:19.325679"], ["updated_at", "2015-11-08 03:01:19.325679"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:19.345808"], ["updated_at", "2015-11-08 03:01:19.345808"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:19.400286"], ["updated_at", "2015-11-08 03:01:19.400286"]]
  [1m[35m (8.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:19 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (101.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 367ms (Views: 353.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:19 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.3ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (9.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (10.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test2@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "DA3eTCxXPpyZF9xV5_uJ"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test2@example.com"], ["encrypted_password", "$2a$04$6ar6AuD1lAEkViwO8hGQ4eeBqVnuOwP4pQ2xxUHEKSCYQU9M2Yq/e"], ["confirmed_at", "2015-11-08 03:01:19.964167"], ["authentication_token", "DA3eTCxXPpyZF9xV5_uJ"], ["created_at", "2015-11-08 03:01:19.966774"], ["updated_at", "2015-11-08 03:01:19.966774"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:19.978544"], ["updated_at", "2015-11-08 03:01:19.978544"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:19.987600"], ["updated_at", "2015-11-08 03:01:19.987600"]]
  [1m[35m (7.2ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:19 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:20 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test2@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:20.012036"], ["current_sign_in_at", "2015-11-08 03:01:20.012036"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:20.012980"], ["id", 1]]
  [1m[35m (7.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 21ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:20 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.4ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (10.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "HNdS8TNwh92BUg2zzQb-"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "51db6a0980228367f9e950f5a9b63923600d5bea76e99ac9215e364072cf70b2"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$WZd//AIcte4qoZSLx5sZYeuBhmvGC6H81apUx/4J70In6LYw5VLLW"], ["authentication_token", "HNdS8TNwh92BUg2zzQb-"], ["created_at", "2015-11-08 03:01:20.205605"], ["updated_at", "2015-11-08 03:01:20.205605"], ["confirmation_token", "dAeYCqYBcG7SpeScNwwG"], ["confirmation_sent_at", "2015-11-08 03:01:20.406516"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.9ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 214.0ms

Sent mail to bb@gmail.com (12.9ms)
Date: Sun, 08 Nov 2015 03:01:20 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ebb009c7be_4e3e1295314910f3@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=dAeYCqYBcG7SpeScNwwG">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:20.646404"], ["updated_at", "2015-11-08 03:01:20.646404"]]
  [1m[36m (8.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:20.658730"], ["updated_at", "2015-11-08 03:01:20.658730"]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 03:01:20.665663"], ["updated_at", "2015-11-08 03:01:20.666135"], ["id", 1]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 03:01:20.687804"], ["updated_at", "2015-11-08 03:01:20.687804"]]
  [1m[36m (18.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (9.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:20.730450"], ["current_sign_in_at", "2015-11-08 03:01:20.730450"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:20.731069"], ["id", 1]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 542ms (ActiveRecord: 59.3ms)
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "LrYi4Fm4ieW2o_UyH4ty"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "c60bc25e0815492a9d5bf9853aef5043c890e65fb7fa72baa0c27594ab01d246"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$XtaXntn7yLZ3eVUj5WJRiuEcBC9d0q1X6DzP3YBOTsOJyIHmm.ARy"], ["authentication_token", "LrYi4Fm4ieW2o_UyH4ty"], ["created_at", "2015-11-08 03:01:20.826577"], ["updated_at", "2015-11-08 03:01:20.826577"], ["confirmation_token", "1yKUyeEqxeVDyojXMfYU"], ["confirmation_sent_at", "2015-11-08 03:01:20.827403"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to bb@gmail.com (2.8ms)
Date: Sun, 08 Nov 2015 03:01:20 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ebb00cb2c0_4e3e129531491197@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=1yKUyeEqxeVDyojXMfYU">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:20.833892"], ["updated_at", "2015-11-08 03:01:20.833892"]]
  [1m[36m (7.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:20.844798"], ["updated_at", "2015-11-08 03:01:20.844798"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 03:01:20.853481"], ["updated_at", "2015-11-08 03:01:20.853912"], ["id", 1]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 03:01:20.865363"], ["updated_at", "2015-11-08 03:01:20.865363"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:20.886290"], ["current_sign_in_at", "2015-11-08 03:01:20.886290"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:20.886838"], ["id", 1]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 74ms (ActiveRecord: 46.0ms)
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (18.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (10.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "pWHkygNLn7f57REn9gDo"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$9sFRaK6hQy4EQlO0jkb/N.vcMukHrJg/5XFICYAJhdiHKhAMRg.r6"], ["confirmed_at", "2015-11-08 03:01:21.035262"], ["authentication_token", "pWHkygNLn7f57REn9gDo"], ["created_at", "2015-11-08 03:01:21.037634"], ["updated_at", "2015-11-08 03:01:21.037634"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:21.061714"], ["current_sign_in_at", "2015-11-08 03:01:21.061714"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:21.062455"], ["id", 1]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (6.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (20.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "QxTjfLKXuqyAg-madBxT"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$4ZDF8SZZ7zzSHIRXRX4Xw.ZGIA1p1b6caDMs4J0jIT24HUqIJka62"], ["confirmed_at", "2015-11-08 03:01:21.357028"], ["authentication_token", "QxTjfLKXuqyAg-madBxT"], ["created_at", "2015-11-08 03:01:21.359327"], ["updated_at", "2015-11-08 03:01:21.359327"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:21.370957"], ["updated_at", "2015-11-08 03:01:21.370957"]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:21.379808"], ["updated_at", "2015-11-08 03:01:21.379808"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test4@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:21.403839"], ["current_sign_in_at", "2015-11-08 03:01:21.403839"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:21.404641"], ["id", 1]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 0.7ms)
  [1m[35m (7.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test6@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "v7gbMckkQ7aaPmsex5Bj"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test6@example.com"], ["encrypted_password", "$2a$04$VIY3MByc.G8DcLQlJ4Tz3evr61giFqP9M44jh2Z3m4eo.LJ/xb6UW"], ["confirmed_at", "2015-11-08 03:01:21.516148"], ["authentication_token", "v7gbMckkQ7aaPmsex5Bj"], ["created_at", "2015-11-08 03:01:21.518453"], ["updated_at", "2015-11-08 03:01:21.518453"]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:21.528259"], ["updated_at", "2015-11-08 03:01:21.528259"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:21.538585"], ["updated_at", "2015-11-08 03:01:21.538585"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test6@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test6@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:21.575201"], ["current_sign_in_at", "2015-11-08 03:01:21.575201"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:21.577571"], ["id", 1]]
  [1m[35m (7.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 7.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test4"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.6ms)
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zjm_V97rJZzJzYcgTUFV"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$scAuu5sGofsLoc2CIcihouKOoPdhk/rwcYVzaMjhHxeGpZ6uEyjj."], ["confirmed_at", "2015-11-08 03:01:21.691944"], ["authentication_token", "zjm_V97rJZzJzYcgTUFV"], ["created_at", "2015-11-08 03:01:21.694371"], ["updated_at", "2015-11-08 03:01:21.694371"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:21.703915"], ["updated_at", "2015-11-08 03:01:21.703915"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:21.713723"], ["updated_at", "2015-11-08 03:01:21.713723"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test8@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test8@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:21.737174"], ["current_sign_in_at", "2015-11-08 03:01:21.737174"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:21.737843"], ["id", 1]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 0.6ms)
  [1m[35m (21.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "NNGok_WAmxz9JPoupyTR"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test10@example.com"], ["encrypted_password", "$2a$04$zuEhh.SS.ZlI0uBtRzKoYOcIqvtu2Pr/lFWpb42REfo0y6sB5kfCu"], ["confirmed_at", "2015-11-08 03:01:21.862422"], ["authentication_token", "NNGok_WAmxz9JPoupyTR"], ["created_at", "2015-11-08 03:01:21.864816"], ["updated_at", "2015-11-08 03:01:21.864816"]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:21.876631"], ["updated_at", "2015-11-08 03:01:21.876631"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:21.886847"], ["updated_at", "2015-11-08 03:01:21.886847"]]
  [1m[35m (6.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test10@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:21.909187"], ["current_sign_in_at", "2015-11-08 03:01:21.909187"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:21.909903"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 03:01:21.938767"], ["updated_at", "2015-11-08 03:01:21.938767"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 03:01:21.949261"], ["updated_at", "2015-11-08 03:01:21.949261"]]
  [1m[35m (9.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 03:01:21.961590"], ["id", 2]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 03:01:21.971144"], ["updated_at", "2015-11-08 03:01:21.971144"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (7.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 55ms (ActiveRecord: 38.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:21 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 20ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "HxD8JsKQSy9z47XaMUsc"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$mWs./.htJj99GiHHvWoedO2F/yE1xzOGCiTI8A//7cRFExasQHF8C"], ["confirmed_at", "2015-11-08 03:01:22.141403"], ["authentication_token", "HxD8JsKQSy9z47XaMUsc"], ["created_at", "2015-11-08 03:01:22.143821"], ["updated_at", "2015-11-08 03:01:22.143821"]]
  [1m[36m (8.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:22.155936"], ["updated_at", "2015-11-08 03:01:22.155936"]]
  [1m[35m (9.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:22.167764"], ["updated_at", "2015-11-08 03:01:22.167764"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Khrs4gKqmbyafv7qySno"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$MAkJKARLi/MXn9cSEaynKuqrEu0glHoSCAV8w575nuP9MJ4gu0KIq"], ["confirmed_at", "2015-11-08 03:01:22.178920"], ["authentication_token", "Khrs4gKqmbyafv7qySno"], ["created_at", "2015-11-08 03:01:22.180876"], ["updated_at", "2015-11-08 03:01:22.180876"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 2], ["created_at", "2015-11-08 03:01:22.191774"], ["updated_at", "2015-11-08 03:01:22.191774"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:01:22.201863"], ["updated_at", "2015-11-08 03:01:22.201863"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 03:01:22.236378"], ["updated_at", "2015-11-08 03:01:22.236378"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 03:01:22.245874"], ["updated_at", "2015-11-08 03:01:22.245874"]]
  [1m[35m (7.5ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 46.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test13@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:22.315658"], ["current_sign_in_at", "2015-11-08 03:01:22.315658"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:22.316506"], ["id", 2]]
  [1m[35m (7.8ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 15ms (ActiveRecord: 8.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.1ms)
  [1m[36m (9.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (7.7ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "muPVPoBmjui5TTuzJEnW"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$urvcuUpb2WDxf0DDCrtR3OmzhxyyAvAmtlKsaaxA9MZMTRVMI.r/S"], ["confirmed_at", "2015-11-08 03:01:22.449260"], ["authentication_token", "muPVPoBmjui5TTuzJEnW"], ["created_at", "2015-11-08 03:01:22.459192"], ["updated_at", "2015-11-08 03:01:22.459192"]]
  [1m[36m (10.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:22.473342"], ["updated_at", "2015-11-08 03:01:22.473342"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:22.483692"], ["updated_at", "2015-11-08 03:01:22.483692"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "iCpsuGgPZWFMbyAXbVhJ"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$69fmiNXny1aVvFBikdMZ9eEflHWKcZxzjRCzOyJB28M8BMjfHm8gO"], ["confirmed_at", "2015-11-08 03:01:22.493977"], ["authentication_token", "iCpsuGgPZWFMbyAXbVhJ"], ["created_at", "2015-11-08 03:01:22.495935"], ["updated_at", "2015-11-08 03:01:22.495935"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 2], ["created_at", "2015-11-08 03:01:22.506706"], ["updated_at", "2015-11-08 03:01:22.506706"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:01:22.515366"], ["updated_at", "2015-11-08 03:01:22.515366"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 03:01:22.524652"], ["updated_at", "2015-11-08 03:01:22.524652"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 03:01:22.533237"], ["updated_at", "2015-11-08 03:01:22.533237"]]
  [1m[35m (7.4ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:22.557520"], ["current_sign_in_at", "2015-11-08 03:01:22.557520"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:22.558247"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (20.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "b38zTQjHamWdiiHeBG4o"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$k8bnYDj91TQFHpKhxh9M..FiR/WXZ.roL7FYDc1OcRRZMCgDDqiyC"], ["confirmed_at", "2015-11-08 03:01:22.716950"], ["authentication_token", "b38zTQjHamWdiiHeBG4o"], ["created_at", "2015-11-08 03:01:22.719302"], ["updated_at", "2015-11-08 03:01:22.719302"]]
  [1m[36m (8.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:22.730819"], ["updated_at", "2015-11-08 03:01:22.730819"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:22.739855"], ["updated_at", "2015-11-08 03:01:22.739855"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test11"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test11"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test18@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:22.774315"], ["current_sign_in_at", "2015-11-08 03:01:22.774315"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:22.774998"], ["id", 1]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
Redirected to http://test11.example.com/
Completed 302 Found in 14ms (ActiveRecord: 7.8ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test11"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "hyLTiEbP5yUH2nHJ6SyB"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$9c03xljsMY9taNyksqmoROrHWIIXATy/il4x1tdWbfzc2YqHPaEyy"], ["confirmed_at", "2015-11-08 03:01:22.864746"], ["authentication_token", "hyLTiEbP5yUH2nHJ6SyB"], ["created_at", "2015-11-08 03:01:22.867066"], ["updated_at", "2015-11-08 03:01:22.867066"]]
  [1m[35m (20.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:22.891045"], ["updated_at", "2015-11-08 03:01:22.891045"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:22.899828"], ["updated_at", "2015-11-08 03:01:22.899828"]]
  [1m[35m (8.8ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:22 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test12"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test19@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (12.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "vtYCUvRa9mboxZcWmB8v"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$Y4xzAlUu75ASBcTzYJYUouQsFvqxLV6EY/Ief0Io9cBAJJicBcv1S"], ["confirmed_at", "2015-11-08 03:01:23.013757"], ["authentication_token", "vtYCUvRa9mboxZcWmB8v"], ["created_at", "2015-11-08 03:01:23.016250"], ["updated_at", "2015-11-08 03:01:23.016250"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:23.027320"], ["updated_at", "2015-11-08 03:01:23.027320"]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:23.037194"], ["updated_at", "2015-11-08 03:01:23.037194"]]
  [1m[35m (7.4ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test13"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (8.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (25.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "KnqZfZJw49KbbEED6MyX"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$B3Ya3YQy0EMF8JVdEpqEI.Yqa3ZS2XTNewMZcysD4vxXAbvxRlyBK"], ["confirmed_at", "2015-11-08 03:01:23.161949"], ["authentication_token", "KnqZfZJw49KbbEED6MyX"], ["created_at", "2015-11-08 03:01:23.164479"], ["updated_at", "2015-11-08 03:01:23.164479"]]
  [1m[35m (7.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:23.175760"], ["updated_at", "2015-11-08 03:01:23.175760"]]
  [1m[36m (8.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:23.186832"], ["updated_at", "2015-11-08 03:01:23.186832"]]
  [1m[35m (13.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "KN4QghCbEa7yKgBEyJ-c"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$hBCIG/B9.oUkXGOjOOPxbuCliCNzs/nOTzegXjR/1f8T4ri69N16K"], ["confirmed_at", "2015-11-08 03:01:23.203990"], ["authentication_token", "KN4QghCbEa7yKgBEyJ-c"], ["created_at", "2015-11-08 03:01:23.206075"], ["updated_at", "2015-11-08 03:01:23.206075"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 2], ["created_at", "2015-11-08 03:01:23.215592"], ["updated_at", "2015-11-08 03:01:23.215592"]]
  [1m[35m (7.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:01:23.225126"], ["updated_at", "2015-11-08 03:01:23.225126"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test14"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test14"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test14"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test22@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test22@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (11.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (19.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (10.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "c6_pizuAMjUnVnnhDns_"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "529bba71854ad2734c16072a7d8078a733ef2572730bc3ead2ea5d17932bc247"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$RvcXGFmgnpw3QKPO0lPi6uXANV4Kzw/7hvKcApf0zP3V/TIIFkUnG"], ["authentication_token", "c6_pizuAMjUnVnnhDns_"], ["created_at", "2015-11-08 03:01:23.404055"], ["updated_at", "2015-11-08 03:01:23.404055"], ["confirmation_token", "PLpzQ-PQnQtyYxTbAePK"], ["confirmation_sent_at", "2015-11-08 03:01:23.404786"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.8ms

Sent mail to user@example.com (2.6ms)
Date: Sun, 08 Nov 2015 03:01:23 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ebb0363f44_4e3e12953149129b@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=PLpzQ-PQnQtyYxTbAePK">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:23.411036"], ["updated_at", "2015-11-08 03:01:23.411036"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:23.420015"], ["updated_at", "2015-11-08 03:01:23.420015"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 03:01:23.428428"], ["updated_at", "2015-11-08 03:01:23.428878"], ["id", 1]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (9.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (21.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (10.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "byzzoJKKeqjsuD3vRMEH"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$NNCgGSRuV0rJYiBK9ICKGujRWwOEiXXble5jY2rUMMlJl8flcYfTq"], ["confirmed_at", "2015-11-08 03:01:23.675983"], ["authentication_token", "byzzoJKKeqjsuD3vRMEH"], ["created_at", "2015-11-08 03:01:23.678397"], ["updated_at", "2015-11-08 03:01:23.678397"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:23.701215"], ["current_sign_in_at", "2015-11-08 03:01:23.701215"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:23.701922"], ["id", 1]]
  [1m[36m (9.6ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 16ms (ActiveRecord: 10.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (19.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 1.1ms)
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "NxkzdwSieLWh_J-dUdYx"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$jVjhfmET.m6CqEiD6kSm8OTguRMdLm75Y9PXOBWWTmuYIaMpkKpyu"], ["confirmed_at", "2015-11-08 03:01:23.885230"], ["authentication_token", "NxkzdwSieLWh_J-dUdYx"], ["created_at", "2015-11-08 03:01:23.887730"], ["updated_at", "2015-11-08 03:01:23.887730"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:23.898304"], ["updated_at", "2015-11-08 03:01:23.898304"]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:23.908302"], ["updated_at", "2015-11-08 03:01:23.908302"]]
  [1m[36m (10.8ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:23 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 0.8ms)
  [1m[35m (18.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 0.8ms)
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (9.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "sTQgeNxCPB_EseL37xWV"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "75931354dddaaed337e16701e4b6c666bcf2215ff030758d5cd8db73958af687"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$soMVe44qFDWjOgT.24dx..srxDc6p1sCHCq58BiPZmm7Ik6ZDoZLS"], ["authentication_token", "sTQgeNxCPB_EseL37xWV"], ["created_at", "2015-11-08 03:01:24.142228"], ["updated_at", "2015-11-08 03:01:24.142228"], ["confirmation_token", "TFeqMY1mzS8_68bHJvAd"], ["confirmation_sent_at", "2015-11-08 03:01:24.143045"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to mtdevise@example.com (2.8ms)
Date: Sun, 08 Nov 2015 03:01:24 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563ebb0424030_4e3e1295314913ee@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=TFeqMY1mzS8_68bHJvAd">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:24.149130"], ["updated_at", "2015-11-08 03:01:24.149130"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:24.159573"], ["updated_at", "2015-11-08 03:01:24.159573"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 03:01:24.167612"], ["updated_at", "2015-11-08 03:01:24.168028"], ["id", 1]]
  [1m[35m (19.8ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 03:01:24.191926"], ["updated_at", "2015-11-08 03:01:24.191926"]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:24.212291"], ["current_sign_in_at", "2015-11-08 03:01:24.212291"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:24.212910"], ["id", 1]]
  [1m[35m (7.2ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 86ms (ActiveRecord: 58.5ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 03:01:24.307643"], ["updated_at", "2015-11-08 03:01:24.307643"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 5.5ms | ActiveRecord: 0.8ms)
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (20.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (10.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "3yKXmefJnXvmVqLPi2x8"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$omalOaHpCwpONyl1gRkYLe/dVq/2WPexak.QREzo6k1Uwsod4mHry"], ["confirmed_at", "2015-11-08 03:01:24.468880"], ["authentication_token", "3yKXmefJnXvmVqLPi2x8"], ["created_at", "2015-11-08 03:01:24.471263"], ["updated_at", "2015-11-08 03:01:24.471263"]]
  [1m[35m (9.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:24.484112"], ["updated_at", "2015-11-08 03:01:24.484112"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:24.494542"], ["updated_at", "2015-11-08 03:01:24.494542"]]
  [1m[35m (6.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:24.517069"], ["current_sign_in_at", "2015-11-08 03:01:24.517069"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:24.517805"], ["id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:24 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (13.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (15.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36m (12.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "qRTF34gcC38Ba9yLBrv_"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$YbhAJJIux2VT8UuJjQefOO6lpsrG8PV4KD1ykNvXDWkCo6uIB777i"], ["confirmed_at", "2015-11-08 03:01:37.950113"], ["authentication_token", "qRTF34gcC38Ba9yLBrv_"], ["created_at", "2015-11-08 03:01:37.969763"], ["updated_at", "2015-11-08 03:01:37.969763"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:37.998994"], ["updated_at", "2015-11-08 03:01:37.998994"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:38.029551"], ["updated_at", "2015-11-08 03:01:38.029551"]]
  [1m[35m (7.6ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (53.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 244ms (Views: 229.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:38.311391"], ["current_sign_in_at", "2015-11-08 03:01:38.311391"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:38.312191"], ["id", 1]]
  [1m[35m (8.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 28ms (ActiveRecord: 9.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.3ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.2ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 03:01:38.380512"], ["updated_at", "2015-11-08 03:01:38.380512"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 03:01:38.393080"], ["updated_at", "2015-11-08 03:01:38.393080"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?[0m  [["owner_id", 1], ["updated_at", "2015-11-08 03:01:38.403474"], ["id", 2]]
  [1m[35m (20.5ms)[0m  commit transaction
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 03:01:38.437206"], ["updated_at", "2015-11-08 03:01:38.437206"]]
  [1m[35m (8.5ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
Redirected to http://www.example.com/accounts
Completed 302 Found in 91ms (ActiveRecord: 53.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (9.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "gDniTDcWAbZtobzRNLhh"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$f7vDxjqW6XnBeKO9ZYcGKufSRl4U2mBHih/WTcGthcVEz/SWOZFsO"], ["confirmed_at", "2015-11-08 03:01:38.553803"], ["authentication_token", "gDniTDcWAbZtobzRNLhh"], ["created_at", "2015-11-08 03:01:38.556265"], ["updated_at", "2015-11-08 03:01:38.556265"]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:38.568071"], ["updated_at", "2015-11-08 03:01:38.568071"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:38.577998"], ["updated_at", "2015-11-08 03:01:38.577998"]]
  [1m[35m (6.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test3@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:38.601980"], ["current_sign_in_at", "2015-11-08 03:01:38.601980"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:38.602731"], ["id", 1]]
  [1m[35m (5.8ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 0.7ms)
  [1m[35m (7.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ePhckLsmak2AwEjng4y9"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$DGcnErAzST26SzBDpUMLWe94O3qxvtYRSahUPhtoYceY1FHPErUjW"], ["confirmed_at", "2015-11-08 03:01:38.737165"], ["authentication_token", "ePhckLsmak2AwEjng4y9"], ["created_at", "2015-11-08 03:01:38.739565"], ["updated_at", "2015-11-08 03:01:38.739565"]]
  [1m[35m (10.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:38.753778"], ["updated_at", "2015-11-08 03:01:38.753778"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:38.763439"], ["updated_at", "2015-11-08 03:01:38.763439"]]
  [1m[35m (7.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test5@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:38.788300"], ["current_sign_in_at", "2015-11-08 03:01:38.788300"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:38.789113"], ["id", 1]]
  [1m[35m (6.7ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.2ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test3"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 4.0ms | ActiveRecord: 0.8ms)
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (13.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "g7SzkfXYKdEJALU8KtHx"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$a2jezr2RbOaiu8lIFZ8JSuAcVivf2It8ee2ruo890ECU18dyNwpvW"], ["confirmed_at", "2015-11-08 03:01:38.912141"], ["authentication_token", "g7SzkfXYKdEJALU8KtHx"], ["created_at", "2015-11-08 03:01:38.914595"], ["updated_at", "2015-11-08 03:01:38.914595"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:38.923516"], ["updated_at", "2015-11-08 03:01:38.923516"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:38.931562"], ["updated_at", "2015-11-08 03:01:38.931562"]]
  [1m[35m (6.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test7@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:38.953927"], ["current_sign_in_at", "2015-11-08 03:01:38.953927"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:38.954571"], ["id", 1]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:01:38 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 9ms (Views: 3.8ms | ActiveRecord: 0.7ms)
  [1m[35m (7.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (19.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "wXyrZ5BtTm9oVchqAsix"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$CRZrEp556jQbtft8ZiQcu.Gz6ESfL.12hSObbDnfVxpASo0PpnZGm"], ["confirmed_at", "2015-11-08 03:01:39.124855"], ["authentication_token", "wXyrZ5BtTm9oVchqAsix"], ["created_at", "2015-11-08 03:01:39.127260"], ["updated_at", "2015-11-08 03:01:39.127260"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:39.137705"], ["updated_at", "2015-11-08 03:01:39.137705"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:39.147168"], ["updated_at", "2015-11-08 03:01:39.147168"]]
  [1m[35m (9.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "ExVZgvzzsfTQ3Q3JQVuf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test10@example.com"], ["encrypted_password", "$2a$04$OSAjN8NGyaaNNTUn2gkPXuLc3VdiWgHv7rC6CkqeQyjipwQ3bhDH2"], ["confirmed_at", "2015-11-08 03:01:39.159884"], ["authentication_token", "ExVZgvzzsfTQ3Q3JQVuf"], ["created_at", "2015-11-08 03:01:39.161830"], ["updated_at", "2015-11-08 03:01:39.161830"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 2], ["created_at", "2015-11-08 03:01:39.172473"], ["updated_at", "2015-11-08 03:01:39.172473"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:01:39.182446"], ["updated_at", "2015-11-08 03:01:39.182446"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 03:01:39.194029"], ["updated_at", "2015-11-08 03:01:39.194029"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 03:01:39.202259"], ["updated_at", "2015-11-08 03:01:39.202259"]]
  [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test10@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:39.275150"], ["current_sign_in_at", "2015-11-08 03:01:39.275150"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:39.275994"], ["id", 2]]
  [1m[36m (19.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 26ms (ActiveRecord: 19.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test6"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.2ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.2ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sUiZJhigBoUZqCsmVpKH"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$i7OIsaYbvfgtEMkz6MwkEepfQS6pvwHffEHODJmiUi8x7.6O/RLny"], ["confirmed_at", "2015-11-08 03:01:39.404886"], ["authentication_token", "sUiZJhigBoUZqCsmVpKH"], ["created_at", "2015-11-08 03:01:39.407413"], ["updated_at", "2015-11-08 03:01:39.407413"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:39.418998"], ["updated_at", "2015-11-08 03:01:39.418998"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:39.427456"], ["updated_at", "2015-11-08 03:01:39.427456"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ocEUu7G9anSbFmGxSogX"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$.z4k2kZMgge9SVK5aBMyFOGROiNTwGNCfxrYbvqpfrMt8LWrD64.."], ["confirmed_at", "2015-11-08 03:01:39.436383"], ["authentication_token", "ocEUu7G9anSbFmGxSogX"], ["created_at", "2015-11-08 03:01:39.438270"], ["updated_at", "2015-11-08 03:01:39.438270"]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 2], ["created_at", "2015-11-08 03:01:39.447260"], ["updated_at", "2015-11-08 03:01:39.447260"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:01:39.455298"], ["updated_at", "2015-11-08 03:01:39.455298"]]
  [1m[35m (9.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 03:01:39.466358"], ["updated_at", "2015-11-08 03:01:39.466358"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 03:01:39.475081"], ["updated_at", "2015-11-08 03:01:39.475081"]]
  [1m[35m (5.6ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test12@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:39.498670"], ["current_sign_in_at", "2015-11-08 03:01:39.498670"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:39.499541"], ["id", 1]]
  [1m[35m (20.1ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 27ms (ActiveRecord: 20.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test7"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (6.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (9.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (10.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.test.host/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (21.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.test.host/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (11.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "6x71F9QDjiu4hAeYrBaw"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$aPq8j.KcqSsHxWvv7916FO2Uz2ZsMATME2Uc4E8N10AH6A/A3a1CO"], ["confirmed_at", "2015-11-08 03:01:39.848579"], ["authentication_token", "6x71F9QDjiu4hAeYrBaw"], ["created_at", "2015-11-08 03:01:39.851122"], ["updated_at", "2015-11-08 03:01:39.851122"]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:39.860471"], ["updated_at", "2015-11-08 03:01:39.860471"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:39.871138"], ["updated_at", "2015-11-08 03:01:39.871138"]]
  [1m[35m (9.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test15@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test15@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:39.897605"], ["current_sign_in_at", "2015-11-08 03:01:39.897605"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:39.898466"], ["id", 1]]
  [1m[35m (5.9ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:39 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (21.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (9.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "RLWT69btXTyVpszEeKNb"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$UyG263VMF04ncF1qCSyYi.SZc5Ax22k.p4ovrCYXnYKhzl4KDAzgW"], ["confirmed_at", "2015-11-08 03:01:40.008198"], ["authentication_token", "RLWT69btXTyVpszEeKNb"], ["created_at", "2015-11-08 03:01:40.010744"], ["updated_at", "2015-11-08 03:01:40.010744"]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:40.020456"], ["updated_at", "2015-11-08 03:01:40.020456"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:40.030634"], ["updated_at", "2015-11-08 03:01:40.030634"]]
  [1m[35m (5.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test17@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test17@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (7.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (11.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (22.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (9.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (11.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "tLN_f-ogcX6SDDspQopi"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$06QSmvLE1SFEID1S90I82OAHXQEZYaSrSH6.6Ng08JSoGVKku7js."], ["confirmed_at", "2015-11-08 03:01:40.332860"], ["authentication_token", "tLN_f-ogcX6SDDspQopi"], ["created_at", "2015-11-08 03:01:40.335464"], ["updated_at", "2015-11-08 03:01:40.335464"]]
  [1m[35m (7.7ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:40.359519"], ["current_sign_in_at", "2015-11-08 03:01:40.359519"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:40.360345"], ["id", 1]]
  [1m[35m (21.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 29ms (ActiveRecord: 21.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (9.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "MtTxkZgFFZU3HN8iVGpx"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$ugsLMGY71f4zDHKsu9TDLOXLP18YcDJ674xt2z7ZVsB4.YFtQxJIa"], ["confirmed_at", "2015-11-08 03:01:40.660133"], ["authentication_token", "MtTxkZgFFZU3HN8iVGpx"], ["created_at", "2015-11-08 03:01:40.662380"], ["updated_at", "2015-11-08 03:01:40.662380"]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:40.671995"], ["updated_at", "2015-11-08 03:01:40.671995"]]
  [1m[36m (8.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:40.683278"], ["updated_at", "2015-11-08 03:01:40.683278"]]
  [1m[35m (5.7ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (10.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (22.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 03:01:40.859816"], ["updated_at", "2015-11-08 03:01:40.859816"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (6.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Cq1WeeS_Md7kGfsoGzgG"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$MgdSeqvZjOvjsd54DGzh3u66cCL4bneutLMMoiZ/LjkiDCLuRm6Ky"], ["confirmed_at", "2015-11-08 03:01:40.941253"], ["authentication_token", "Cq1WeeS_Md7kGfsoGzgG"], ["created_at", "2015-11-08 03:01:40.943729"], ["updated_at", "2015-11-08 03:01:40.943729"]]
  [1m[35m (7.6ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "orbanbotond@gmail.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:40.968191"], ["current_sign_in_at", "2015-11-08 03:01:40.968191"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:40.968985"], ["id", 1]]
  [1m[35m (7.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", "www"]]
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.3ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:40 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (9.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (18.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "D5jMxN4Q6gVM3yA2nNbz"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "570be009067cc72c5d21b94db612f95fdb19a17ff1e0745b4a2da2057cbed436"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$Nte60juewR8/d83ZnBDdE.h7YGvZyky1I5o84uilNJqktyeQx9Jgi"], ["authentication_token", "D5jMxN4Q6gVM3yA2nNbz"], ["created_at", "2015-11-08 03:01:41.211817"], ["updated_at", "2015-11-08 03:01:41.211817"], ["confirmation_token", "2XaZWA2SbLHL94pCh6so"], ["confirmation_sent_at", "2015-11-08 03:01:41.406637"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.9ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 215.2ms

Sent mail to user@example.com (8.6ms)
Date: Sun, 08 Nov 2015 03:01:41 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ebb159b838_4e6212e531463461@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=2XaZWA2SbLHL94pCh6so">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:41.640902"], ["updated_at", "2015-11-08 03:01:41.640902"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:41.652396"], ["updated_at", "2015-11-08 03:01:41.652396"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 03:01:41.660680"], ["updated_at", "2015-11-08 03:01:41.661139"], ["id", 1]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (22.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (10.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:41 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?[0m  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:41 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (12.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Pbz82Bgd2a4NMQqUMNLJ"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$i2FPOP0sq.h5glbyOJXRROi4K6Xct9nv.seJ4JMTyzUrFOPA3KjCm"], ["confirmed_at", "2015-11-08 03:01:41.984050"], ["authentication_token", "Pbz82Bgd2a4NMQqUMNLJ"], ["created_at", "2015-11-08 03:01:41.986682"], ["updated_at", "2015-11-08 03:01:41.986682"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:41.996496"], ["updated_at", "2015-11-08 03:01:41.996496"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:42.006936"], ["updated_at", "2015-11-08 03:01:42.006936"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test19@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:01:42.030375"], ["current_sign_in_at", "2015-11-08 03:01:42.030375"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:42.031198"], ["id", 1]]
  [1m[36m (10.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 17ms (ActiveRecord: 11.0ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", ""]]
Redirected to http://www.example.com/
Filter chain halted as :subdomainvalidator rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "www"]]
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  [["subdomain", "www"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (18.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (10.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Ek9saW_BuvN2DWnuvGq2"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$M3DJRGc8eSAOn0z1QXnrL.EE4zarqd0zcr5SlzSLv3J8x2UuIb686"], ["confirmed_at", "2015-11-08 03:01:42.188692"], ["authentication_token", "Ek9saW_BuvN2DWnuvGq2"], ["created_at", "2015-11-08 03:01:42.191187"], ["updated_at", "2015-11-08 03:01:42.191187"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:42.202563"], ["updated_at", "2015-11-08 03:01:42.202563"]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:42.211630"], ["updated_at", "2015-11-08 03:01:42.211630"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test13"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test13"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1[0m  [["subdomain", "test13"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1  [["account_id", 1], ["email", "test21@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (8.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "YeJfagxKfFsJS_-WpLsX"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$f7rHC21OilLr1DTBoxqAvuIkdQdcutac2EP27Ey3gh2BU1KlUYL1a"], ["confirmed_at", "2015-11-08 03:01:42.323707"], ["authentication_token", "YeJfagxKfFsJS_-WpLsX"], ["created_at", "2015-11-08 03:01:42.326054"], ["updated_at", "2015-11-08 03:01:42.326054"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:42.348311"], ["updated_at", "2015-11-08 03:01:42.348311"]]
  [1m[35m (10.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:42.361144"], ["updated_at", "2015-11-08 03:01:42.361144"]]
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "WaeyBZtezAFRoRPxVXnR"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$Y4aElv.fw4Pk1oIj1ahMhOrA70omPipTSqXh8kG/Uj4ipsOfF.mBG"], ["confirmed_at", "2015-11-08 03:01:42.371771"], ["authentication_token", "WaeyBZtezAFRoRPxVXnR"], ["created_at", "2015-11-08 03:01:42.373843"], ["updated_at", "2015-11-08 03:01:42.373843"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 2], ["created_at", "2015-11-08 03:01:42.384579"], ["updated_at", "2015-11-08 03:01:42.384579"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:01:42.394834"], ["updated_at", "2015-11-08 03:01:42.394834"]]
  [1m[35m (5.9ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test14"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test14"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test23@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test23@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (10.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Mv41EExAyxiksZ_6fxXi"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$yywIwrhd0xqqQXPdiG01ReZ1wJ7kS0eOefUfwR1hy.v/Igl3qRIKi"], ["confirmed_at", "2015-11-08 03:01:42.504123"], ["authentication_token", "Mv41EExAyxiksZ_6fxXi"], ["created_at", "2015-11-08 03:01:42.506744"], ["updated_at", "2015-11-08 03:01:42.506744"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:42.517998"], ["updated_at", "2015-11-08 03:01:42.517998"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:42.528063"], ["updated_at", "2015-11-08 03:01:42.528063"]]
  [1m[35m (7.7ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test16"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test16"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test16"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test16"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (8.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test25@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "PyqjiHmxazMo-f4sR2j-"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test25@example.com"], ["encrypted_password", "$2a$04$lZbIIBhOhzXTjKOsZROGPet5iQx3ZXgPUKp9ENuUn4luoKdJolKcC"], ["confirmed_at", "2015-11-08 03:01:42.649499"], ["authentication_token", "PyqjiHmxazMo-f4sR2j-"], ["created_at", "2015-11-08 03:01:42.651942"], ["updated_at", "2015-11-08 03:01:42.651942"]]
  [1m[35m (10.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 03:01:42.665808"], ["updated_at", "2015-11-08 03:01:42.665808"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:01:42.675699"], ["updated_at", "2015-11-08 03:01:42.675699"]]
  [1m[35m (7.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test17"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test17"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test17"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test25@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test17"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test25@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:01:42.704247"], ["current_sign_in_at", "2015-11-08 03:01:42.704247"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:01:42.705010"], ["id", 1]]
  [1m[35m (7.5ms)[0m  commit transaction
Redirected to http://test17.example.com/
Completed 302 Found in 14ms (ActiveRecord: 7.9ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:01:42 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test17"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (11.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (11.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "cLrpmyxpa7Dv8s3vfQ4j"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "4b5f9a6f74357830ddde38c59fb5a86ca6de1735fa91a9dc370484f1500f8dbb"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$/ICcA33lSWP09ghN9O6FEujzHkh9iNQIjfOnOl4G4adtxK6xa4aDi"], ["authentication_token", "cLrpmyxpa7Dv8s3vfQ4j"], ["created_at", "2015-11-08 03:02:58.156929"], ["updated_at", "2015-11-08 03:02:58.156929"], ["confirmation_token", "YkwNp2TarDP3zhjvEKTe"], ["confirmation_sent_at", "2015-11-08 03:02:58.355881"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (2.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 163.9ms

Sent mail to bb@gmail.com (8.4ms)
Date: Sun, 08 Nov 2015 03:02:58 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ebb6282bfd_4e95eb7328104fd@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=YkwNp2TarDP3zhjvEKTe">Confirm my account</a></p>
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 03:02:58.539517"], ["updated_at", "2015-11-08 03:02:58.539517"]]
  [1m[35m (8.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:02:58.570336"], ["updated_at", "2015-11-08 03:02:58.570336"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 03:02:58.577782"], ["updated_at", "2015-11-08 03:02:58.578253"], ["id", 1]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 03:02:58.598965"], ["updated_at", "2015-11-08 03:02:58.598965"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (8.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:02:58.641498"], ["current_sign_in_at", "2015-11-08 03:02:58.641498"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:02:58.642304"], ["id", 1]]
  [1m[35m (10.1ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 610ms (ActiveRecord: 50.2ms)
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (7.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "h4z6oZykLkTyzDqr53SX"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "459ab6542f3d7015ea87348a64f995c70635eb1290d01f3a15ef43157bf9fe41"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$xXayZbW9W6udpMCx6vZDieOhQRVrYUww5RO4SlkpUegLrJ4L3ISkm"], ["authentication_token", "h4z6oZykLkTyzDqr53SX"], ["created_at", "2015-11-08 03:02:58.740198"], ["updated_at", "2015-11-08 03:02:58.740198"], ["confirmation_token", "yTxdgsxidqVYY-G4MX9-"], ["confirmation_sent_at", "2015-11-08 03:02:58.740966"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to bb@gmail.com (2.8ms)
Date: Sun, 08 Nov 2015 03:02:58 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563ebb62b6030_4e95eb732810546@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=yTxdgsxidqVYY-G4MX9-">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 03:02:58.747152"], ["updated_at", "2015-11-08 03:02:58.747152"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:02:58.757061"], ["updated_at", "2015-11-08 03:02:58.757061"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 03:02:58.765891"], ["updated_at", "2015-11-08 03:02:58.766324"], ["id", 1]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 03:02:58.776763"], ["updated_at", "2015-11-08 03:02:58.776763"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:02:58.797151"], ["current_sign_in_at", "2015-11-08 03:02:58.797151"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:02:58.797742"], ["id", 1]]
  [1m[35m (7.4ms)[0m  commit transaction
Redirected to http://something.test.host/
Completed 302 Found in 73ms (ActiveRecord: 45.8ms)
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))[0m  [["user_id", 1]]
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (23.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (1.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 146ms (Views: 137.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (3.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (45.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 49.5ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "s5gk773gHDPsx4TzSRKg"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "fede2e5c985c94b3cebf71518d770ef0ad017239fe7ffa3eefdb01bf47bde605"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$W4SgI7gBhAilL.oz0pjD0.XXZ4pGzdgTvRuZvK.ZFrY8yYu5vUXYO"], ["authentication_token", "s5gk773gHDPsx4TzSRKg"], ["created_at", "2015-11-08 03:02:59.300799"], ["updated_at", "2015-11-08 03:02:59.300799"], ["confirmation_token", "1-vy-sgA6U8S2DAnDusg"], ["confirmation_sent_at", "2015-11-08 03:02:59.301634"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.7ms

Sent mail to mtdevise@example.com (2.9ms)
Date: Sun, 08 Nov 2015 03:02:59 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563ebb634ad60_4e95eb7328106e6@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=1-vy-sgA6U8S2DAnDusg">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 03:02:59.308398"], ["updated_at", "2015-11-08 03:02:59.308398"]]
  [1m[35m (9.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:02:59.321080"], ["updated_at", "2015-11-08 03:02:59.321080"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 03:02:59.329998"], ["updated_at", "2015-11-08 03:02:59.330467"], ["id", 1]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 03:02:59.341270"], ["updated_at", "2015-11-08 03:02:59.341270"]]
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36mMtdevise::Role Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)  [["user_id", 1], ["role_id", 1]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:02:59.364393"], ["current_sign_in_at", "2015-11-08 03:02:59.364393"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:02:59.365164"], ["id", 1]]
  [1m[35m (7.4ms)[0m  commit transaction
Redirected to http://test.example.com/
Completed 302 Found in 84ms (ActiveRecord: 50.3ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.2ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (11.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 03:02:59.479867"], ["updated_at", "2015-11-08 03:02:59.479867"]]
  [1m[36m (8.7ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (4.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 6.2ms | ActiveRecord: 0.8ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (11.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 5.4ms | ActiveRecord: 0.8ms)
  [1m[35m (7.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (20.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 14ms (Views: 5.3ms | ActiveRecord: 0.7ms)
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "XFcYziy6psSFSuqaiDbp"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$8J8wiElTBUn3IDiblDlONOd7Sv.uiE4VEqE.ATFMiYWGUjp2o9ckW"], ["confirmed_at", "2015-11-08 03:02:59.840061"], ["authentication_token", "XFcYziy6psSFSuqaiDbp"], ["created_at", "2015-11-08 03:02:59.842314"], ["updated_at", "2015-11-08 03:02:59.842314"]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 03:02:59.851955"], ["updated_at", "2015-11-08 03:02:59.851955"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:02:59.862236"], ["updated_at", "2015-11-08 03:02:59.862236"]]
  [1m[35m (8.3ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:02:59 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 5.4ms | ActiveRecord: 0.8ms)
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (22.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "JPzywiDqhqiEtwnY5yhE"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$5cl.xM9yRc9DSPIEGcMp.uVU2JsH7hl/8UGDVf.C2MlicOkLT/cRq"], ["confirmed_at", "2015-11-08 03:02:59.999903"], ["authentication_token", "JPzywiDqhqiEtwnY5yhE"], ["created_at", "2015-11-08 03:03:00.002377"], ["updated_at", "2015-11-08 03:03:00.002377"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (9.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.3ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:00.043901"], ["current_sign_in_at", "2015-11-08 03:03:00.043901"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:00.044726"], ["id", 1]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 21ms (ActiveRecord: 8.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.3ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (21.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.0ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test2@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "2x8ZeU6x6qSGhyxuX2Qz"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test2@example.com"], ["encrypted_password", "$2a$04$4MAZvAlZ/GQQLz8.7Lh/xuMPEfu689mrPJYN7/O8X06DZC8Sssapy"], ["confirmed_at", "2015-11-08 03:03:00.196905"], ["authentication_token", "2x8ZeU6x6qSGhyxuX2Qz"], ["created_at", "2015-11-08 03:03:00.199253"], ["updated_at", "2015-11-08 03:03:00.199253"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:00.209548"], ["updated_at", "2015-11-08 03:03:00.209548"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:00.219133"], ["updated_at", "2015-11-08 03:03:00.219133"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test2@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "qqr3iqokw5vmmYBFsi1B"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$Fusbs0Q7w2Bxycx1CNoieeHInp.h/9ydDnBQjQmWqPnexT8HLwXGi"], ["confirmed_at", "2015-11-08 03:03:00.316481"], ["authentication_token", "qqr3iqokw5vmmYBFsi1B"], ["created_at", "2015-11-08 03:03:00.318834"], ["updated_at", "2015-11-08 03:03:00.318834"]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:00.329932"], ["updated_at", "2015-11-08 03:03:00.329932"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:00.340162"], ["updated_at", "2015-11-08 03:03:00.340162"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:00.364362"], ["current_sign_in_at", "2015-11-08 03:03:00.364362"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:00.365138"], ["id", 1]]
  [1m[36m (20.8ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 27ms (ActiveRecord: 21.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (7.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (9.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Bx8ii72uz82392GssJ8J"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$IC2hpROcw84Fi787YNNXvuj9ypJpGJul4UX3SrC0jk9siVzutiFXy"], ["confirmed_at", "2015-11-08 03:03:00.512352"], ["authentication_token", "Bx8ii72uz82392GssJ8J"], ["created_at", "2015-11-08 03:03:00.514832"], ["updated_at", "2015-11-08 03:03:00.514832"]]
  [1m[35m (7.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:00.526204"], ["updated_at", "2015-11-08 03:03:00.526204"]]
  [1m[36m (7.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:00.537018"], ["updated_at", "2015-11-08 03:03:00.537018"]]
  [1m[35m (7.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test5@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:03:00.560783"], ["current_sign_in_at", "2015-11-08 03:03:00.560783"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:00.561482"], ["id", 1]]
  [1m[35m (8.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 8.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (17.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test4"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 10ms (Views: 4.0ms | ActiveRecord: 0.7ms)
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "96iy3KoKvu4ccf5hgjKf"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$zcFmvnHkynH/TF.1metclOxjsMYEfqwA2hmdyaOc9BGse5fIQ.exW"], ["confirmed_at", "2015-11-08 03:03:00.690857"], ["authentication_token", "96iy3KoKvu4ccf5hgjKf"], ["created_at", "2015-11-08 03:03:00.693216"], ["updated_at", "2015-11-08 03:03:00.693216"]]
  [1m[36m (8.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:00.704981"], ["updated_at", "2015-11-08 03:03:00.704981"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:00.714677"], ["updated_at", "2015-11-08 03:03:00.714677"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test7@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test7@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:00.736828"], ["current_sign_in_at", "2015-11-08 03:03:00.736828"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:00.737603"], ["id", 1]]
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (12.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 21ms (Views: 15.2ms | ActiveRecord: 0.7ms)
  [1m[35m (7.5ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (22.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "8BPxsZCtpzzgMf6z38AW"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$.eqq5b1XE2WAx99X5uBaKuQYcmVhk1Bq3yD0t8eFNFNXc9fID8E1S"], ["confirmed_at", "2015-11-08 03:03:00.876883"], ["authentication_token", "8BPxsZCtpzzgMf6z38AW"], ["created_at", "2015-11-08 03:03:00.879404"], ["updated_at", "2015-11-08 03:03:00.879404"]]
  [1m[35m (7.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:00.891178"], ["updated_at", "2015-11-08 03:03:00.891178"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:00.901671"], ["updated_at", "2015-11-08 03:03:00.901671"]]
  [1m[35m (7.5ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (3.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test9@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test9@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:03:00.929016"], ["current_sign_in_at", "2015-11-08 03:03:00.929016"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:00.929808"], ["id", 1]]
  [1m[35m (6.5ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 6.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:03:00 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 03:03:00.963034"], ["updated_at", "2015-11-08 03:03:00.963034"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 03:03:00.974482"], ["updated_at", "2015-11-08 03:03:00.974482"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 03:03:00.983828"], ["id", 2]]
  [1m[36m (9.0ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 03:03:00.995212"], ["updated_at", "2015-11-08 03:03:00.995212"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (5.8ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 54ms (ActiveRecord: 37.2ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
  [1m[36m (15.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test11@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "xPoJZmZxdEkddX11MzRP"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test11@example.com"], ["encrypted_password", "$2a$04$fNqD3JS6HGxJrBMWyzJVN.ElyDTKn/f3yKpXvRHzzgZzV79xFn8M2"], ["confirmed_at", "2015-11-08 03:03:01.108697"], ["authentication_token", "xPoJZmZxdEkddX11MzRP"], ["created_at", "2015-11-08 03:03:01.111148"], ["updated_at", "2015-11-08 03:03:01.111148"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:01.121772"], ["updated_at", "2015-11-08 03:03:01.121772"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:01.131674"], ["updated_at", "2015-11-08 03:03:01.131674"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test11@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test11@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:01.156233"], ["current_sign_in_at", "2015-11-08 03:03:01.156233"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:01.157023"], ["id", 1]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 0.7ms)
  [1m[35m (6.8ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (9.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (20.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (10.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (12.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (18.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (21.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (19.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (14.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (17.9ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (17.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test13@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "o7smQFNmjaatdzyrb71R"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test13@example.com"], ["encrypted_password", "$2a$04$XCE0/K.WOV244Nzs50r43uoYsHmUyCSYuH.Rifr.9Wes7mUdOi1Zy"], ["confirmed_at", "2015-11-08 03:03:01.411883"], ["authentication_token", "o7smQFNmjaatdzyrb71R"], ["created_at", "2015-11-08 03:03:01.418822"], ["updated_at", "2015-11-08 03:03:01.418822"]]
  [1m[35m (16.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (7.0ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:01.440113"], ["updated_at", "2015-11-08 03:03:01.440113"]]
  [1m[36m (27.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:01.482740"], ["updated_at", "2015-11-08 03:03:01.482740"]]
  [1m[35m (14.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test8"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (10.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (2.6ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test8"]]
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test13@example.com"]]
Completed 401 Unauthorized in 9ms (ActiveRecord: 2.9ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test13@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (4.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[35m (17.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (17.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (16.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (15.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (17.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (17.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (27.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (11.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (14.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "9W5VNqfqusXKW5SDyQ_3"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$NtKkrPdh4hdCj9DEHBp/neoMO9lqlhxVRhbFwkIbpyduLtjvu2qqS"], ["confirmed_at", "2015-11-08 03:03:01.764221"], ["authentication_token", "9W5VNqfqusXKW5SDyQ_3"], ["created_at", "2015-11-08 03:03:01.767135"], ["updated_at", "2015-11-08 03:03:01.767135"]]
  [1m[35m (16.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.3ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:01.795024"], ["updated_at", "2015-11-08 03:03:01.795024"]]
  [1m[36m (21.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:01.820120"], ["updated_at", "2015-11-08 03:03:01.820120"]]
  [1m[35m (15.6ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test9"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test9"]]
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test14@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:03:01.864306"], ["current_sign_in_at", "2015-11-08 03:03:01.864306"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:01.865255"], ["id", 1]]
  [1m[35m (15.3ms)[0m  commit transaction
Redirected to http://test9.example.com/
Completed 302 Found in 24ms (ActiveRecord: 15.9ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:01 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test9"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (11.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (13.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.8ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (25.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (9.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (11.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (18.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test15@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "Kfu77MA7KxEJctstPYYG"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test15@example.com"], ["encrypted_password", "$2a$04$zu.91O14u3KwRShj2WvHzeKa4Ytn43TzI2q2mKnB4u7cSL0hRswUK"], ["confirmed_at", "2015-11-08 03:03:02.018991"], ["authentication_token", "Kfu77MA7KxEJctstPYYG"], ["created_at", "2015-11-08 03:03:02.025768"], ["updated_at", "2015-11-08 03:03:02.025768"]]
  [1m[36m (18.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (7.4ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:02.048377"], ["updated_at", "2015-11-08 03:03:02.048377"]]
  [1m[35m (14.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:02.073971"], ["updated_at", "2015-11-08 03:03:02.073971"]]
  [1m[36m (10.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "gvDvzmYqz7FsdnUGGUsP"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$jwpKhHvGUrscFEwLthBF8enpHa4XOr4bQPJ.ASajUU/scDLNBzaQO"], ["confirmed_at", "2015-11-08 03:03:02.088474"], ["authentication_token", "gvDvzmYqz7FsdnUGGUsP"], ["created_at", "2015-11-08 03:03:02.091182"], ["updated_at", "2015-11-08 03:03:02.091182"]]
  [1m[35m (9.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 2], ["created_at", "2015-11-08 03:03:02.105190"], ["updated_at", "2015-11-08 03:03:02.105190"]]
  [1m[36m (8.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:03:02.117522"], ["updated_at", "2015-11-08 03:03:02.117522"]]
  [1m[35m (7.5ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test10"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[36mMtdevise::Account Load (0.2ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test10"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test16@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test10"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test16@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test16@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (17.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test17@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Bvdyuw6S4uMgD_RkGGMB"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test17@example.com"], ["encrypted_password", "$2a$04$I6fwSNeDZMVervusm4SGA.1/YoTB96YfM2WxT2MBQxG42.VIZbeoK"], ["confirmed_at", "2015-11-08 03:03:02.241140"], ["authentication_token", "Bvdyuw6S4uMgD_RkGGMB"], ["created_at", "2015-11-08 03:03:02.243799"], ["updated_at", "2015-11-08 03:03:02.243799"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:02.254956"], ["updated_at", "2015-11-08 03:03:02.254956"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:02.263692"], ["updated_at", "2015-11-08 03:03:02.263692"]]
  [1m[35m (7.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test12"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test12"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test12"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (7.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (22.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (9.8ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "a8RXLs5rfhh3HxpsZQt2"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$ySG6goV2jhpu.cMoRfzosun/6ZRcMxHpcIs/19Zc33qO0l33SPj4i"], ["confirmed_at", "2015-11-08 03:03:02.431494"], ["authentication_token", "a8RXLs5rfhh3HxpsZQt2"], ["created_at", "2015-11-08 03:03:02.433911"], ["updated_at", "2015-11-08 03:03:02.433911"]]
  [1m[35m (7.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:02.444747"], ["updated_at", "2015-11-08 03:03:02.444747"]]
  [1m[36m (7.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:02.454674"], ["updated_at", "2015-11-08 03:03:02.454674"]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test19@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sTPWMdbYyaaNxET7uTf3"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test19@example.com"], ["encrypted_password", "$2a$04$bMZpF0fYWSu8wHGmUNSyH.LXF/Pw6MR.41PuCeHY4ete0MR5Lc5Iq"], ["confirmed_at", "2015-11-08 03:03:02.463460"], ["authentication_token", "sTPWMdbYyaaNxET7uTf3"], ["created_at", "2015-11-08 03:03:02.465452"], ["updated_at", "2015-11-08 03:03:02.465452"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 2], ["created_at", "2015-11-08 03:03:02.475721"], ["updated_at", "2015-11-08 03:03:02.475721"]]
  [1m[35m (7.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:03:02.485935"], ["updated_at", "2015-11-08 03:03:02.485935"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 03:03:02.498892"], ["updated_at", "2015-11-08 03:03:02.498892"]]
  [1m[35m (6.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 03:03:02.506654"], ["updated_at", "2015-11-08 03:03:02.506654"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test19@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test19@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:02.538905"], ["current_sign_in_at", "2015-11-08 03:03:02.538905"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:02.539787"], ["id", 2]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 25ms (ActiveRecord: 7.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test14"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.2ms)
  [1m[35m (7.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (21.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (9.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "Pxp-ipD6tZhMsV7R9eds"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$K1EnPOC/Bya2EujlXDyo3uKwnpM32Gtlhtz6P/tedSpnAonJt0nRe"], ["confirmed_at", "2015-11-08 03:03:02.664150"], ["authentication_token", "Pxp-ipD6tZhMsV7R9eds"], ["created_at", "2015-11-08 03:03:02.666627"], ["updated_at", "2015-11-08 03:03:02.666627"]]
  [1m[35m (5.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:02.676215"], ["updated_at", "2015-11-08 03:03:02.676215"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:02.685938"], ["updated_at", "2015-11-08 03:03:02.685938"]]
  [1m[35m (7.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test22@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "sxcQBLdd7LoyPxvy1VeV"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test22@example.com"], ["encrypted_password", "$2a$04$qsnWpoluCxUjTzfBBl705uIAhv1xKwlkrzLjMx2iZWNgKiAT2tnn."], ["confirmed_at", "2015-11-08 03:03:02.697559"], ["authentication_token", "sxcQBLdd7LoyPxvy1VeV"], ["created_at", "2015-11-08 03:03:02.699493"], ["updated_at", "2015-11-08 03:03:02.699493"]]
  [1m[36m (7.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 2], ["created_at", "2015-11-08 03:03:02.710039"], ["updated_at", "2015-11-08 03:03:02.710039"]]
  [1m[35m (7.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 03:03:02.720019"], ["updated_at", "2015-11-08 03:03:02.720019"]]
  [1m[36m (6.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 03:03:02.728636"], ["updated_at", "2015-11-08 03:03:02.728636"]]
  [1m[35m (7.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 03:03:02.737809"], ["updated_at", "2015-11-08 03:03:02.737809"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test21@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test21@example.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:02.760962"], ["current_sign_in_at", "2015-11-08 03:03:02.760962"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:02.761870"], ["id", 1]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 03:03:02 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test15"]]
Processing by ThingsController#index as HTML
  [1m[36mThing Load (0.1ms)[0m  [1mSELECT "things".* FROM "things" WHERE "things"."account_id" = ?[0m  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms)
  [1m[35m (7.9ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (21.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (11.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "-prvuPxb2VmzknunwTkU"]]
  [1m[36mMtdevise::User Load (0.0ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["confirmation_token", "d349fa49b4daabc1b917c481b8786269cdcfa70c8f99b03a4ac6b2f77bd076ea"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["email", "user@example.com"], ["encrypted_password", "$2a$04$iTdYI3M./K.CNrxbSCT8s.ARqbt76FrDJhEzdexqUj7zDjqvmUKlm"], ["authentication_token", "-prvuPxb2VmzknunwTkU"], ["created_at", "2015-11-08 03:03:02.928091"], ["updated_at", "2015-11-08 03:03:02.928091"], ["confirmation_token", "SAgf9oFzYBPHYeAF-S4X"], ["confirmation_sent_at", "2015-11-08 03:03:02.928916"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.4ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.9ms

Sent mail to user@example.com (3.1ms)
Date: Sun, 08 Nov 2015 03:03:02 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563ebb66e4061_4e95eb7328107fd@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=SAgf9oFzYBPHYeAF-S4X">Confirm my account</a></p>
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:02.935865"], ["updated_at", "2015-11-08 03:03:02.935865"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:02.946815"], ["updated_at", "2015-11-08 03:03:02.946815"]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["confirmed_at", "2015-11-08 03:03:02.953773"], ["updated_at", "2015-11-08 03:03:02.954213"], ["id", 1]]
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["account_id", 1]]
  [1m[35m (6.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (19.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "ay5xaHxVQMuWpNx5rpzY"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$2epuCiXti0naufaV40OABeb8Vjxti25IsNPrX8/y3m4e2563SqWIC"], ["confirmed_at", "2015-11-08 03:03:03.094368"], ["authentication_token", "ay5xaHxVQMuWpNx5rpzY"], ["created_at", "2015-11-08 03:03:03.096821"], ["updated_at", "2015-11-08 03:03:03.096821"]]
  [1m[35m (7.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 1], ["created_at", "2015-11-08 03:03:03.108432"], ["updated_at", "2015-11-08 03:03:03.108432"]]
  [1m[36m (7.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 03:03:03.118796"], ["updated_at", "2015-11-08 03:03:03.118796"]]
  [1m[35m (8.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 03:03:03.144832"], ["current_sign_in_at", "2015-11-08 03:03:03.144832"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:03.145754"], ["id", 1]]
  [1m[35m (6.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 13ms (ActiveRecord: 6.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (8.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (7.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (9.5ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (7.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (7.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (9.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (20.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "1Ghjp3LDA3uJ9rE-Dae1"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$k1cvKje2YF7ny300RdgULeKOiNCLa5EvmdAWkEOrwUwUHUEL1Ttle"], ["confirmed_at", "2015-11-08 03:03:03.489013"], ["authentication_token", "1Ghjp3LDA3uJ9rE-Dae1"], ["created_at", "2015-11-08 03:03:03.491465"], ["updated_at", "2015-11-08 03:03:03.491465"]]
  [1m[36m (7.7ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 03:03:03.516464"], ["current_sign_in_at", "2015-11-08 03:03:03.516464"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 03:03:03.517251"], ["id", 1]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 14ms (ActiveRecord: 7.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.2ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 03:03:03 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.1ms)
  [1m[36m (8.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test1@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "2DzMS9Dphyqp5szjdvJB"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test1@example.com"], ["encrypted_password", "$2a$04$zPf6J7/3wT0w57.r/Sx8leioF1rDq4i/TD3SPTOy0nJzzoIFL7opS"], ["confirmed_at", "2015-11-08 17:52:46.635022"], ["authentication_token", "2DzMS9Dphyqp5szjdvJB"], ["created_at", "2015-11-08 17:52:46.664076"], ["updated_at", "2015-11-08 17:52:46.664076"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test1' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #1' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #1"], ["subdomain", "test1"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:46.682445"], ["updated_at", "2015-11-08 17:52:46.682445"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:46.715843"], ["updated_at", "2015-11-08 17:52:46.715843"]]
  [1m[35m (5.0ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:46 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (96.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 362ms (Views: 348.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test1@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test1@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:47.121377"], ["current_sign_in_at", "2015-11-08 17:52:47.121377"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:47.122133"], ["id", 1]]
  [1m[35m (5.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 31ms (ActiveRecord: 5.8ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (4.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test3@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "2HuNMhsujzyUo4zGauwF"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test3@example.com"], ["encrypted_password", "$2a$04$5feBJqxOxAPDy0K9MmsV2eiz4wxPY9AwzUqIk42map01F3bm4H/t6"], ["confirmed_at", "2015-11-08 17:52:47.220076"], ["authentication_token", "2HuNMhsujzyUo4zGauwF"], ["created_at", "2015-11-08 17:52:47.222355"], ["updated_at", "2015-11-08 17:52:47.222355"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test2' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #2' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #2"], ["subdomain", "test2"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:47.230845"], ["updated_at", "2015-11-08 17:52:47.230845"]]
  [1m[35m (5.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:47.238465"], ["updated_at", "2015-11-08 17:52:47.238465"]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test3@example.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "aR6J_j32x7iwcm1mq4_T"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$eAVph5Lk2IlDIAqgTTMg8ummEKLvHSPlNMihzCinTbii0GJ/aChEi"], ["confirmed_at", "2015-11-08 17:52:47.362962"], ["authentication_token", "aR6J_j32x7iwcm1mq4_T"], ["created_at", "2015-11-08 17:52:47.365226"], ["updated_at", "2015-11-08 17:52:47.365226"]]
  [1m[36m (8.1ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:47.388392"], ["current_sign_in_at", "2015-11-08 17:52:47.388392"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:47.389088"], ["id", 1]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.7ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_logged_in_users_to_account_page rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (5.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (7.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'orbanbotond@gmail.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "ZJqnmoxMsXiXY-EQ2xc1"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "orbanbotond@gmail.com"], ["encrypted_password", "$2a$04$6RJ1HQw4c3CzORb0XDOkyeiHwewK7TJIFOKglODN0PnkowRkbj8/m"], ["confirmed_at", "2015-11-08 17:52:47.602761"], ["authentication_token", "ZJqnmoxMsXiXY-EQ2xc1"], ["created_at", "2015-11-08 17:52:47.604889"], ["updated_at", "2015-11-08 17:52:47.604889"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"orbanbotond@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "orbanbotond@gmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:47.626129"], ["current_sign_in_at", "2015-11-08 17:52:47.626129"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:47.626812"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.2ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
Redirected to http://example.com/accounts
Filter chain halted as :redirect_if_coming_form_sign_up rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (5.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (7.5ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:47 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "4WQ5B_S2duyq3g3YL-sa"]]
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "c93f02fee9fc7051a8cdd170971834bea1023544cc4e332990033bb9614b35ca"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "mtdevise@example.com"], ["encrypted_password", "$2a$04$PdK.dZt/yIwbGEbELyQnDOHvuCy7/jejoFw8iDcLEjTsa0IX9x3Vy"], ["authentication_token", "4WQ5B_S2duyq3g3YL-sa"], ["created_at", "2015-11-08 17:52:47.716166"], ["updated_at", "2015-11-08 17:52:47.716166"], ["confirmation_token", "RaUEs3v7pUAKkWxzed4E"], ["confirmation_sent_at", "2015-11-08 17:52:47.909780"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.7ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 204.4ms

Sent mail to mtdevise@example.com (12.1ms)
Date: Sun, 08 Nov 2015 17:52:48 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: mtdevise@example.com
Message-ID: <563f8bf020c85_21662d32472289@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome mtdevise@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=RaUEs3v7pUAKkWxzed4E">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:48.139406"], ["updated_at", "2015-11-08 17:52:48.139406"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:48.147981"], ["updated_at", "2015-11-08 17:52:48.147981"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 17:52:48.154305"], ["updated_at", "2015-11-08 17:52:48.154699"], ["id", 1]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.2ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 17:52:48.173052"], ["updated_at", "2015-11-08 17:52:48.173052"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.2ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:48.198108"], ["current_sign_in_at", "2015-11-08 17:52:48.198108"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:48.198765"], ["id", 1]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
Redirected to http://test.example.com/
Completed 302 Found in 497ms (ActiveRecord: 36.7ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[35mMtdevise::Account Load (0.2ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[35m (7.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("subdomain", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["subdomain", "test"], ["name", "Test"], ["created_at", "2015-11-08 17:52:48.287691"], ["updated_at", "2015-11-08 17:52:48.287691"]]
  [1m[35m (4.9ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (1.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (3.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "yc871B41a3ybSVzy1gF-"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test4@example.com"], ["encrypted_password", "$2a$04$V8iNpdMijrLC/VAP4d0bV.cc7Ag8E2.iMkvzduE5Z2pQiENzvYoCm"], ["confirmed_at", "2015-11-08 17:52:48.372816"], ["authentication_token", "yc871B41a3ybSVzy1gF-"], ["created_at", "2015-11-08 17:52:48.374783"], ["updated_at", "2015-11-08 17:52:48.374783"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test3' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #3' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #3"], ["subdomain", "test3"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:48.382813"], ["updated_at", "2015-11-08 17:52:48.382813"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:48.391928"], ["updated_at", "2015-11-08 17:52:48.391928"]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"another name", "owner_attributes"=>{"email"=>"test4@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"anothersubdomain"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test4@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'anothersubdomain' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'another name' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 4.4ms | ActiveRecord: 0.6ms)
  [1m[35m (6.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 0.7ms)
  [1m[35m (5.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::WelcomeController#index as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/welcome/index.html.erb within layouts/mtdevise/welcome (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started GET "/sign_up" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "owner_attributes"=>{"email"=>"mtdevise@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'mtdevise@example.com' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/users/_form.html.erb (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (2.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 4.4ms | ActiveRecord: 0.7ms)
  [1m[35m (7.6ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test5@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "xsT1xxrZU9hxYnF4m32Y"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test5@example.com"], ["encrypted_password", "$2a$04$TVbQ7V4C3kNSt2aa0Ehxhe0s.zpOcbHQrkL5teadH74S5r7OyuX0O"], ["confirmed_at", "2015-11-08 17:52:48.671897"], ["authentication_token", "xsT1xxrZU9hxYnF4m32Y"], ["created_at", "2015-11-08 17:52:48.673826"], ["updated_at", "2015-11-08 17:52:48.673826"]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test4' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #4' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #4"], ["subdomain", "test4"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:48.683588"], ["updated_at", "2015-11-08 17:52:48.683588"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:48.691674"], ["updated_at", "2015-11-08 17:52:48.691674"]]
  [1m[35m (7.7ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test4"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test4"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test4"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test4"]]
  [1m[36mMtdevise::User Load (0.3ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test5@example.com"]]
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test5@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (6.4ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test6@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "9B_ANf5wyGjjyi-rsvoW"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test6@example.com"], ["encrypted_password", "$2a$04$oNoAc7DdouHoSETyD8zBP.Y5pwTYrBCsqhfA2u8oXHvRTF5ZOHOwa"], ["confirmed_at", "2015-11-08 17:52:48.787568"], ["authentication_token", "9B_ANf5wyGjjyi-rsvoW"], ["created_at", "2015-11-08 17:52:48.789528"], ["updated_at", "2015-11-08 17:52:48.789528"]]
  [1m[35m (9.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test5' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #5' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #5"], ["subdomain", "test5"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:48.802435"], ["updated_at", "2015-11-08 17:52:48.802435"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:48.811663"], ["updated_at", "2015-11-08 17:52:48.811663"]]
  [1m[35m (5.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test5"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test5"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test5"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test6@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test5"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test6@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:48.834687"], ["current_sign_in_at", "2015-11-08 17:52:48.834687"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:48.835275"], ["id", 1]]
  [1m[35m (5.2ms)[0m  commit transaction
Redirected to http://test5.example.com/
Completed 302 Found in 11ms (ActiveRecord: 5.5ms)
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test5"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/account/dashboard/index.html.erb within layouts/mtdevise/dashboard (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_header.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.7ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test7@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "maTK8zAa7WFWDyyxMueJ"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test7@example.com"], ["encrypted_password", "$2a$04$OPXPwIjXnH6Njw2qO4IUvOJnhp9xCmszz1H90JU0VAloC2h8G29.."], ["confirmed_at", "2015-11-08 17:52:48.909141"], ["authentication_token", "maTK8zAa7WFWDyyxMueJ"], ["created_at", "2015-11-08 17:52:48.911048"], ["updated_at", "2015-11-08 17:52:48.911048"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test6' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #6' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #6"], ["subdomain", "test6"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:48.918896"], ["updated_at", "2015-11-08 17:52:48.918896"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:48.926580"], ["updated_at", "2015-11-08 17:52:48.926580"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test8@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "K6mLTYFhxiP_aKMgu2cR"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test8@example.com"], ["encrypted_password", "$2a$04$a8iODw07mEohm.tatIod1OqEBYD7EeZ9WiP9qQ2PZBzc33qziZVva"], ["confirmed_at", "2015-11-08 17:52:48.935957"], ["authentication_token", "K6mLTYFhxiP_aKMgu2cR"], ["created_at", "2015-11-08 17:52:48.937725"], ["updated_at", "2015-11-08 17:52:48.937725"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test7' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #7' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #7"], ["subdomain", "test7"], ["owner_id", 2], ["created_at", "2015-11-08 17:52:48.947390"], ["updated_at", "2015-11-08 17:52:48.947390"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 17:52:48.954616"], ["updated_at", "2015-11-08 17:52:48.954616"]]
  [1m[35m (5.2ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test6"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test6"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:48 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test6"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test8@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test6"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "test8@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.2ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test8@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (10.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test9@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "su-1d2aPyAF1PmkfM2A5"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test9@example.com"], ["encrypted_password", "$2a$04$.xVR8T8qTP8bpWKM.pnpP.WHIZYXjfjM.N9EOgIzAcwHXjBenJaa2"], ["confirmed_at", "2015-11-08 17:52:49.048279"], ["authentication_token", "su-1d2aPyAF1PmkfM2A5"], ["created_at", "2015-11-08 17:52:49.050212"], ["updated_at", "2015-11-08 17:52:49.050212"]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test8' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #8' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #8"], ["subdomain", "test8"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:49.059717"], ["updated_at", "2015-11-08 17:52:49.059717"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:49.067001"], ["updated_at", "2015-11-08 17:52:49.067001"]]
  [1m[35m (5.5ms)[0m  commit transaction
Started GET "/" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Mtdevise::Account::DashboardController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1  [["subdomain", "test8"]]
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test8"]]
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ? LIMIT 1  [["subdomain", "test8"]]
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ? AND "mtdevise_users"."email" = ? LIMIT 1[0m  [["account_id", 1], ["email", "foo@example.com"]]
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.1ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"foo@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (5.1ms)[0m  DELETE FROM "things";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.0ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.5ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.2ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (5.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (7.0ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test10@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "sCkvFMkJsN2KScjVxuCD"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test10@example.com"], ["encrypted_password", "$2a$04$EAjaauIE1ClsOIEd6qUmq.ygLmE8uN6uzEbahnhf5j8XN4I.vu2Re"], ["confirmed_at", "2015-11-08 17:52:49.279031"], ["authentication_token", "sCkvFMkJsN2KScjVxuCD"], ["created_at", "2015-11-08 17:52:49.280927"], ["updated_at", "2015-11-08 17:52:49.280927"]]
  [1m[35m (6.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test9' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #9' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #9"], ["subdomain", "test9"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:49.290617"], ["updated_at", "2015-11-08 17:52:49.290617"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:49.299181"], ["updated_at", "2015-11-08 17:52:49.299181"]]
  [1m[35m (4.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test10@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test10@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:49.317972"], ["current_sign_in_at", "2015-11-08 17:52:49.317972"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:49.318622"], ["id", 1]]
  [1m[35m (5.2ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (7.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'user@example.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "cGL5RjNjgWz8tK_4zoMT"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "ef3a33291c51f6c0e220028ec93d2d9679d36e009f3901b6dd1f06510b7044bb"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "user@example.com"], ["encrypted_password", "$2a$04$zrhJ.iruHfBx/MzfGx8UaOA9DJUz/ToiacvO/RXzCHlcznIMj7ErS"], ["authentication_token", "cGL5RjNjgWz8tK_4zoMT"], ["created_at", "2015-11-08 17:52:49.485564"], ["updated_at", "2015-11-08 17:52:49.485564"], ["confirmation_token", "LxTQna7MkBJfW-SyPcoq"], ["confirmation_sent_at", "2015-11-08 17:52:49.486160"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.2ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.4ms

Sent mail to user@example.com (2.1ms)
Date: Sun, 08 Nov 2015 17:52:49 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: user@example.com
Message-ID: <563f8bf177979_21662d324723aa@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome user@example.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=LxTQna7MkBJfW-SyPcoq">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account"], ["subdomain", "test"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:49.491201"], ["updated_at", "2015-11-08 17:52:49.491201"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:49.499033"], ["updated_at", "2015-11-08 17:52:49.499033"]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 17:52:49.505459"], ["updated_at", "2015-11-08 17:52:49.505850"], ["id", 1]]
  [1m[36m (8.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::User Load (0.2ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" INNER JOIN "mtdevise_members" ON "mtdevise_users"."id" = "mtdevise_members"."user_id" WHERE "mtdevise_members"."account_id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["account_id", 1]]
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test12@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "nJA1qPZvhyPraaV7HNCi"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test12@example.com"], ["encrypted_password", "$2a$04$HU/KOtIvt9muIIxYDw1xlOCYl3vTyGNphFdJOn07v29DJVDfsRwYS"], ["confirmed_at", "2015-11-08 17:52:49.610594"], ["authentication_token", "nJA1qPZvhyPraaV7HNCi"], ["created_at", "2015-11-08 17:52:49.612601"], ["updated_at", "2015-11-08 17:52:49.612601"]]
  [1m[36m (6.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test10' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #10' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #10"], ["subdomain", "test10"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:49.622105"], ["updated_at", "2015-11-08 17:52:49.622105"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:49.631124"], ["updated_at", "2015-11-08 17:52:49.631124"]]
  [1m[36m (4.8ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test12@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test12@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:49.650642"], ["current_sign_in_at", "2015-11-08 17:52:49.650642"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:49.651301"], ["id", 1]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 11ms (ActiveRecord: 5.4ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (13.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"<admin>"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = '<admin>' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.6ms)
  [1m[35m (6.7ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (9.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (5.2ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test14@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "vkaAYQJz_1ng4GNWUjTQ"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test14@example.com"], ["encrypted_password", "$2a$04$ITzAdW4CBNSCjqGHe/KIHOaO1sjJMzrxRmrDAlvuyEB8v.UrR5DRq"], ["confirmed_at", "2015-11-08 17:52:49.761686"], ["authentication_token", "vkaAYQJz_1ng4GNWUjTQ"], ["created_at", "2015-11-08 17:52:49.763814"], ["updated_at", "2015-11-08 17:52:49.763814"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #11' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #11"], ["subdomain", "test11"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:49.775462"], ["updated_at", "2015-11-08 17:52:49.775462"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:49.783228"], ["updated_at", "2015-11-08 17:52:49.783228"]]
  [1m[35m (5.1ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (5.6ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test14@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test14@example.com"]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:49.820154"], ["current_sign_in_at", "2015-11-08 17:52:49.820154"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:49.820957"], ["id", 1]]
  [1m[35m (6.6ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 16ms (ActiveRecord: 7.1ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test11"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test11' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.5ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.8ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.6ms)
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.4ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (7.2ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test16@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "7-YufrPb_yLovZoBJjy9"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test16@example.com"], ["encrypted_password", "$2a$04$FP4OXCagjIqgq.tbe7dhuej7v7SlSl6p3BCu32wN1W9yRPAMTyOL6"], ["confirmed_at", "2015-11-08 17:52:49.920269"], ["authentication_token", "7-YufrPb_yLovZoBJjy9"], ["created_at", "2015-11-08 17:52:49.922281"], ["updated_at", "2015-11-08 17:52:49.922281"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test12' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #12' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #12"], ["subdomain", "test12"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:49.931702"], ["updated_at", "2015-11-08 17:52:49.931702"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:49.939346"], ["updated_at", "2015-11-08 17:52:49.939346"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test16@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["email", "test16@example.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:49.959305"], ["current_sign_in_at", "2015-11-08 17:52:49.959305"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:49.959941"], ["id", 1]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.5ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?[0m  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:49 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"admin"}, "commit"=>"Create Account"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'admin' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.6ms)
Completed 200 OK in 9ms (Views: 4.0ms | ActiveRecord: 0.6ms)
  [1m[35m (6.2ms)[0m  DELETE FROM "things";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'things';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_accounts";[0m
  [1m[35m (0.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_accounts';[0m
  [1m[35m (8.4ms)[0m  DELETE FROM "mtdevise_users";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_members";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_members';[0m
  [1m[35m (5.2ms)[0m  DELETE FROM "mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_roles';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "mtdevise_users_mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test18@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "yQXdNRk8XVZYM_Rg2iK7"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test18@example.com"], ["encrypted_password", "$2a$04$c5I5i5F3M.gEWs3y6gYFbO5YdjGXE2BJ6s/lSG1D8/Yjbht5jTlaq"], ["confirmed_at", "2015-11-08 17:52:50.059287"], ["authentication_token", "yQXdNRk8XVZYM_Rg2iK7"], ["created_at", "2015-11-08 17:52:50.061519"], ["updated_at", "2015-11-08 17:52:50.061519"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test13' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #13' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #13"], ["subdomain", "test13"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:50.071489"], ["updated_at", "2015-11-08 17:52:50.071489"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:50.079027"], ["updated_at", "2015-11-08 17:52:50.079027"]]
  [1m[35m (4.9ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.3ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (1.9ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test18@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test18@example.com"]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:50.099340"], ["current_sign_in_at", "2015-11-08 17:52:50.099340"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:50.100031"], ["id", 1]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
Started GET "/accounts/new" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Mtdevise::AccountsController#new as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/new.html.erb within layouts/mtdevise/accounts (1.2ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started POST "/accounts" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"utf8"=>"✓", "account"=>{"name"=>"Test", "subdomain"=>"test"}, "commit"=>"Create Account"}
  [1m[35mMtdevise::User Load (0.1ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Test"], ["subdomain", "test"], ["created_at", "2015-11-08 17:52:50.127127"], ["updated_at", "2015-11-08 17:52:50.127127"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 1], ["created_at", "2015-11-08 17:52:50.135859"], ["updated_at", "2015-11-08 17:52:50.135859"]]
  [1m[35m (5.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'test' AND "mtdevise_accounts"."id" != 2) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test' AND "mtdevise_accounts"."id" != 2 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "mtdevise_accounts" SET "owner_id" = ?, "updated_at" = ? WHERE "mtdevise_accounts"."id" = ?  [["owner_id", 1], ["updated_at", "2015-11-08 17:52:50.143928"], ["id", 2]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 2], ["created_at", "2015-11-08 17:52:50.151065"], ["updated_at", "2015-11-08 17:52:50.151065"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.4ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 43ms (ActiveRecord: 28.9ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (7.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.0ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.6ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test20@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "zEQQx3cwprnzTsH9e7n4"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test20@example.com"], ["encrypted_password", "$2a$04$QI1BVJgCuU4Gb252REo8sOnhP9YvtDUKFy6BafvTdNQD/0We6U4JW"], ["confirmed_at", "2015-11-08 17:52:50.276888"], ["authentication_token", "zEQQx3cwprnzTsH9e7n4"], ["created_at", "2015-11-08 17:52:50.278915"], ["updated_at", "2015-11-08 17:52:50.278915"]]
  [1m[36m (5.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test14' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #14' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #14"], ["subdomain", "test14"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:50.287117"], ["updated_at", "2015-11-08 17:52:50.287117"]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:50.294357"], ["updated_at", "2015-11-08 17:52:50.294357"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test21@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "dvxFuQ3KfzSjW3RFX3nK"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test21@example.com"], ["encrypted_password", "$2a$04$M9XuJADQlF.xJqAg8sZKee5/5wXGvMmeK3Kuf4MZsTWtVqXpPsn0q"], ["confirmed_at", "2015-11-08 17:52:50.303548"], ["authentication_token", "dvxFuQ3KfzSjW3RFX3nK"], ["created_at", "2015-11-08 17:52:50.305219"], ["updated_at", "2015-11-08 17:52:50.305219"]]
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test15' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #15' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #15"], ["subdomain", "test15"], ["owner_id", 2], ["created_at", "2015-11-08 17:52:50.314739"], ["updated_at", "2015-11-08 17:52:50.314739"]]
  [1m[36m (5.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 17:52:50.322288"], ["updated_at", "2015-11-08 17:52:50.322288"]]
  [1m[35m (8.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 17:52:50.335720"], ["updated_at", "2015-11-08 17:52:50.335720"]]
  [1m[36m (5.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 17:52:50.342088"], ["updated_at", "2015-11-08 17:52:50.342088"]]
  [1m[35m (6.2ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test20@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test20@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:50.363852"], ["current_sign_in_at", "2015-11-08 17:52:50.363852"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:50.364487"], ["id", 1]]
  [1m[35m (6.3ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.6ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 1]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test14"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 1]]
  Rendered things/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.1ms)
  [1m[36m (6.3ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.5ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.3ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test23@example.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "i_3-sCxGX_h-o5EtrPh7"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["email", "test23@example.com"], ["encrypted_password", "$2a$04$IhFM09S32RkEsFAp6XG4X.g7o.REA2jqLUiASnaTBTWrbNSKQmEHi"], ["confirmed_at", "2015-11-08 17:52:50.467570"], ["authentication_token", "i_3-sCxGX_h-o5EtrPh7"], ["created_at", "2015-11-08 17:52:50.469614"], ["updated_at", "2015-11-08 17:52:50.469614"]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test16' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #16' AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Test Account #16"], ["subdomain", "test16"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:50.479674"], ["updated_at", "2015-11-08 17:52:50.479674"]]
  [1m[35m (5.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:50.487350"], ["updated_at", "2015-11-08 17:52:50.487350"]]
  [1m[36m (5.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMtdevise::User Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'test24@example.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?  [["authentication_token", "6PS1hw7b2qu2yeMtbzvk"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "confirmed_at", "authentication_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["email", "test24@example.com"], ["encrypted_password", "$2a$04$ySm0yK8eRMnVuI9fAGTcmedzoKqvUj7or6sCA4czzSZiMYwneV1iO"], ["confirmed_at", "2015-11-08 17:52:50.495859"], ["authentication_token", "6PS1hw7b2qu2yeMtbzvk"], ["created_at", "2015-11-08 17:52:50.497553"], ["updated_at", "2015-11-08 17:52:50.497553"]]
  [1m[35m (6.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'test17' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'Test Account #17' AND "mtdevise_accounts"."owner_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Test Account #17"], ["subdomain", "test17"], ["owner_id", 2], ["created_at", "2015-11-08 17:52:50.506889"], ["updated_at", "2015-11-08 17:52:50.506889"]]
  [1m[36m (4.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["user_id", 2], ["created_at", "2015-11-08 17:52:50.514174"], ["updated_at", "2015-11-08 17:52:50.514174"]]
  [1m[35m (6.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 1], ["name", "Account A's Thing"], ["created_at", "2015-11-08 17:52:50.522438"], ["updated_at", "2015-11-08 17:52:50.522438"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "things" ("account_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 2], ["name", "Account B's Thing"], ["created_at", "2015-11-08 17:52:50.529919"], ["updated_at", "2015-11-08 17:52:50.529919"]]
  [1m[35m (7.8ms)[0m  commit transaction
Started GET "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Devise::SessionsController#new as HTML
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_validation.html.erb (0.0ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/shared/_links.html.erb (0.4ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/sessions/new.html.erb within layouts/mtdevise/application (2.1ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users/sign_in" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"email"=>"test24@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Sign-In"}
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."email" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["email", "test24@example.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?[0m  [["last_sign_in_at", "2015-11-08 17:52:50.553456"], ["current_sign_in_at", "2015-11-08 17:52:50.553456"], ["last_sign_in_ip", "127.0.0.1"], ["current_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:50.554110"], ["id", 2]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://example.com/accounts
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)
Started GET "/accounts" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
Processing by Mtdevise::AccountsController#index as HTML
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."owner_id" = ?  [["owner_id", 2]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/mtdevise/accounts/index.html.erb within layouts/mtdevise/accounts (0.7ms)
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/shared/_flash.html.erb (0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started GET "/things" for 127.0.0.1 at 2015-11-08 17:52:50 +0000
  [1m[36mMtdevise::Account Load (0.1ms)[0m  [1mSELECT  "mtdevise_accounts".* FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = ?  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1[0m  [["subdomain", "test17"]]
Processing by ThingsController#index as HTML
  [1m[35mThing Load (0.1ms)[0m  SELECT "things".* FROM "things" WHERE "things"."account_id" = ?  [["account_id", 2]]
  Rendered things/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[36m (5.1ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.8ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (6.5ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (6.9ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (8.3ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
  [1m[36m (6.2ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (5.1ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "qzi62frWaGDunNBAJYug"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "02b2aaad0340932ac17c077846abcf32626f0004ad4ca46ce3b499a1308ea6d6"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$EVOx9M4498Tb8qERVRaTqe9Q85T9KpaO8CCERzvEuLBYOWqxoOIBC"], ["authentication_token", "qzi62frWaGDunNBAJYug"], ["created_at", "2015-11-08 17:52:50.703131"], ["updated_at", "2015-11-08 17:52:50.703131"], ["confirmation_token", "ziHzMqAENzRCR37kvGCU"], ["confirmation_sent_at", "2015-11-08 17:52:50.703874"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.6ms

Sent mail to bb@gmail.com (2.3ms)
Date: Sun, 08 Nov 2015 17:52:50 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563f8bf2acd47_21662d324724a3@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=ziHzMqAENzRCR37kvGCU">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:50.709315"], ["updated_at", "2015-11-08 17:52:50.709315"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:50.717944"], ["updated_at", "2015-11-08 17:52:50.717944"]]
  [1m[35m (6.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 17:52:50.725582"], ["updated_at", "2015-11-08 17:52:50.725989"], ["id", 1]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 17:52:50.735743"], ["updated_at", "2015-11-08 17:52:50.735743"]]
  [1m[36m (8.6ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:50.755843"], ["current_sign_in_at", "2015-11-08 17:52:50.755843"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:50.756346"], ["id", 1]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 67ms (ActiveRecord: 42.0ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.2ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.2ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.0ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.3ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (6.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (5.0ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (4.9ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
Processing by Mtdevise::AccountsController#create as HTML
  Parameters: {"account"=>{"name"=>"something", "subdomain"=>"something", "owner_attributes"=>{"email"=>"bb@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mMtdevise::User Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_users" WHERE "mtdevise_users"."email" = 'bb@gmail.com' LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE "mtdevise_accounts"."subdomain" = 'something' LIMIT 1[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."owner_id" IS NULL) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "mtdevise_users" WHERE "mtdevise_users"."authentication_token" = ?[0m  [["authentication_token", "n1BgMSZdwRvwJCx-QX2-"]]
  [1m[35mMtdevise::User Load (0.0ms)[0m  SELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."confirmation_token" = ?  ORDER BY "mtdevise_users"."id" ASC LIMIT 1  [["confirmation_token", "32cf159233be0589ad81082e3c8b9945ce13f9f16c04b8b32781185d282dfd72"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "mtdevise_users" ("email", "encrypted_password", "authentication_token", "created_at", "updated_at", "confirmation_token", "confirmation_sent_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["email", "bb@gmail.com"], ["encrypted_password", "$2a$04$.WlvGZMhecxR5EAwAaTLI.XV0SMq7qW6RMiAWgUlHx7Qmpb/eY.N2"], ["authentication_token", "n1BgMSZdwRvwJCx-QX2-"], ["created_at", "2015-11-08 17:52:50.834216"], ["updated_at", "2015-11-08 17:52:50.834216"], ["confirmation_token", "BgHxzzZ8MjDwcsHxbtGB"], ["confirmation_sent_at", "2015-11-08 17:52:50.834904"]]
  Rendered /home/nitrous/code/multi-tenancy-devise/app/views/devise/mailer/confirmation_instructions.html.erb (0.3ms)

Devise::Mailer#confirmation_instructions: processed outbound mail in 1.5ms

Sent mail to bb@gmail.com (2.3ms)
Date: Sun, 08 Nov 2015 17:52:50 +0000
From: multi-tenancy@phcnetworks.net
Reply-To: multi-tenancy@phcnetworks.net
To: bb@gmail.com
Message-ID: <563f8bf2ccca5_21662d3247258@development-139532.mail>
Subject: Confirmation instructions
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>Welcome bb@gmail.com!</p>
<p>You can confirm your account through the link below:</p>
<p><a href="http://localhost/users/confirmation?confirmation_token=BgHxzzZ8MjDwcsHxbtGB">Confirm my account</a></p>
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "mtdevise_accounts" ("name", "subdomain", "owner_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "something"], ["subdomain", "something"], ["owner_id", 1], ["created_at", "2015-11-08 17:52:50.840292"], ["updated_at", "2015-11-08 17:52:50.840292"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_members" ("account_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 1], ["user_id", 1], ["created_at", "2015-11-08 17:52:50.849186"], ["updated_at", "2015-11-08 17:52:50.849186"]]
  [1m[35m (5.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "confirmed_at" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["confirmed_at", "2015-11-08 17:52:50.856011"], ["updated_at", "2015-11-08 17:52:50.856438"], ["id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Account Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."subdomain" = 'something' AND "mtdevise_accounts"."id" != 1) LIMIT 1
  [1m[36mMtdevise::Account Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "mtdevise_accounts" WHERE ("mtdevise_accounts"."name" = 'something' AND "mtdevise_accounts"."id" != 1 AND "mtdevise_accounts"."owner_id" = 1) LIMIT 1[0m
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."name" = ? AND "mtdevise_roles"."resource_type" = ? AND "mtdevise_roles"."resource_id" = ?  ORDER BY "mtdevise_roles"."id" ASC LIMIT 1  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "mtdevise_roles" ("name", "resource_type", "resource_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "admin"], ["resource_type", "Mtdevise::Account"], ["resource_id", 1], ["created_at", "2015-11-08 17:52:50.866303"], ["updated_at", "2015-11-08 17:52:50.866303"]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35mMtdevise::Role Exists (0.1ms)[0m  SELECT  1 AS one FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND "mtdevise_roles"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "mtdevise_roles".id FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT  "mtdevise_roles".* FROM "mtdevise_roles" WHERE "mtdevise_roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMtdevise::Role Load (0.1ms)[0m  [1mSELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "mtdevise_users_mtdevise_roles" ("user_id", "role_id") VALUES (?, ?)[0m  [["user_id", 1], ["role_id", 1]]
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "mtdevise_users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "mtdevise_users"."id" = ?  [["last_sign_in_at", "2015-11-08 17:52:50.884091"], ["current_sign_in_at", "2015-11-08 17:52:50.884091"], ["last_sign_in_ip", "0.0.0.0"], ["current_sign_in_ip", "0.0.0.0"], ["sign_in_count", 1], ["updated_at", "2015-11-08 17:52:50.884596"], ["id", 1]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://something.test.host/
Completed 302 Found in 64ms (ActiveRecord: 39.3ms)
  [1m[35mMtdevise::Account Load (0.1ms)[0m  SELECT  "mtdevise_accounts".* FROM "mtdevise_accounts"  ORDER BY "mtdevise_accounts"."id" ASC LIMIT 1
  [1m[36mMtdevise::User Load (0.1ms)[0m  [1mSELECT  "mtdevise_users".* FROM "mtdevise_users" WHERE "mtdevise_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMtdevise::Role Load (0.1ms)[0m  SELECT "mtdevise_roles".* FROM "mtdevise_roles" INNER JOIN "mtdevise_users_mtdevise_roles" ON "mtdevise_roles"."id" = "mtdevise_users_mtdevise_roles"."role_id" WHERE "mtdevise_users_mtdevise_roles"."user_id" = ? AND ((((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type IS NULL) AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id IS NULL)) OR ((mtdevise_roles.name = 'admin') AND (mtdevise_roles.resource_type = 'Mtdevise::Account') AND (mtdevise_roles.resource_id = 1))))  [["user_id", 1]]
  [1m[36m (6.4ms)[0m  [1mDELETE FROM "things";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'things';[0m
  [1m[35m (6.6ms)[0m  DELETE FROM "mtdevise_accounts";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (4.6ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_accounts';
  [1m[36m (4.9ms)[0m  [1mDELETE FROM "mtdevise_users";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (6.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_users';[0m
  [1m[35m (4.7ms)[0m  DELETE FROM "mtdevise_members";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (5.9ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_members';
  [1m[36m (4.8ms)[0m  [1mDELETE FROM "mtdevise_roles";[0m
  [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
  [1m[36m (8.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'mtdevise_roles';[0m
  [1m[35m (6.4ms)[0m  DELETE FROM "mtdevise_users_mtdevise_roles";
  [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'mtdevise_users_mtdevise_roles';
